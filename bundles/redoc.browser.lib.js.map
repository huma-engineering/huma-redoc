{"version":3,"sources":["webpack://Redoc/webpack/universalModuleDefinition","webpack://Redoc/./node_modules/oas-kit-common/index.js","webpack://Redoc/./node_modules/oas-resolver/index.js","webpack://Redoc/./node_modules/oas-schema-walker/index.js","webpack://Redoc/./node_modules/reftools/lib/clone.js","webpack://Redoc/./node_modules/reftools/lib/dereference.js","webpack://Redoc/./node_modules/reftools/lib/isref.js","webpack://Redoc/./node_modules/reftools/lib/jptr.js","webpack://Redoc/./node_modules/reftools/lib/recurse.js","webpack://Redoc/./node_modules/swagger2openapi/index.js","webpack://Redoc/./node_modules/swagger2openapi/lib/statusCodes.js","webpack://Redoc/./src/empty.js","webpack://Redoc/./src/services/SearchWorker.worker.ts","webpack://Redoc/external \"lunr\"","webpack://Redoc/./node_modules/perfect-scrollbar/css/perfect-scrollbar.css","webpack://Redoc/./node_modules/css-loader/dist/runtime/api.js","webpack://Redoc/./node_modules/path-browserify/index.js","webpack://Redoc/./src/services/SearchWorker.worker.ts?6ecf","webpack://Redoc/./node_modules/workerize-loader/dist/rpc-wrapper.js","webpack://Redoc/external \"@babel/runtime/helpers/asyncToGenerator\"","webpack://Redoc/external \"@babel/runtime/helpers/classCallCheck\"","webpack://Redoc/external \"@babel/runtime/helpers/createForOfIteratorHelper\"","webpack://Redoc/external \"@babel/runtime/helpers/createSuper\"","webpack://Redoc/external \"@babel/runtime/helpers/defineProperty\"","webpack://Redoc/external \"@babel/runtime/helpers/inherits\"","webpack://Redoc/external \"@babel/runtime/helpers/toConsumableArray\"","webpack://Redoc/external \"@babel/runtime/helpers/wrapNativeSuper\"","webpack://Redoc/external \"@babel/runtime/regenerator\"","webpack://Redoc/external \"call-me-maybe\"","webpack://Redoc/external \"fast-safe-stringify\"","webpack://Redoc/external \"stickyfill\"","webpack://Redoc/external \"undefined\"","webpack://Redoc/external \"url\"","webpack://Redoc/external \"yaml\"","webpack://Redoc/webpack/bootstrap","webpack://Redoc/webpack/runtime/compat get default export","webpack://Redoc/webpack/runtime/define property getters","webpack://Redoc/webpack/runtime/global","webpack://Redoc/webpack/runtime/hasOwnProperty shorthand","webpack://Redoc/webpack/runtime/make namespace object","webpack://Redoc/external \"react\"","webpack://Redoc/external \"@babel/runtime/helpers/objectSpread2\"","webpack://Redoc/external \"@babel/runtime/helpers/createClass\"","webpack://Redoc/external \"polished\"","webpack://Redoc/./src/theme.ts","webpack://Redoc/./src/utils/dom.ts","webpack://Redoc/external \"slugify\"","webpack://Redoc/./src/utils/helpers.ts","webpack://Redoc/./src/services/Labels.ts","webpack://Redoc/./src/services/RedocNormalizedOptions.ts","webpack://Redoc/external \"@babel/runtime/helpers/taggedTemplateLiteral\"","webpack://Redoc/./src/styled-components.ts","webpack://Redoc/external \"styled-components\"","webpack://Redoc/./src/components/ErrorBoundary.tsx","webpack://Redoc/./src/components/Loading/Spinner.svg.tsx","webpack://Redoc/./src/components/Loading/Loading.tsx","webpack://Redoc/external \"@babel/runtime/helpers/assertThisInitialized\"","webpack://Redoc/external \"prop-types\"","webpack://Redoc/./src/components/OptionsProvider.ts","webpack://Redoc/external \"mobx\"","webpack://Redoc/external \"@redocly/openapi-core/lib/bundle\"","webpack://Redoc/external \"@redocly/openapi-core/lib/config/config\"","webpack://Redoc/./src/utils/loadAndBundleSpec.ts","webpack://Redoc/external \"@babel/runtime/helpers/applyDecoratedDescriptor\"","webpack://Redoc/external \"decko\"","webpack://Redoc/external \"eventemitter3\"","webpack://Redoc/external \"json-pointer\"","webpack://Redoc/./src/utils/JsonPointer.ts","webpack://Redoc/external \"url-template\"","webpack://Redoc/./src/utils/openapi.ts","webpack://Redoc/external \"prismjs\"","webpack://Redoc/./src/utils/highlight.ts","webpack://Redoc/external \"prismjs/components/prism-bash.js\"","webpack://Redoc/external \"prismjs/components/prism-c.js\"","webpack://Redoc/external \"prismjs/components/prism-clike.js\"","webpack://Redoc/external \"prismjs/components/prism-coffeescript.js\"","webpack://Redoc/external \"prismjs/components/prism-cpp.js\"","webpack://Redoc/external \"prismjs/components/prism-csharp.js\"","webpack://Redoc/external \"prismjs/components/prism-go.js\"","webpack://Redoc/external \"prismjs/components/prism-http.js\"","webpack://Redoc/external \"prismjs/components/prism-java.js\"","webpack://Redoc/external \"prismjs/components/prism-lua.js\"","webpack://Redoc/external \"prismjs/components/prism-markup-templating.js\"","webpack://Redoc/external \"prismjs/components/prism-markup.js\"","webpack://Redoc/external \"prismjs/components/prism-objectivec.js\"","webpack://Redoc/external \"prismjs/components/prism-perl.js\"","webpack://Redoc/external \"prismjs/components/prism-php.js\"","webpack://Redoc/external \"prismjs/components/prism-python.js\"","webpack://Redoc/external \"prismjs/components/prism-q.js\"","webpack://Redoc/external \"prismjs/components/prism-ruby.js\"","webpack://Redoc/external \"prismjs/components/prism-scala.js\"","webpack://Redoc/external \"prismjs/components/prism-sql.js\"","webpack://Redoc/external \"prismjs/components/prism-swift.js\"","webpack://Redoc/external \"prismjs/components/prism-yaml.js\"","webpack://Redoc/./src/utils/decorators.ts","webpack://Redoc/./src/utils/debug.ts","webpack://Redoc/./src/utils/memoize.ts","webpack://Redoc/./src/services/HistoryService.ts","webpack://Redoc/external \"mark.js\"","webpack://Redoc/./src/services/MarkerService.ts","webpack://Redoc/external \"@babel/runtime/helpers/initializerDefineProperty\"","webpack://Redoc/external \"marked\"","webpack://Redoc/external \"@babel/runtime/helpers/initializerWarningHelper\"","webpack://Redoc/./src/services/MarkdownRenderer.ts","webpack://Redoc/./src/services/models/ApiInfo.ts","webpack://Redoc/./src/services/models/SecurityRequirement.ts","webpack://Redoc/./src/services/models/Callback.ts","webpack://Redoc/./src/services/models/Schema.ts","webpack://Redoc/./src/services/models/Example.ts","webpack://Redoc/./src/services/models/Field.ts","webpack://Redoc/external \"openapi-sampler\"","webpack://Redoc/./src/services/models/MediaType.ts","webpack://Redoc/./src/services/models/MediaContent.ts","webpack://Redoc/./src/services/models/RequestBody.ts","webpack://Redoc/./src/services/models/Response.ts","webpack://Redoc/./src/services/models/Operation.ts","webpack://Redoc/./src/services/models/Webhook.ts","webpack://Redoc/./src/services/models/SecuritySchemes.ts","webpack://Redoc/external \"@babel/runtime/helpers/objectWithoutProperties\"","webpack://Redoc/./src/services/OpenAPIParser.ts","webpack://Redoc/./src/services/SpecStore.ts","webpack://Redoc/./src/services/models/Group.model.ts","webpack://Redoc/./src/services/MenuBuilder.ts","webpack://Redoc/./src/services/MenuStore.ts","webpack://Redoc/./src/services/ScrollService.ts","webpack://Redoc/./src/services/SearchStore.ts","webpack://Redoc/external \"@babel/runtime/helpers/extends\"","webpack://Redoc/./src/common-elements/panels.ts","webpack://Redoc/./src/common-elements/headers.ts","webpack://Redoc/external \"@babel/runtime/helpers/slicedToArray\"","webpack://Redoc/./src/components/StoreBuilder.ts","webpack://Redoc/./src/common-elements/linkify.tsx","webpack://Redoc/./src/common-elements/shelfs.tsx","webpack://Redoc/./src/common-elements/mixins.ts","webpack://Redoc/./src/common-elements/fields-layout.ts","webpack://Redoc/./src/common-elements/schema.ts","webpack://Redoc/external \"@redocly/react-dropdown-aria\"","webpack://Redoc/./src/common-elements/dropdown.ts","webpack://Redoc/external \"react-tabs\"","webpack://Redoc/./src/common-elements/tabs.ts","webpack://Redoc/./src/common-elements/PrismDiv.tsx","webpack://Redoc/./src/common-elements/samples.tsx","webpack://Redoc/external \"perfect-scrollbar\"","webpack://Redoc/./src/common-elements/perfect-scrollbar.tsx","webpack://Redoc/./src/common-elements/buttons.ts","webpack://Redoc/./src/common-elements/code.ts","webpack://Redoc/./src/common-elements/icons.tsx","webpack://Redoc/./src/common-elements/badge.ts","webpack://Redoc/./src/components/DropdownOrLabel/DropdownOrLabel.tsx","webpack://Redoc/external \"dompurify\"","webpack://Redoc/./src/components/Markdown/styled.elements.tsx","webpack://Redoc/./src/components/Markdown/SanitizedMdBlock.tsx","webpack://Redoc/./src/components/Markdown/Markdown.tsx","webpack://Redoc/./src/common-elements/Tooltip.tsx","webpack://Redoc/./src/services/ClipboardService.ts","webpack://Redoc/./src/common-elements/CopyButtonWrapper.tsx","webpack://Redoc/./src/utils/jsonToHtml.ts","webpack://Redoc/./src/components/JsonViewer/style.ts","webpack://Redoc/./src/components/JsonViewer/JsonViewer.tsx","webpack://Redoc/./src/components/SourceCode/SourceCode.tsx","webpack://Redoc/./src/components/PayloadSamples/ExampleValue.tsx","webpack://Redoc/./src/components/PayloadSamples/Example.tsx","webpack://Redoc/./src/components/PayloadSamples/exernalExampleHook.ts","webpack://Redoc/./src/components/PayloadSamples/styled.elements.ts","webpack://Redoc/./src/components/PayloadSamples/MediaTypeSamples.tsx","webpack://Redoc/external \"mobx-react\"","webpack://Redoc/./src/common-elements/fields.ts","webpack://Redoc/./src/components/ExternalDocumentation/ExternalDocumentation.tsx","webpack://Redoc/./src/components/Fields/EnumValues.tsx","webpack://Redoc/./src/components/Fields/Extensions.tsx","webpack://Redoc/./src/components/Fields/FieldContstraints.tsx","webpack://Redoc/./src/components/Fields/FieldDetail.tsx","webpack://Redoc/./src/components/Fields/FieldDetails.tsx","webpack://Redoc/./src/components/Schema/ArraySchema.tsx","webpack://Redoc/./src/components/Fields/Field.tsx","webpack://Redoc/./src/components/Schema/DiscriminatorDropdown.tsx","webpack://Redoc/./src/components/Schema/ObjectSchema.tsx","webpack://Redoc/./src/components/Schema/OneOfSchema.tsx","webpack://Redoc/./src/components/Schema/Schema.tsx","webpack://Redoc/./src/components/SchemaDefinition/SchemaDefinition.tsx","webpack://Redoc/./src/components/SecuritySchemes/SecuritySchemes.tsx","webpack://Redoc/./src/services/AppStore.ts","webpack://Redoc/./src/components/ApiInfo/styled.elements.ts","webpack://Redoc/./src/components/ApiInfo/ApiInfo.tsx","webpack://Redoc/./src/components/Markdown/AdvancedMarkdown.tsx","webpack://Redoc/./src/components/Callbacks/CallbackTitle.tsx","webpack://Redoc/./src/components/Callbacks/styled.elements.ts","webpack://Redoc/./src/components/SelectOnClick/SelectOnClick.tsx","webpack://Redoc/./src/components/Endpoint/styled.elements.ts","webpack://Redoc/./src/components/Endpoint/Endpoint.tsx","webpack://Redoc/./src/components/Parameters/ParametersGroup.tsx","webpack://Redoc/./src/components/MediaTypeSwitch/MediaTypesSwitch.tsx","webpack://Redoc/./src/components/Parameters/Parameters.tsx","webpack://Redoc/./src/components/Responses/ResponseTitle.tsx","webpack://Redoc/./src/components/Responses/styled.elements.ts","webpack://Redoc/./src/components/Responses/ResponseHeaders.tsx","webpack://Redoc/./src/components/Responses/ResponseDetails.tsx","webpack://Redoc/./src/components/Responses/Response.tsx","webpack://Redoc/./src/components/Responses/ResponsesList.tsx","webpack://Redoc/./src/components/SecurityRequirement/SecurityRequirement.tsx","webpack://Redoc/./src/components/Callbacks/CallbackDetails.tsx","webpack://Redoc/./src/components/Callbacks/CallbackOperation.tsx","webpack://Redoc/./src/components/Callbacks/CallbacksList.tsx","webpack://Redoc/./src/components/GenericChildrenSwitcher/GenericChildrenSwitcher.tsx","webpack://Redoc/./src/components/PayloadSamples/PayloadSamples.tsx","webpack://Redoc/./src/components/CallbackSamples/CallbackReqSamples.tsx","webpack://Redoc/./src/components/CallbackSamples/CallbackSamples.tsx","webpack://Redoc/./src/components/RequestSamples/RequestSamples.tsx","webpack://Redoc/./src/components/ResponseSamples/ResponseSamples.tsx","webpack://Redoc/./src/components/PayloadSamples/PayloadCode.tsx","webpack://Redoc/external \"swagger-client\"","webpack://Redoc/./src/components/PayloadSamples/PayloadServer.tsx","webpack://Redoc/./src/components/ResponseServer/ResponseServer.tsx","webpack://Redoc/./src/components/Loading/LoadingSimple.tsx","webpack://Redoc/./src/components/PathParameters/styled.elements.ts","webpack://Redoc/./src/components/PathParameters/Input.tsx","webpack://Redoc/./src/components/PathParameters/PathParameters.tsx","webpack://Redoc/external \"hawk\"","webpack://Redoc/./src/utils/auth.ts","webpack://Redoc/./src/components/Execute/Execute.tsx","webpack://Redoc/./src/components/Operation/styled.elements.ts","webpack://Redoc/./src/components/Operation/Operation.tsx","webpack://Redoc/./src/components/ContentItems/ContentItems.tsx","webpack://Redoc/external \"classnames\"","webpack://Redoc/./src/components/SideMenu/styled.elements.ts","webpack://Redoc/./src/components/StickySidebar/StickyResponsiveSidebar.tsx","webpack://Redoc/./src/components/SideMenu/MenuItem.tsx","webpack://Redoc/./src/components/SideMenu/MenuItems.tsx","webpack://Redoc/./src/components/SideMenu/SideMenu.tsx","webpack://Redoc/./src/components/StickySidebar/ChevronSvg.tsx","webpack://Redoc/./src/components/Redoc/styled.elements.tsx","webpack://Redoc/./src/components/SearchBox/styled.elements.tsx","webpack://Redoc/./src/components/SearchBox/SearchBox.tsx","webpack://Redoc/./src/components/Modal/styled.elements.ts","webpack://Redoc/./src/components/Icons/index.tsx","webpack://Redoc/./src/components/Modal/Modal.tsx","webpack://Redoc/./src/components/Modals/styled.elements.ts","webpack://Redoc/./src/components/Select/styled.elements.ts","webpack://Redoc/./src/components/Select/index.tsx","webpack://Redoc/./src/components/Input/styled.elements.ts","webpack://Redoc/./src/components/Input/index.tsx","webpack://Redoc/./src/components/Modals/ModalAuth.tsx","webpack://Redoc/./src/components/Redoc/Redoc.tsx","webpack://Redoc/./src/components/RedocStandalone.tsx","webpack://Redoc/./src/components/ApiLogo/styled.elements.tsx","webpack://Redoc/./src/components/ApiLogo/ApiLogo.tsx"],"names":["root","factory","exports","module","define","amd","this","sjs","require","colour","process","NODE_DISABLE_COLORS","red","yellow","green","normal","sanitise","s","components","replace","split","join","String","prototype","toCamelCase","toLowerCase","match","group1","toUpperCase","uniqueOnly","value","index","self","indexOf","hasDuplicates","array","Set","size","length","allSame","distinctArray","arr","result","candidate","find","e","i","a","obj1","obj2","_equals","stringify","Object","assign","deepEquals","push","compressArray","firstDupe","hash","charCodeAt","parameterTypeProperties","arrayProperties","httpMethods","sanitiseAll","fs","path","url","fetch","yaml","jptr","recurse","clone","deRef","isRef","common","resolveAllFragment","obj","context","src","parentPath","base","options","attachPoint","externalRefs","paths","baseUrl","parse","seen","changes","identityDetection","key","state","startsWith","$fixed","newRef","parent","pkey","$ref","verbose","console","warn","target","fatal","ex","Error","promise","reject","protocol","resolve","toString","failed","filterData","data","filters","filter","findExternalRefs","Promise","res","rej","inner","$extra","refs","potential","keys","resolved","extras","description","rewriteRefs","resolvedAt","resolver","depth","source","openapi","definitions","scanExternalRefs","then","ref","actions","pointer","callback","u","pop","fragment","fnComponents","input","backup","effectiveProtocol","cache","externalRef","handlers","catch","fetchOptions","agent","status","ignoreIOErrors","text","schema","prettyErrors","err","def","filename","encoding","readFile","readFileAsync","resolveExternal","external","original","updated","externals","localOptions","patch","pointers","sort","b","aComp","bComp","ptr","cdata","loopReferences","funcs","reduce","func","Array","concat","bind","setTimeout","resolveInternal","preserveMiro","setupOptions","srcUrl","optionalResolve","getDefaultState","WeakMap","top","combine","allowRefSiblings","walkSchema","temp","allOf","isArray","anyOf","oneOf","has","set","items","property","additionalItems","additionalProperties","properties","prop","subSchema","patternProperties","not","nop","JSON","shallowClone","p","hasOwnProperty","deepClone","fastClone","circularClone","Function","get","constructor","create","getPrototypeOf","map","dereference","o","container","defs","master","logger","args","slice","call","arguments","apply","getLogger","entry","jpunescape","newValue","parts","decodeURIComponent","setAndLast","parseInt","isNaN","jpescape","object","payload","identity","oPath","encodeURIComponent","identityPath","newState","componentNames","maybe","cclone","sw","statusCodes","ourVersion","targetVersion","S2OError","message","name","throwError","throwOrWarn","warnOnly","warnProperty","fixUpSchema","required","nullable","propertyName","discriminator","mapping","schemaOrRef","fixUpSubSchemaExtensions","patches","type","newSchema","format","xml","namespace","allowEmptyValue","fixUpSubSchema","fixupRefs","consumes","produces","newKey","schemas","refmap","oldRef","schemaIndex","lastIndexOf","prefix","substr","suffix","getMiroComponentName","refSuffix","tmpRef","inSchema","refSiblings","processSecurity","securityObject","k","sname","processSecurityScheme","scheme","flow","flowName","authorizationUrl","trim","tokenUrl","scopes","flows","keepParameters","processHeader","header","collectionFormat","explode","style","fixParamRef","param","refComponents","processParameter","op","method","originalType","singularRequestBody","rbody","parameters","newParam","in","deprecated","example","oldCollectionFormat","allowReserved","content","contentType","default","copyExtensions","operationId","rbname","mimetype","requestBody","newOp","attachRequestBody","tgt","processResponse","response","examples","headers","h","processPaths","containerName","requestBodyCache","trace","summary","servers","debug","security","responses","defaultResp","r","schemes","server","newServer","serverUrl","se","rh","body","ct","effectiveOperationId","rbName","rbStr","rbHash","p2","extractServerParameters","variables","fixInfo","info","version","title","logo","termsOfService","URL","fixPaths","convertObj","swagger","WeakSet","anchors","add","detectObjectReferences","direct","origin","converter","host","basePath","xMsPHost","hostTemplate","paramNames","msp","enum","useSchemePrefix","forEach","callbacks","links","requestBodies","securitySchemes","securityDefinitions","dedupeRefs","rb","rbNamesGenerated","counter","main","convertStr","str","error","sourceYaml","convert","convertUrl","convertFile","sourceFile","convertStream","readable","on","chunk","http","STATUS_CODES","builder","resolveIndex","Worker","done","search","toJS","load","dispose","fromExternalJS","store","initEmpty","lunr","field","pipeline","expandTerm","term","meta","item","build","toJSON","exportName","importScripts","q","limit","searchResults","query","t","exp","score","___CSS_LOADER_EXPORT___","id","cssWithMappingToString","list","modules","mediaQuery","dedupe","alreadyImportedModules","_i","assertPath","TypeError","normalizeStringPosix","allowAboveRoot","code","lastSegmentLength","lastSlash","dots","lastSlashIndex","posix","cwd","resolvedPath","resolvedAbsolute","undefined","normalize","isAbsolute","trailingSeparator","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","pathObject","sep","dir","_format","ret","delimiter","win32","addMethods","methods","w","createObjectURL","Blob","worker","c","addEventListener","d","f","evt","document","createEvent","initEvent","params","dispatchEvent","_arguments","postMessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","definition","defineProperty","enumerable","g","globalThis","window","Symbol","toStringTag","defaultTheme","spacing","unit","sectionHorizontal","sectionVertical","breakpoints","small","medium","large","colors","tonalOffset","primary","light","lighten","dark","darken","contrastText","readableColor","secondary","success","warning","gray","50","100","200","fixed","grey","border","color","backgroundColor","transparentize","tabTextColor","redirect","post","put","delete","basic","link","head","badge","linesColor","defaultDetailsWidth","typeNameColor","theme","typeTitleColor","requireLabelColor","labelsTextSize","nestingSpacing","nestedBackground","arrow","typography","fontSize","lineHeight","fontWeightRegular","fontWeightBold","fontWeightLight","fontFamily","fontFamilySecondary","smoothing","optimizeSpeed","headings","fontWeight","wrap","visited","hover","sidebar","width","textColor","activeTextColor","groupItems","textTransform","level1Items","maxHeight","maxWidth","gutter","rightPanel","backgroundInner","rightPanelInner","codeBlock","codeBlockText","modal","titleColor","resolveTheme","resolvedValues","setProxy","currentPath","val","IS_BROWSER","querySelector","selector","html2Str","html","trimmedChunk","Element","scrollIntoViewIfNeeded","centerIfNeeded","parentNode","parentComputedStyle","getComputedStyle","parentBorderTopWidth","getPropertyValue","parentBorderLeftWidth","overTop","offsetTop","scrollTop","overBottom","clientHeight","overLeft","offsetLeft","scrollLeft","overRight","clientWidth","alignWithTop","scrollIntoView","mapWithLast","iteratee","mapValues","flattenByProp","collectionItems","iterate","stripTrailingSlash","endsWith","substring","isNumeric","parseFloat","isFinite","appendToMdHeading","md","heading","testRegex","RegExp","replaceRegex","test","br","mergeObjects","sources","shift","isMergebleObject","isObject","safeSlugify","slugify","isAbsoluteUrl","resolveUrl","specProtocol","urlObj","pathname","getBasePath","parseURL","titleize","charAt","removeQueryString","unescapeHTMLChars","_m","fromCharCode","labels","enumSingleValue","enumArray","recursive","arrayOf","webhook","const","noResultsFound","download","downloadSpecification","callbackResponses","requestSamples","responseSamples","tryItOut","execute","backToSamples","responseServer","authorize","authorization","file","cancel","Hawk","PleaseSelect","SelectAuthType","Authorizationtype","APIkey","APIID","EnterAPIkey","EnterAPIID","Close","Logout","setRedocLabels","_labels","l","idx","label","argValueToBoolean","defaultValue","argValueToNumber","RedocNormalizedOptions","raw","defaults","hook","extensionsHook","menu","codeSample","scrollYOffset","normalizeScrollYOffset","hideHostname","normalizeHideHostname","expandResponses","normalizeExpandResponses","requiredPropsFirst","sortPropsAlphabetically","sortEnumValuesAlphabetically","noAutoAuth","nativeScrollbars","pathInMiddlePanel","untrustedSpec","hideDownloadButton","disableSearch","onlyRequiredInSamples","showExtensions","normalizeShowExtensions","hideSingleRequestSampleTab","menuToggle","jsonSampleExpandLevel","normalizeJsonSampleExpandLevel","enumSkipQuotes","hideSchemaTitles","simpleOneOfTypeLabel","payloadSampleIdx","normalizePayloadSampleIdx","expandSingleSchemaField","unstable_ignoreMimeParameters","allowedMdComponents","expandDefaultServerVariables","maxDisplayedEnumValues","ignoreNamedSchemas","hideSchemaPattern","generatedPayloadSamplesMaxDepth","normalizeGeneratedPayloadSamplesMaxDepth","el","bottom","getBoundingClientRect","Math","max","level","Number","ceil","styled","css","createGlobalStyle","keyframes","ThemeProvider","media","lessThan","breakpoint","print","extra","props","greaterThan","between","firstBreakpoint","secondBreakpoint","styledName","ErrorWrapper","ErrorBoundary","setState","stack","__REDOC_VERSION__","__REDOC_REVISION__","React","children","rotate","Spinner","className","height","viewBox","LoadingMessage","Loading","textAlign","OptionsContext","OptionsProvider","Provider","OptionsConsumer","Consumer","loadAndBundleSpec","specUrlOrObject","config","Config","bundleOpts","location","href","customFetch","global","absoluteRef","parsed","bundle","convertSwagger2OpenAPI","spec","origParse","JsonPointerLib","JsonPointer","tokens","fromTokens","resTokens","isWildcardStatusCode","statusCode","isStatusCode","getStatusCodeType","defaultAsError","operationNames","isOperationName","getOperationSummary","operation","pathName","schemaKeywordTypes","multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","contentEncoding","contentMediaType","maxItems","minItems","uniqueItems","maxProperties","minProperties","detectType","keyword","isPrimitiveType","isPrimitive","includes","isJsonLike","isFormUrlEncoded","delimitedEncodeField","fieldVal","fieldName","v","deepObjectEncodeField","serializeFormValue","safeName","URLtemplate","expand","urlFormEncodePayload","serializeParameterValueWithMime","mime","serializeParameterValue","parameter","serializationMime","serializePathParameter","serializeQueryParameter","template","serializeHeaderParameter","serializeCookieParameter","langFromMime","isNamedDefinition","getDefinitionName","humanizeRangeConstraint","min","stringRange","humanizeNumberRange","Infinity","humanizeConstraints","arrayRange","multipleOfConstraint","strigifiedMultipleOf","humanizeMultipleOfConstraint","numberRange","sortByRequired","fields","order","unrequiredFields","orderedFields","unorderedFields","sortByField","localeCompare","mergeParams","parser","pathParams","operationParams","operationParamNames","shallowDeref","mergeSimilarMediaTypes","types","mergedTypes","normalizedMimeName","normalizeServers","specUrl","getHref","SECURITY_DEFINITIONS_COMPONENT_NAME","SECURITY_DEFINITIONS_JSX_NAME","SCHEMA_DEFINITION_JSX_NAME","SECURITY_SCHEMES_SECTION_PREFIX","setSecuritySchemePrefix","shortenHTTPVerb","verb","isRedocExtension","extractExtensions","acc","pluralizeType","displayType","DEFAULT_LANG","mapLang","lang","json","shell","viml","highlight","grammar","Prism","Throttle","delay","_","_2","desc","wait","timeout","previous","later","Date","getTime","now","remaining","clearTimeout","debugTime","debugTimeEnd","lookbehind","SENTINEL","memoize","descriptor","memoizedName","_memoizeMethod","_memoizeGetter","EVENT","HistoryService","_emiter","emit","currentId","EventEmitter","cb","emmiter","addListener","removeListener","removeEventListener","rewriteHistory","history","replaceState","linkForId","pushState","debounce","MarkerService","Map","Mark","elements","inst","elem","unmark","clear","prevTerm","mark","renderer","marked","LEGACY_REGEXP","MDX_COMPONENT_REGEXP","COMPONENT_REGEXP","buildComponentComment","MarkdownRenderer","slugger","currentTopHeading","saveHeading","originalHeadingRule","headingEnhanceRenderer","headingRule","parentId","flattenHeadings","rawText","buildRegexp","flatHeadings","prevHeading","prevRegexp","prevPos","regexp","currentPos","extractHeadings","opts","renderMd","attachHeadingsDescriptions","names","componentsRegexp","htmlParts","componentDefs","exec","lasxtIdx","lastIndex","componentMeta","component","propsSelector","parseProps","htmlPart","componentName","headingLinePos","regex","ApiInfoModel","firstHeadingLinePos","downloadLink","getDownloadLink","downloadFileName","getDownloadFileName","blob","SecurityRequirementModel","requirement","deref","sectionId","CallbackModel","infoOrRef","makeObservable","exitRef","operations","operationName","operationInfo","OperationModel","compile","httpVerb","pathParameters","pathServers","expanded","observable","action","SchemaModel","isChild","rawSchema","mergeAllOf","init","exitParents","extensions","activeOneOf","isCircular","baseName","externalDocs","constraints","displayFormat","readOnly","writeOnly","some","getDiscriminator","initOneOf","oneOfType","hasType","additionalProps","FieldModel","kind","buildFields","typePrefix","filteredType","initDiscriminator","uniqueTypes","variant","derefVariant","merged","crawl","values","discriminatorProp","implicitInversedMapping","findDerived","parentRefs","isLimitedToMapping","explicitInversedMapping","inversedMapping","left","right","indexLeft","indexRight","innerSchema","byRef","externalExamplesCache","ExampleModel","externalValue","externalValueUrl","urlResolve","mimeType","txt","ok","DEFAULT_SERIALIZATION","cookie","fieldSchema","MediaTypeModel","isRequestType","generateExample","samplerOptions","skipReadOnly","skipWriteOnly","skipNonRequired","maxSampleDepth","sample","Sampler","MediaContentModel","mediaTypes","resetVisited","activeMimeIdx","computed","RequestBodyModel","isRequest","isEvent","ResponseModel","isPayloadSample","requestBodyContent","getPlayloadSample","samples","isCodeSamplesWarningPrinted","operationSpec","isCallback","isWebhook","active","hasSample","insertInx","_parameters","paramOrRef","hasSuccessResponses","callbackEventName","WebhookModel","webhooks","initWebhooks","resolvedWebhook","SecuritySchemeModel","apiKey","bearerFormat","openId","connectUrl","openIdConnectUrl","SecuritySchemesModel","RefCounter","_counter","OpenAPIParser","validate","preprocess","allowMergeRefs","containsComponent","comment","_refCounter","exit","forceCircular","mergeAsAllOf","schemaName","visit","mergeRefs","rest","used$Refs","hoistOneOfs","receiver","allOfSchemas","subRef","subMerged","child","subSchemaRef","mergedProp","$refs","defName","shema","parent$ref","sub","beforeAllOf","afterAllOf","part","SpecStore","contentItems","MenuBuilder","buildStructure","webhookPath","GroupModel","tagOrGroup","getTextBeforeHading","GROUP_DEPTH","tagsMap","getTagsWithOperations","addMarkdownItems","getTagGroupsItems","getTagsItems","initialDepth","mapHeadingsDeep","_parent","group","groups","tags","tagName","used","tag","getOperationsItems","getTags","resolvedPaths","operationTags","SECTION_ATTR","MenuStore","scroll","isScrolledDown","step","itemIdx","activeItemIdx","flatItems","getElementAtOrFirstChild","isElementBellow","getElementAt","isElementAbove","activate","activateAndScroll","scrollIntoViewBySelector","absoluteIdx","subscribe","_unsubscribe","updateOnScroll","_hashUnsubscribe","updateOnHistory","sideBarOpened","updateLocation","activeItem","deactivate","collapse","menuItem","getItemById","scrollToActive","closeSidebar","historyInst","ScrollService","_scrollParent","_prevOffsetY","scrollY","handleScroll","removeAllListeners","HTMLElement","pageYOffset","floor","element","scrollBy","SearchStore","getWorker","searchWorker","terminate","MiddlePanel","compact","Section","underlined","RightPanel","DarkRightPanel","Row","headerFontSize","1","2","3","headerCommonMixin","H1","H2","RightPanelHeader","UnderlinedHeader","StoreContext","createContext","StoreBuilder","onLoaded","resolvedSpec","setResolvedSpec","AppStore","loading","linkifyMixin","Link","clickHandler","event","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","preventDefault","navigate","onClick","aria-label","StyledShareLink","ShareLink","directionMap","up","down","IntShelfIcon","xmlns","x","y","ShelfIcon","float","direction","Badge","deprecatedCss","PropertiesTableCaption","PropertyCell","PropertyCellWithInner","PropertyNameCell","PropertyDetailsCell","PropertyBullet","InnerPropertiesWrap","PropertiesTable","RowExecute","ExecuteRequest","RowAuthorize","OneOfList","OneOfLabel","OneOfButton","ArrayOpenningLabel","ArrayClosingLabel","StyledDropdown","Dropdown","SimpleDropdown","MimeLabel","Tabs","ReactTabs","PrismDiv","SampleControls","SampleControlsWrap","StyledPre","withComponent","PerfectScrollbarConstructor","PerfectScrollbarNamespace","PSStyling","psStyles","StyledScrollWrapper","PerfectScrollbar","_container","offset","parentElement","scrollTo","update","destroy","updateFn","componentDidUpdate","handleRef","PerfectScrollbarWrap","overflow","overscrollBehavior","msOverflowStyle","RightPanelButton","Button","CodeArea","IconLock","isLocked","IconStyled","OperationBadge","DropdownOrLabel","Label","searchable","linksCss","StyledMarkdownBlock","inline","StyledMarkdownSpan","SanitizedMarkdownHTML","Wrap","dangerouslySetInnerHTML","__html","DOMPurify","data-role","Markdown","dataRole","Wrapper","Tip","Content","Arrow","Gap","Tooltip","open","isSupported","queryCommandSupported","ClipboardService","range","selection","createTextRange","moveToElementText","select","createRange","getSelection","selectNodeContents","removeAllRanges","addRange","empty","execCommand","selectElement","copySelected","deselect","textArea","createElement","position","padding","outline","boxShadow","background","appendChild","removeChild","CopyButtonWrapper","showTooltip","copy","tooltipShown","renderCopyButton","jsonToHTML","maxExpandLevel","output","valueToHTML","htmlEncode","stringifyStringLiteral","decorateWithSpan","punctuation","valueType","collapsed","hasContents","arrayToHTML","toISOString","objectToHTML","encodeURI","jsonStyles","JsonViewerWrap","Json","onChange","node","useRef","useState","setValue","useEffect","current","clickListener","focusListener","renderInner","expandAll","collapseAll","getElementsByClassName","classList","remove","setAttribute","elementsArr","collapseElement","contains","rows","JsonViewer","SourceCode","SourceCodeWithCopy","ExampleValue","Example","ExternalExample","setIsLoading","prevRef","getExternalValue","useExternalExample","rel","DropdownLabel","DropdownWrapper","InvertedSimpleDropdown","NoSampleLabel","MediaTypeSamples","activeIdx","activeServerIdx","onChangeServer","mediaType","serversList","noSample","examplesNames","SamplesWrapper","renderDropdown","switchServer","ariaLabel","switchMedia","ClickablePropertyNameCell","FieldLabel","TypePrefix","TypeName","TypeTitle","TypeFormat","RequiredLabel","RecursiveLabel","PatternLabel","ExtensionValue","ConstraintItem","ToggleButton","LinkWrap","ExternalDocumentation","observer","EnumValues","displayedItems","showToggleButton","toggleButtonText","exampleValue","toggle","Extension","Extensions","exts","ConstraintsView","constraint","FieldDetail","FieldDetails","patternShown","showExamples","renderDiscriminatorSwitch","rawDefault","renderedExamples","Examples","getSerializedValue","togglePattern","ExamplesList","PaddedSchema","ArraySchema","itemsSchema","minMaxItems","Schema","Field","expandByDefault","isLast","withSubSchema","paramName","onKeyPress","handleKeyPress","colSpan","showTitle","DiscriminatorDropdown","option","activateOneOf","enumValues","enumOrder","enumItem","activeValue","sortOptions","changeActiveChild","ObjectSchema","parentSchema","filteredFields","OneOfSchema","SchemaDefinition","schemaRef","exampleRef","_mediaModel","getMediaType","showReadOnly","showWriteOnly","mediaModel","MediaSamplesWrap","AUTH_TYPES","oauth2","openIdConnect","OAuthFlow","refreshUrl","scope","SecurityDefs","createStore","createSearchIndex","rawOptions","DEFAULT_OPTIONS","indexItems","disposer","observe","change","updateMarkOnMenu","searchIndex","$description","$summary","marker","addOnly","ApiHeader","DownloadButton","InfoSpan","InfoSpanBoxWrap","InfoSpanBox","ApiInfo","downloadFilename","license","identifier","website","contact","email","terms","handleDownloadClick","AdvancedMarkdown","renderWithOptionsAndStore","htmlWrap","renderMdWithComponents","CallbackTitle","opened","CallbackTitleWrapper","OperationBadgeStyled","CallbackName","StyledCallbackTitle","CallbackDetailsWrap","SelectOnClick","onFocus","tabIndex","role","OperationEndpointWrap","ServerRelativeURL","EndpointInfo","inverted","HttpVerb","ServersOverlay","ServerItem","ServerUrl","Endpoint","marginRight","aria-hidden","normalizedUrl","ParametersGroup","place","MediaTypesSwitch","withLabel","PARAM_PLACES","Parameters","paramsMap","orderParams","paramsPlaces","bodyContent","bodyDescription","BodyContent","DropdownWithinHeader","ResponseTitle","log","aria-expanded","disabled","ResponseTitleArrow","Code","StyledResponseTitle","ResponseDetailsWrap","HeadersCaption","ResponseHeaders","ResponseDetails","ResponseView","mimes","ResponsesHeader","ResponsesList","ScopeName","SecurityRequirementAndWrap","SecurityRequirementOrWrap","SecurityRequirement","AuthHeaderColumn","SecuritiesColumn","AuthHeader","SecurityRequirements","securities","CallbackDetails","hasDescription","Description","CallbackOperation","callbackOperation","CallbacksList","CallbacksHeader","GenericChildrenSwitcher","switchItem","PayloadSamples","mimeContent","CallbackPayloadSample","payloadSample","codeSamples","PayloadSampleWrapper","CallbackSamples","dropdownOptions","RequestSamples","isActive","useContext","hasSamples","hideTabList","defaultIndex","TabList","hidden","Tab","TabPanel","ResponseSamples","PayloadCode","PayloadServer","ResponseServer","IsJsonString","LoadingContainer","LoadingSimple","InputContainer","InputLabel","Input","InputDescription","Select","Option","fieldType","multiple","getType","placeholder","onFormInit","onInputChange","renderType","isAuth","localAuth","localStorage","getItem","onTogle","isTry","setIsTry","setServer","setResponse","isFetching","setIsFetching","form","setForm","fetchRequest","queries","encodeParams","request","mode","responseInterceptor","localJsonAuth","contentCredentials","credentials","algorithm","getAuthCredentials","SwaggerClient","isParameters","formData","FormData","OperationTitle","OperationUrl","OperationRow","Operation","isSamplesActive","setIsSamplesActive","ContentItems","ContentItem","SectionItem","OperationItem","middlePanelWrap","Header","menuItemActiveBg","Stickyfill","MenuItemUl","MenuItemLi","menuItemDepth","0","MenuItemLabel","classnames","MenuItemTitle","RedocAttribution","MenuItem","onActivate","stopPropagation","scrollIntoViewIfActive","withoutChildren","data-item-id","OperationMenuItemContent","MenuItems","SideMenu","_updateScroll","upd","saveScrollUpdate","wheelPropagation","AnimatedChevronButton","iconOffset","ChevronContainer","ChevronSvg","transform","transition","fill","stickyfill","StyledStickySidebar","FloatingButton","StickyResponsiveSidebar","toggleSidebar","stickyElement","getScrollYOffset","toggleNavMenu","RedocWrap","ApiContentWrap","BackgroundStub","percents","SearchWrap","SearchInput","getLuminance","SearchIcon","attrs","SearchResultsBox","ClearIcon","SearchBox","results","noResults","keyCode","activeResult","clearResults","searchCallback","searchTerm","setResults","onKeyDown","handleKeyDown","ModalContainer","ModalInner","ModalOverlay","ModalTitle","ModelContent","ModalClose","IconClose","show","onClose","delayedShow","setDelayedShow","onModalClose","AuthorizationButtonsRow","AuthorizationRow","AuthorizationLabel","SelectContainer","SelectInput","OptionContainer","SelectList","SelectIcon","selected","setSelected","setActive","isCanClose","onBlur","onMouseEnter","onMouseLeave","onSelectChange","InputElement","InputClear","inputValue","setInputValue","ModalAuth","selectedType","setSelectedType","setApiKey","apiId","setApiId","marginBottom","removeItem","setItem","Redoc","showAuthorization","onDidMount","PropTypes","isRequired","RedocStandalone","hideLoading","normalizedOpts","LogoImgEl","LogoWrap","ApiLogo","logoInfo","logoHref","altText","alt","Component"],"mappings":"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","file":"redoc.browser.lib.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Redoc\"] = factory();\n\telse\n\t\troot[\"Redoc\"] = factory();\n})(this, function() {\nreturn ","'use strict';\n\nconst sjs = require('fast-safe-stringify');\n\nconst colour = process.env.NODE_DISABLE_COLORS ?\n    { red: '', yellow: '', green: '', normal: '' } :\n    { red: '\\x1b[31m', yellow: '\\x1b[33;1m', green: '\\x1b[32m', normal: '\\x1b[0m' };\n\nfunction uniqueOnly(value, index, self) {\n    return self.indexOf(value) === index;\n}\n\nfunction hasDuplicates(array) {\n    return (new Set(array)).size !== array.length;\n}\n\nfunction allSame(array) {\n    return (new Set(array)).size <= 1;\n}\n\nfunction deepEquals(obj1, obj2) {\n    function _equals(obj1, obj2) {\n        return sjs.stringify(obj1) === sjs.stringify(Object.assign({}, obj1, obj2));\n    }\n    return _equals(obj1, obj2) && _equals(obj2, obj1);\n}\n\nfunction compressArray(arr) {\n    let result = [];\n    for (let candidate of arr) {\n        let dupe = result.find(function(e,i,a){\n            return deepEquals(e,candidate);\n        });\n        if (!dupe) result.push(candidate);\n    }\n    return result;\n}\n\nfunction distinctArray(arr) {\n    return (arr.length === compressArray(arr).length);\n}\n\nfunction firstDupe(arr) {\n    return arr.find(function(e,i,a){\n        return arr.indexOf(e)<i;\n    });\n}\n\n/**\n * simple hash implementation based on https://stackoverflow.com/a/7616484/1749888\n * @param {string} s - string to hash\n * @returns {number} numerical hash code\n */\nfunction hash(s) {\n    let hash = 0;\n    let chr;\n    if (s.length === 0) return hash;\n    for (let i = 0; i < s.length; i++) {\n      chr   = s.charCodeAt(i);\n      hash  = ((hash << 5) - hash) + chr;\n      hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n}\n\nString.prototype.toCamelCase = function camelize() {\n    return this.toLowerCase().replace(/[-_ \\/\\.](.)/g, function (match, group1) {\n        return group1.toUpperCase();\n    });\n}\n\nconst parameterTypeProperties = [\n    'format',\n    'minimum',\n    'maximum',\n    'exclusiveMinimum',\n    'exclusiveMaximum',\n    'minLength',\n    'maxLength',\n    'multipleOf',\n    'minItems',\n    'maxItems',\n    'uniqueItems',\n    'minProperties',\n    'maxProperties',\n    'additionalProperties',\n    'pattern',\n    'enum',\n    'default'\n];\n\nconst arrayProperties = [\n    'items',\n    'minItems',\n    'maxItems',\n    'uniqueItems'\n];\n\nconst httpMethods = [\n    'get',\n    'post',\n    'put',\n    'delete',\n    'patch',\n    'head',\n    'options',\n    'trace'\n];\n\nfunction sanitise(s) {\n    s = s.replace('[]','Array');\n    let components = s.split('/');\n    components[0] = components[0].replace(/[^A-Za-z0-9_\\-\\.]+|\\s+/gm, '_');\n    return components.join('/');\n}\n\nfunction sanitiseAll(s) {\n    return sanitise(s.split('/').join('_'));\n}\n\nmodule.exports = {\n\n    colour: colour,\n    uniqueOnly: uniqueOnly,\n    hasDuplicates: hasDuplicates,\n    allSame: allSame,\n    distinctArray: distinctArray,\n    firstDupe: firstDupe,\n    hash: hash,\n    parameterTypeProperties: parameterTypeProperties,\n    arrayProperties: arrayProperties,\n    httpMethods: httpMethods,\n    sanitise: sanitise,\n    sanitiseAll: sanitiseAll\n\n};\n\n","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst url = require('url');\n\nconst fetch = require('node-fetch-h2');\nconst yaml = require('yaml');\n\nconst jptr = require('reftools/lib/jptr.js').jptr;\nconst recurse = require('reftools/lib/recurse.js').recurse;\nconst clone = require('reftools/lib/clone.js').clone;\nconst deRef = require('reftools/lib/dereference.js').dereference;\nconst isRef = require('reftools/lib/isref.js').isRef;\nconst common = require('oas-kit-common');\n\nfunction unique(arr) {\n    return [... new Set(arr)];\n}\n\nfunction readFileAsync(filename, encoding, options, pointer, def) {\n    return new Promise(function (resolve, reject) {\n        fs.readFile(filename, encoding, function (err, data) {\n            if (err) {\n                if (options.ignoreIOErrors && def) {\n                    if (options.verbose) console.warn('FAILED',pointer);\n                    options.externalRefs[pointer].failed = true;\n                    resolve(def);\n                }\n                else {\n                    reject(err);\n                }\n            }\n            else {\n                resolve(data);\n            }\n        });\n    });\n}\n\nfunction resolveAllFragment(obj, context, src, parentPath, base, options) {\n\n    let attachPoint = options.externalRefs[src+parentPath].paths[0];\n\n    let baseUrl = url.parse(base);\n    let seen = {}; // seen is indexed by the $ref value and contains path replacements\n    let changes = 1;\n    while (changes) {\n        changes = 0;\n        recurse(obj, {identityDetection:true}, function (obj, key, state) {\n            if (isRef(obj, key)) {\n                if (obj[key].startsWith('#')) {\n                    if (!seen[obj[key]] && !obj.$fixed) {\n                        let target = clone(jptr(context, obj[key]));\n                        if (options.verbose>1) console.warn((target === false ? common.colour.red : common.colour.green)+'Fragment resolution', obj[key], common.colour.normal);\n                        /*\n                            ResolutionCase:A is where there is a local reference in an externally\n                            referenced document, and we have not seen it before. The reference\n                            is replaced by a copy of the data pointed to, which may be outside this fragment\n                            but within the context of the external document\n                        */\n                        if (target === false) {\n                            state.parent[state.pkey] = {}; /* case:A(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('Fragment $ref resolution failed '+obj[key]);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                        else {\n                            changes++;\n                            state.parent[state.pkey] = target;\n                            seen[obj[key]] = state.path.replace('/%24ref','');\n                        }\n                    }\n                    else {\n                        if (!obj.$fixed) {\n                            let newRef = (attachPoint+'/'+seen[obj[key]]).split('/#/').join('/');\n                            state.parent[state.pkey] = { $ref: newRef, 'x-miro': obj[key], $fixed: true };\n                            if (options.verbose>1) console.warn('Replacing with',newRef);\n                            changes++;\n                        }\n                        /*\n                            ResolutionCase:B is where there is a local reference in an externally\n                            referenced document, and we have seen this reference before and resolved it.\n                            We create a new object containing the (immutable) $ref string\n                        */\n                    }\n                }\n                else if (baseUrl.protocol) {\n                    let newRef = url.resolve(base,obj[key]).toString();\n                    if (options.verbose>1) console.warn(common.colour.yellow+'Rewriting external url ref',obj[key],'as',newRef,common.colour.normal);\n                    obj['x-miro'] = obj[key];\n                    if (options.externalRefs[obj[key]]) {\n                        if (!options.externalRefs[newRef]) {\n                            options.externalRefs[newRef] = options.externalRefs[obj[key]];\n                        }\n                        options.externalRefs[newRef].failed = options.externalRefs[obj[key]].failed;\n                    }\n                    obj[key] = newRef;\n                }\n                else if (!obj['x-miro']) {\n                    let newRef = url.resolve(base,obj[key]).toString();\n                    let failed = false;\n                    if (options.externalRefs[obj[key]]) {\n                        failed = options.externalRefs[obj[key]].failed;\n                    }\n                    if (!failed) {\n                        if (options.verbose>1) console.warn(common.colour.yellow+'Rewriting external ref',obj[key],'as',newRef,common.colour.normal);\n                        obj['x-miro'] = obj[key]; // we use x-miro as a flag so we don't do this > once\n                        obj[key] = newRef;\n                    }\n                }\n            }\n        });\n    }\n\n    recurse(obj,{},function(obj,key,state){\n        if (isRef(obj, key)) {\n            if (typeof obj.$fixed !== 'undefined') delete obj.$fixed;\n        }\n    });\n\n    if (options.verbose>1) console.warn('Finished fragment resolution');\n    return obj;\n}\n\nfunction filterData(data, options) {\n    if (!options.filters || !options.filters.length) return data;\n    for (let filter of options.filters) {\n        data = filter(data, options);\n    }\n    return data;\n}\n\nfunction testProtocol(input, backup) {\n    if (input && input.length > 2) return input;\n    if (backup && backup.length > 2) return backup;\n    return 'file:';\n}\n\nfunction resolveExternal(root, pointer, options, callback) {\n    var u = url.parse(options.source);\n    var base = options.source.split('\\\\').join('/').split('/');\n    let doc = base.pop(); // drop the actual filename\n    if (!doc) base.pop(); // in case it ended with a /\n    let fragment = '';\n    let fnComponents = pointer.split('#');\n    if (fnComponents.length > 1) {\n        fragment = '#' + fnComponents[1];\n        pointer = fnComponents[0];\n    }\n    base = base.join('/');\n\n    let u2 = url.parse(pointer);\n    let effectiveProtocol = testProtocol(u2.protocol, u.protocol);\n\n    let target;\n    if (effectiveProtocol === 'file:') {\n        target = path.resolve(base ? base + '/' : '', pointer);\n    }\n    else {\n        target = url.resolve(base ? base + '/' : '', pointer);\n    }\n\n    if (options.cache[target]) {\n        if (options.verbose) console.warn('CACHED', target, fragment);\n        /*\n            resolutionSource:A this is where we have cached the externally-referenced document from a\n            file, http or custom handler\n        */\n        let context = clone(options.cache[target]);\n        let data = options.externalRef = context;\n        if (fragment) {\n            data = jptr(data, fragment);\n            if (data === false) {\n                data = {}; // case:A(2) where the resolution fails\n                if (options.fatal) {\n                    let ex = new Error('Cached $ref resolution failed '+target+fragment);\n                    if (options.promise) options.promise.reject(ex)\n                    else throw ex;\n                }\n            }\n        }\n        data = resolveAllFragment(data, context, pointer, fragment, target, options);\n        data = filterData(data, options);\n        callback(clone(data), target, options);\n        return Promise.resolve(data);\n    }\n\n    if (options.verbose) console.warn('GET', target, fragment);\n\n    if (options.handlers && options.handlers[effectiveProtocol]) {\n        return options.handlers[effectiveProtocol](base, pointer, fragment, options)\n            .then(function (data) {\n                options.externalRef = data;\n                data = filterData(data, options);\n                options.cache[target] = data;\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function(ex){\n                if (options.verbose) console.warn(ex);\n                throw ex;\n            });\n    }\n    else if (effectiveProtocol && effectiveProtocol.startsWith('http')) {\n        const fetchOptions = Object.assign({}, options.fetchOptions, { agent: options.agent });\n        return options.fetch(target, fetchOptions)\n            .then(function (res) {\n                if (res.status !== 200) {\n                  if (options.ignoreIOErrors) {\n                    if (options.verbose) console.warn('FAILED',pointer);\n                    options.externalRefs[pointer].failed = true;\n                    return '{\"$ref\":\"'+pointer+'\"}';\n                  }\n                  else {\n                    throw new Error(`Received status code ${res.status}: ${target}`);\n                  }\n                }\n                return res.text();\n            })\n            .then(function (data) {\n                try {\n                    let context = yaml.parse(data, { schema:'core', prettyErrors: true });\n                    data = options.externalRef = context;\n                    options.cache[target] = clone(data);\n                    /* resolutionSource:B, from the network, data is fresh, but we clone it into the cache */\n                    if (fragment) {\n                        data = jptr(data, fragment);\n                        if (data === false) {\n                            data = {}; /* case:B(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('Remote $ref resolution failed '+target+fragment);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                    }\n                    data = resolveAllFragment(data, context, pointer, fragment, target, options);\n                    data = filterData(data, options);\n                }\n                catch (ex) {\n                    if (options.verbose) console.warn(ex);\n                    if (options.promise && options.fatal) options.promise.reject(ex)\n                    else throw ex;\n                }\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function (err) {\n                if (options.verbose) console.warn(err);\n                options.cache[target] = {};\n                if (options.promise && options.fatal) options.promise.reject(err)\n                else throw err;\n            });\n    }\n    else {\n        const def = '{\"$ref\":\"'+pointer+'\"}';\n        return readFileAsync(target, options.encoding || 'utf8', options, pointer, def)\n            .then(function (data) {\n                try {\n                    let context = yaml.parse(data, { schema:'core', prettyErrors: true });\n                    data = options.externalRef = context;\n                    /*\n                        resolutionSource:C from a file, data is fresh but we clone it into the cache\n                    */\n                    options.cache[target] = clone(data);\n                    if (fragment) {\n                        data = jptr(data, fragment);\n                        if (data === false) {\n                            data = {}; /* case:C(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('File $ref resolution failed '+target+fragment);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                    }\n                    data = resolveAllFragment(data, context, pointer, fragment, target, options);\n                    data = filterData(data, options);\n                }\n                catch (ex) {\n                    if (options.verbose) console.warn(ex);\n                    if (options.promise && options.fatal) options.promise.reject(ex)\n                    else throw ex;\n                }\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function(err){\n                if (options.verbose) console.warn(err);\n                if (options.promise && options.fatal) options.promise.reject(err)\n                else throw err;\n            });\n    }\n}\n\nfunction scanExternalRefs(options) {\n    return new Promise(function (res, rej) {\n\n        function inner(obj,key,state){\n            if (obj[key] && isRef(obj[key],'$ref')) {\n                let $ref = obj[key].$ref;\n                if (!$ref.startsWith('#')) { // is external\n\n                    let $extra = '';\n\n                    if (!refs[$ref]) {\n                        let potential = Object.keys(refs).find(function(e,i,a){\n                            return $ref.startsWith(e+'/');\n                        });\n                        if (potential) {\n                            if (options.verbose) console.warn('Found potential subschema at',potential);\n                            $extra = '/'+($ref.split('#')[1]||'').replace(potential.split('#')[1]||'');\n                            $extra = $extra.split('/undefined').join(''); // FIXME\n                            $ref = potential;\n                        }\n                    }\n\n                    if (!refs[$ref]) {\n                        refs[$ref] = { resolved: false, paths: [], extras:{}, description: obj[key].description };\n                    }\n                    if (refs[$ref].resolved) {\n                        // we've already seen it\n                        if (refs[$ref].failed) {\n                          // do none\n                        }\n                        else if (options.rewriteRefs) {\n                            let newRef = refs[$ref].resolvedAt;\n                            if (options.verbose>1) console.warn('Rewriting ref', $ref, newRef);\n                            obj[key]['x-miro'] = $ref;\n                            obj[key].$ref = newRef+$extra; // resolutionCase:C (new string)\n                        }\n                        else {\n                            obj[key] = clone(refs[$ref].data); // resolutionCase:D (cloned:yes)\n                        }\n                    }\n                    else {\n                        refs[$ref].paths.push(state.path);\n                        refs[$ref].extras[state.path] = $extra;\n                    }\n                }\n            }\n        }\n\n        let refs = options.externalRefs;\n\n        if ((options.resolver.depth>0) && (options.source === options.resolver.base)) {\n            // we only need to do any of this when called directly on pass #1\n            return res(refs);\n        }\n\n        recurse(options.openapi.definitions, {identityDetection: true, path: '#/definitions'}, inner);\n        recurse(options.openapi.components, {identityDetection: true, path: '#/components'}, inner);\n        recurse(options.openapi, {identityDetection: true}, inner);\n\n        res(refs);\n    });\n}\n\nfunction findExternalRefs(options) {\n    return new Promise(function (res, rej) {\n\n        scanExternalRefs(options)\n        .then(function (refs) {\n            for (let ref in refs) {\n\n                if (!refs[ref].resolved) {\n                    let depth = options.resolver.depth;\n                    if (depth>0) depth++;\n                    options.resolver.actions[depth].push(function () {\n                        return resolveExternal(options.openapi, ref, options, function (data, source, options) {\n                            if (!refs[ref].resolved) {\n                                let external = {};\n                                external.context = refs[ref];\n                                external.$ref = ref;\n                                external.original = clone(data);\n                                external.updated = data;\n                                external.source = source;\n                                options.externals.push(external);\n                                refs[ref].resolved = true;\n                            }\n\n                            let localOptions = Object.assign({}, options, { source: '',\n                                resolver: {actions: options.resolver.actions,\n                                depth: options.resolver.actions.length-1, base: options.resolver.base } });\n                            if (options.patch && refs[ref].description && !data.description &&\n                                (typeof data === 'object')) {\n                                data.description = refs[ref].description;\n                            }\n                            refs[ref].data = data;\n\n                            // sorting $refs by length causes bugs (due to overlapping regions?)\n                            let pointers = unique(refs[ref].paths);\n                            pointers = pointers.sort(function(a,b){\n                                const aComp = (a.startsWith('#/components/') || a.startsWith('#/definitions/'));\n                                const bComp = (b.startsWith('#/components/') || b.startsWith('#/definitions/'));\n                                if (aComp && !bComp) return -1;\n                                if (bComp && !aComp) return +1;\n                                return 0;\n                            });\n\n                            for (let ptr of pointers) {\n                                // shared x-ms-examples $refs confuse the fixupRefs heuristic in index.js\n                                if (refs[ref].resolvedAt && (ptr !== refs[ref].resolvedAt) && (ptr.indexOf('x-ms-examples/')<0)) {\n                                    if (options.verbose>1) console.warn('Creating pointer to data at', ptr);\n                                    jptr(options.openapi, ptr, { $ref: refs[ref].resolvedAt+refs[ref].extras[ptr], 'x-miro': ref+refs[ref].extras[ptr] }); // resolutionCase:E (new object)\n                                }\n                                else {\n                                    if (refs[ref].resolvedAt) {\n                                        if (options.verbose>1) console.warn('Avoiding circular reference');\n                                    }\n                                    else {\n                                        refs[ref].resolvedAt = ptr;\n                                        if (options.verbose>1) console.warn('Creating initial clone of data at', ptr);\n                                    }\n                                    let cdata = clone(data);\n                                    jptr(options.openapi, ptr, cdata); // resolutionCase:F (cloned:yes)\n                                }\n                            }\n                            if (options.resolver.actions[localOptions.resolver.depth].length === 0) {\n                                //options.resolver.actions[localOptions.resolver.depth].push(function () { return scanExternalRefs(localOptions) });\n                                options.resolver.actions[localOptions.resolver.depth].push(function () { return findExternalRefs(localOptions) }); // findExternalRefs calls scanExternalRefs\n                            }\n                        });\n                    });\n                }\n            }\n        })\n        .catch(function(ex){\n            if (options.verbose) console.warn(ex);\n            rej(ex);\n        });\n\n        let result = {options:options};\n        result.actions = options.resolver.actions[options.resolver.depth];\n        res(result);\n    });\n}\n\nconst serial = funcs =>\n    funcs.reduce((promise, func) =>\n        promise.then(result => func().then(Array.prototype.concat.bind(result))), Promise.resolve([]));\n\nfunction loopReferences(options, res, rej) {\n    options.resolver.actions.push([]);\n    findExternalRefs(options)\n        .then(function (data) {\n            serial(data.actions)\n                .then(function () {\n                    if (options.resolver.depth>=options.resolver.actions.length) {\n                        console.warn('Ran off the end of resolver actions');\n                        return res(true);\n                    } else {\n                        options.resolver.depth++;\n                        if (options.resolver.actions[options.resolver.depth].length) {\n                            setTimeout(function () {\n                                loopReferences(data.options, res, rej);\n                            }, 0);\n                        }\n                        else {\n                            if (options.verbose>1) console.warn(common.colour.yellow+'Finished external resolution!',common.colour.normal);\n                            if (options.resolveInternal) {\n                                if (options.verbose>1) console.warn(common.colour.yellow+'Starting internal resolution!',common.colour.normal);\n                                options.openapi = deRef(options.openapi,options.original,{verbose:options.verbose-1});\n                                if (options.verbose>1) console.warn(common.colour.yellow+'Finished internal resolution!',common.colour.normal);\n                            }\n                            recurse(options.openapi,{},function(obj,key,state){\n                                if (isRef(obj, key)) {\n                                    if (!options.preserveMiro) delete obj['x-miro'];\n                                }\n                            });\n                            res(options);\n                        }\n                    }\n                })\n                .catch(function (ex) {\n                    if (options.verbose) console.warn(ex);\n                    rej(ex);\n                });\n        })\n        .catch(function(ex){\n            if (options.verbose) console.warn(ex);\n            rej(ex);\n        });\n}\n\nfunction setupOptions(options) {\n    if (!options.cache) options.cache = {};\n    if (!options.fetch) options.fetch = fetch;\n\n    if (options.source) {\n        let srcUrl = url.parse(options.source);\n        if (!srcUrl.protocol || srcUrl.protocol.length <= 2) { // windows drive-letters\n            options.source = path.resolve(options.source);\n        }\n    }\n\n    options.externals = [];\n    options.externalRefs = {};\n    options.rewriteRefs = true;\n    options.resolver = {};\n    options.resolver.depth = 0;\n    options.resolver.base = options.source;\n    options.resolver.actions = [[]];\n}\n\n/** compatibility function for swagger2openapi */\nfunction optionalResolve(options) {\n    setupOptions(options);\n    return new Promise(function (res, rej) {\n        if (options.resolve)\n            loopReferences(options, res, rej)\n        else\n            res(options);\n    });\n}\n\nfunction resolve(openapi,source,options) {\n    if (!options) options = {};\n    options.openapi = openapi;\n    options.source = source;\n    options.resolve = true;\n    setupOptions(options);\n    return new Promise(function (res, rej) {\n        loopReferences(options, res, rej)\n    });\n}\n\nmodule.exports = {\n    optionalResolve: optionalResolve,\n    resolve: resolve\n};\n\n","'use strict';\n\n/**\n* functions to walk an OpenAPI schema object and traverse all subschemas\n* calling a callback function on each one\n*/\n\n/**\n* obtains the default starting state for the `state` object used\n* by walkSchema\n* @return the state object suitable for use in walkSchema\n*/\nfunction getDefaultState() {\n    return { depth: 0, seen: new WeakMap(), top: true, combine: false, allowRefSiblings: false };\n}\n\n/**\n* begins the walk of a schema object\n* @param schema the schema object to walk\n* @param parent the parent schema, if any. Use empty object if none\n* @param state the initial starting state of the walker, usually obtained from `getDefaultState`. Use empty object to auto-initialise\n* @param callback a function taking a schema, parent and state to be called on this and all subschemas\n* @return the schema object\n*/\nfunction walkSchema(schema, parent, state, callback) {\n\n    if (typeof state.depth === 'undefined') state = getDefaultState();\n    if ((schema === null) || (typeof schema === 'undefined')) return schema;\n    if (typeof schema.$ref !== 'undefined') {\n        let temp = {$ref:schema.$ref};\n        if (state.allowRefSiblings && schema.description) {\n            temp.description = schema.description;\n        }\n        callback(temp,parent,state);\n        return temp; // all other properties SHALL be ignored\n    }\n\n    if (state.combine) {\n        if (schema.allOf && Array.isArray(schema.allOf) && schema.allOf.length === 1) {\n            schema = Object.assign({},schema.allOf[0],schema);\n            delete schema.allOf;\n        }\n        if (schema.anyOf && Array.isArray(schema.anyOf) && schema.anyOf.length === 1) {\n            schema = Object.assign({},schema.anyOf[0],schema);\n            delete schema.anyOf;\n        }\n        if (schema.oneOf && Array.isArray(schema.oneOf) && schema.oneOf.length === 1) {\n            schema = Object.assign({},schema.oneOf[0],schema);\n            delete schema.oneOf;\n        }\n    }\n\n    callback(schema,parent,state);\n    if (state.seen.has(schema)) {\n        return schema;\n    }\n    //else\n    if ((typeof schema === 'object') && (schema !== null)) state.seen.set(schema,true);\n    state.top = false;\n    state.depth++;\n\n    if (typeof schema.items !== 'undefined') {\n        state.property = 'items';\n        walkSchema(schema.items,schema,state,callback);\n    }\n    if (schema.additionalItems) {\n        if (typeof schema.additionalItems === 'object') {\n            state.property = 'additionalItems';\n            walkSchema(schema.additionalItems,schema,state,callback);\n        }\n    }\n    if (schema.additionalProperties) {\n        if (typeof schema.additionalProperties === 'object') {\n            state.property = 'additionalProperties';\n            walkSchema(schema.additionalProperties,schema,state,callback);\n        }\n    }\n    if (schema.properties) {\n        for (let prop in schema.properties) {\n            let subSchema = schema.properties[prop];\n            state.property = 'properties/'+prop;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.patternProperties) {\n        for (let prop in schema.patternProperties) {\n            let subSchema = schema.patternProperties[prop];\n            state.property = 'patternProperties/'+prop;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.allOf) {\n        for (let index in schema.allOf) {\n            let subSchema = schema.allOf[index];\n            state.property = 'allOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.anyOf) {\n        for (let index in schema.anyOf) {\n            let subSchema = schema.anyOf[index];\n            state.property = 'anyOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.oneOf) {\n        for (let index in schema.oneOf) {\n            let subSchema = schema.oneOf[index];\n            state.property = 'oneOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.not) {\n        state.property = 'not';\n        walkSchema(schema.not,schema,state,callback);\n    }\n    state.depth--;\n    return schema;\n}\n\nmodule.exports = {\n    getDefaultState: getDefaultState,\n    walkSchema: walkSchema\n};\n\n","'use strict';\n\n/**\n* a collection of cloning functions\n*/\n\n/**\n* a no-op placeholder which returns the given object unchanged\n* useful for when a clone function needs to be passed but cloning is not\n* required\n* @param obj the input object\n* @return the input object, unchanged\n*/\nfunction nop(obj) {\n    return obj;\n}\n\n/**\n* clones the given object using JSON.parse and JSON.stringify\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\n/**\n* clones the given object's properties shallowly, ignores properties from prototype\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction shallowClone(obj) {\n    let result = {};\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p)) {\n            result[p] = obj[p];\n        }\n    }\n    return result;\n}\n\n/**\n* clones the given object's properties deeply, ignores properties from prototype\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction deepClone(obj) {\n    let result = Array.isArray(obj) ? [] : {};\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p) || Array.isArray(obj)) {\n            result[p] = (typeof obj[p] === 'object') ? deepClone(obj[p]) : obj[p];\n        }\n    }\n    return result;\n}\n\n/**\n* clones the given object's properties shallowly, using Object.assign\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction fastClone(obj) {\n    return Object.assign({},obj);\n}\n\n/**\n* Source: stackoverflow http://bit.ly/2A1Kha6\n*/\n\nfunction circularClone(obj, hash) {\n    if (!hash) hash = new WeakMap();\n    // Do not try to clone primitives or functions\n    if (Object(obj) !== obj || obj instanceof Function) return obj;\n    if (hash.has(obj)) return hash.get(obj); // Cyclic reference\n    try { // Try to run constructor (without arguments, as we don't know them)\n        var result = new obj.constructor();\n    } catch(e) { // Constructor failed, create object without running the constructor\n        result = Object.create(Object.getPrototypeOf(obj));\n    }\n    // Optional: support for some standard constructors (extend as desired)\n    /*if (obj instanceof Map)\n        Array.from(obj, ([key, val]) => result.set(circularClone(key, hash),\n                                                   circularClone(val, hash)) );\n    else if (obj instanceof Set)\n        Array.from(obj, (key) => result.add(circularClone(key, hash)) );\n    */\n    // Register in hash\n    hash.set(obj, result);\n    // Clone and assign enumerable own properties recursively\n    return Object.assign(result, ...Object.keys(obj).map (\n        key => ({ [key]: circularClone(obj[key], hash) }) ));\n}\n\nmodule.exports = {\n    nop : nop,\n    clone : clone,\n    shallowClone : shallowClone,\n    deepClone : deepClone,\n    fastClone : fastClone,\n    circularClone : circularClone\n};\n\n","'use strict';\n\nconst recurse = require('./recurse.js').recurse;\nconst clone = require('./clone.js').shallowClone;\nconst jptr = require('./jptr.js').jptr;\nconst isRef = require('./isref.js').isRef;\n\nvar getLogger = function (options) {\n    if (options && options.verbose) {\n        return {\n            warn: function() {\n                var args = Array.prototype.slice.call(arguments);\n                console.warn.apply(console, args);\n            }\n        }\n    }\n    else {\n        return {\n            warn: function() {\n                //nop\n            }\n        }\n    }\n}\n\n/**\n* dereferences the given object\n* @param o the object to dereference\n* @definitions a source of definitions to reference\n* @options optional settings (used recursively)\n* @return the dereferenced object\n*/\nfunction dereference(o,definitions,options) {\n    if (!options) options = {};\n    if (!options.cache) options.cache = {};\n    if (!options.state) options.state = {};\n    options.state.identityDetection = true;\n    // options.depth allows us to limit cloning to the first invocation\n    options.depth = (options.depth ? options.depth+1 : 1);\n    let obj = (options.depth > 1 ? o : clone(o));\n    let container = { data: obj };\n    let defs = (options.depth > 1 ? definitions : clone(definitions));\n    // options.master is the top level object, regardless of depth\n    if (!options.master) options.master = obj;\n\n    let logger = getLogger(options);\n\n    let changes = 1;\n    while (changes > 0) {\n        changes = 0;\n    recurse(container,options.state,function(obj,key,state){\n        if (isRef(obj,key)) {\n            let $ref = obj[key]; // immutable\n            changes++;\n            if (!options.cache[$ref]) {\n                let entry = {};\n                entry.path = state.path.split('/$ref')[0];\n                entry.key = $ref;\n                logger.warn('Dereffing %s at %s',$ref,entry.path);\n                entry.source = defs;\n                entry.data = jptr(entry.source,entry.key);\n                if (entry.data === false) {\n                    entry.data = jptr(options.master,entry.key);\n                    entry.source = options.master;\n                }\n                if (entry.data === false) {\n                    logger.warn('Missing $ref target',entry.key);\n                }\n                options.cache[$ref] = entry;\n                entry.data = state.parent[state.pkey] = dereference(jptr(entry.source,entry.key),entry.source,options);\n                if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[state.pkey][options.$ref] = $ref;\n                entry.resolved = true;\n            }\n            else {\n                let entry = options.cache[$ref];\n                if (entry.resolved) {\n                    // we have already seen and resolved this reference\n                    logger.warn('Patching %s for %s',$ref,entry.path);\n                    state.parent[state.pkey] = entry.data;\n                    if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[state.pkey][options.$ref] = $ref;\n                }\n                else if ($ref === entry.path) {\n                    // reference to itself, throw\n                    throw new Error(`Tight circle at ${entry.path}`);\n                }\n                else {\n                    // we're dealing with a circular reference here\n                    logger.warn('Unresolved ref');\n                    state.parent[state.pkey] = jptr(entry.source,entry.path);\n                    if (state.parent[state.pkey] === false) {\n                        state.parent[state.pkey] = jptr(entry.source,entry.key);\n                    }\n                    if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[options.$ref] = $ref;\n                }\n            }\n        }\n    });\n    }\n    return container.data;\n}\n\nmodule.exports = {\n    dereference : dereference\n};\n\n","'use strict';\n\nfunction isRef(obj,key) {\n    return ((key === '$ref') && (!!obj && typeof obj[key] === 'string'));\n}\n\nmodule.exports = {\n    isRef: isRef\n};\n\n","'use strict';\n\n/**\n* escapes JSON Pointer using ~0 for ~ and ~1 for /\n* @param s the string to escape\n* @return the escaped string\n*/\nfunction jpescape(s) {\n    return s.replace(/\\~/g, '~0').replace(/\\//g, '~1');\n}\n\n/**\n* unescapes JSON Pointer using ~0 for ~ and ~1 for /\n* @param s the string to unescape\n* @return the unescaped string\n*/\nfunction jpunescape(s) {\n    return s.replace(/\\~1/g, '/').replace(/~0/g, '~');\n}\n\n// JSON Pointer specification: http://tools.ietf.org/html/rfc6901\n\n/**\n* from obj, return the property with a JSON Pointer prop, optionally setting it\n* to newValue\n* @param obj the object to point into\n* @param prop the JSON Pointer or JSON Reference\n* @param newValue optional value to set the property to\n* @return the found property, or false\n*/\nfunction jptr(obj, prop, newValue) {\n    if (typeof obj === 'undefined') return false;\n    if (!prop || typeof prop !== 'string' || (prop === '#')) return (typeof newValue !== 'undefined' ? newValue : obj);\n\n    if (prop.indexOf('#')>=0) {\n        let parts = prop.split('#');\n        let uri = parts[0];\n        if (uri) return false; // we do internal resolution only\n        prop = parts[1];\n        prop = decodeURIComponent(prop.slice(1).split('+').join(' '));\n    }\n    if (prop.startsWith('/')) prop = prop.slice(1);\n\n    let components = prop.split('/');\n    for (let i=0;i<components.length;i++) {\n        components[i] = jpunescape(components[i]);\n\n        let setAndLast = (typeof newValue !== 'undefined') && (i == components.length-1);\n\n        let index = parseInt(components[i],10);\n        if (!Array.isArray(obj) || isNaN(index) || (index.toString() !== components[i])) {\n            index = (Array.isArray(obj) && components[i] === '-') ? -2 : -1;\n        }\n        else {\n            components[i] = (i > 0) ? components[i-1] : ''; // backtrack to indexed property name\n        }\n\n        if ((index != -1) || (obj && obj.hasOwnProperty(components[i]))) {\n            if (index >= 0) {\n                if (setAndLast) {\n                    obj[index] = newValue;\n                }\n                obj = obj[index];\n            }\n            else if (index === -2) {\n                if (setAndLast) {\n                    if (Array.isArray(obj)) {\n                        obj.push(newValue);\n                    }\n                    return newValue;\n                }\n                else return undefined;\n            }\n            else {\n                if (setAndLast) {\n                    obj[components[i]] = newValue;\n                }\n                obj = obj[components[i]];\n            }\n        }\n        else {\n            if ((typeof newValue !== 'undefined') && (typeof obj === 'object') &&\n                (!Array.isArray(obj))) {\n                obj[components[i]] = (setAndLast ? newValue : ((components[i+1] === '0' || components[i+1] === '-') ? [] : {}));\n                obj = obj[components[i]];\n            }\n            else return false;\n        }\n    }\n    return obj;\n}\n\nmodule.exports = {\n    jptr : jptr,\n    jpescape : jpescape,\n    jpunescape : jpunescape\n};\n","'use strict';\n\nconst jpescape = require('./jptr.js').jpescape;\n\nfunction defaultState() {\n    return {\n        path: '#',\n        depth: 0,\n        pkey: '',\n        parent: {},\n        payload: {},\n        seen: new WeakMap(),\n        identity: false,\n        identityDetection: false\n    };\n}\n\n/**\n* recurses through the properties of an object, given an optional starting state\n* anything you pass in state.payload is passed to the callback each time\n* @param object the object to recurse through\n* @param state optional starting state, can be set to null or {}\n* @param callback the function which receives object,key,state on each property\n*/\nfunction recurse(object, state, callback) {\n    if (!state) state = {depth:0};\n    if (!state.depth) {\n        state = Object.assign({},defaultState(),state);\n    }\n    if (typeof object !== 'object') return;\n    let oPath = state.path;\n    for (let key in object) {\n        state.key = key;\n        state.path = state.path + '/' + encodeURIComponent(jpescape(key));\n        state.identityPath = state.seen.get(object[key]);\n        state.identity = (typeof state.identityPath !== 'undefined');\n        if (object.hasOwnProperty(key)) {\n            callback(object, key, state);\n        }\n        if ((typeof object[key] === 'object') && (!state.identity)) {\n            if (state.identityDetection && !Array.isArray(object[key]) && object[key] !== null) {\n                state.seen.set(object[key],state.path);\n            }\n            let newState = {};\n            newState.parent = object;\n            newState.path = state.path;\n            newState.depth = state.depth ? state.depth+1 : 1;\n            newState.pkey = key;\n            newState.payload = state.payload;\n            newState.seen = state.seen;\n            newState.identity = false;\n            newState.identityDetection = state.identityDetection;\n            recurse(object[key], newState, callback);\n        }\n        state.path = oPath;\n    }\n}\n\nmodule.exports = {\n    recurse : recurse\n};\n\n","// @ts-check\n'use strict';\n\nconst fs = require('fs');\nconst url = require('url');\nconst pathlib = require('path');\n\nconst maybe = require('call-me-maybe');\nconst fetch = require('node-fetch-h2');\nconst yaml = require('yaml');\n\nconst jptr = require('reftools/lib/jptr.js');\nconst resolveInternal = jptr.jptr;\nconst isRef = require('reftools/lib/isref.js').isRef;\nconst clone = require('reftools/lib/clone.js').clone;\nconst cclone = require('reftools/lib/clone.js').circularClone;\nconst recurse = require('reftools/lib/recurse.js').recurse;\nconst resolver = require('oas-resolver');\nconst sw = require('oas-schema-walker');\nconst common = require('oas-kit-common');\n\nconst statusCodes = require('./lib/statusCodes.js').statusCodes;\n\nconst ourVersion = require('./package.json').version;\n\n// TODO handle specification-extensions with plugins?\n\nconst targetVersion = '3.0.0';\nlet componentNames; // initialised in main\n\nclass S2OError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'S2OError';\n  }\n}\n\nfunction throwError(message, options) {\n    let err = new S2OError(message);\n    err.options = options;\n    if (options.promise) {\n        options.promise.reject(err);\n    }\n    else {\n        throw err;\n    }\n}\n\nfunction throwOrWarn(message, container, options) {\n    if (options.warnOnly) {\n        container[options.warnProperty||'x-s2o-warning'] = message;\n    }\n    else {\n        throwError(message, options);\n    }\n}\n\nfunction fixUpSubSchema(schema,parent,options) {\n    if (schema.nullable) options.patches++;\n    if (schema.discriminator && typeof schema.discriminator === 'string') {\n        schema.discriminator = { propertyName: schema.discriminator };\n    }\n    if (schema.items && Array.isArray(schema.items)) {\n        if (schema.items.length === 0) {\n            schema.items = {};\n        }\n        else if (schema.items.length === 1) {\n            schema.items = schema.items[0];\n        }\n        else schema.items = { anyOf: schema.items };\n    }\n\n    if (schema.type && Array.isArray(schema.type)) {\n        if (options.patch) {\n            options.patches++;\n            if (schema.type.length === 0) {\n                delete schema.type;\n            }\n            else {\n                if (!schema.oneOf) schema.oneOf = [];\n                for (let type of schema.type) {\n                    let newSchema = {};\n                    if (type === 'null') {\n                        schema.nullable = true;\n                    }\n                    else {\n                        newSchema.type = type;\n                        for (let prop of common.arrayProperties) {\n                            if (typeof schema.prop !== 'undefined') {\n                                newSchema[prop] = schema[prop];\n                                delete schema[prop];\n                            }\n                        }\n                    }\n                    if (newSchema.type) {\n                        schema.oneOf.push(newSchema);\n                    }\n                }\n                delete schema.type;\n                if (schema.oneOf.length === 0) {\n                    delete schema.oneOf; // means was just null => nullable\n                }\n                else if (schema.oneOf.length < 2) {\n                    schema.type = schema.oneOf[0].type;\n                    if (Object.keys(schema.oneOf[0]).length > 1) {\n                        throwOrWarn('Lost properties from oneOf',schema,options);\n                    }\n                    delete schema.oneOf;\n                }\n            }\n            // do not else this\n            if (schema.type && Array.isArray(schema.type) && schema.type.length === 1) {\n                schema.type = schema.type[0];\n            }\n        }\n        else {\n            throwError('(Patchable) schema type must not be an array', options);\n        }\n    }\n\n    if (schema.type && schema.type === 'null') {\n        delete schema.type;\n        schema.nullable = true;\n    }\n    if ((schema.type === 'array') && (!schema.items)) {\n        schema.items = {};\n    }\n    if (schema.type === 'file') {\n        schema.type = 'string';\n        schema.format = 'binary';\n    }\n    if (typeof schema.required === 'boolean') {\n        if (schema.required && schema.name) {\n            if (typeof parent.required === 'undefined') {\n                parent.required = [];\n            }\n            if (Array.isArray(parent.required)) parent.required.push(schema.name);\n        }\n        delete schema.required;\n    }\n\n    // TODO if we have a nested properties (object inside an object) and the\n    // *parent* type is not set, force it to object\n    // TODO if default is set but type is not set, force type to typeof default\n\n    if (schema.xml && typeof schema.xml.namespace === 'string') {\n        if (!schema.xml.namespace) delete schema.xml.namespace;\n    }\n    if (typeof schema.allowEmptyValue !== 'undefined') {\n      options.patches++;\n      delete schema.allowEmptyValue;\n    }\n}\n\nfunction fixUpSubSchemaExtensions(schema,parent) {\n    if (schema[\"x-required\"] && Array.isArray(schema[\"x-required\"])) {\n        if (!schema.required) schema.required = [];\n        schema.required = schema.required.concat(schema[\"x-required\"]);\n        delete schema[\"x-required\"];\n    }\n    if (schema[\"x-anyOf\"]) {\n        schema.anyOf = schema[\"x-anyOf\"];\n        delete schema[\"x-anyOf\"];\n    }\n    if (schema[\"x-oneOf\"]) {\n        schema.oneOf = schema[\"x-oneOf\"];\n        delete schema[\"x-oneOf\"];\n    }\n    if (schema[\"x-not\"]) {\n        schema.not = schema[\"x-not\"];\n        delete schema[\"x-not\"];\n    }\n    if (typeof schema[\"x-nullable\"] === 'boolean') {\n        schema.nullable = schema[\"x-nullable\"];\n        delete schema[\"x-nullable\"];\n    }\n    if ((typeof schema[\"x-discriminator\"] === 'object') && (typeof schema[\"x-discriminator\"].propertyName === 'string')) {\n        schema.discriminator = schema[\"x-discriminator\"];\n        delete schema[\"x-discriminator\"];\n        for (let entry in schema.discriminator.mapping) {\n            let schemaOrRef = schema.discriminator.mapping[entry];\n            if (schemaOrRef.startsWith('#/definitions/')) {\n                schema.discriminator.mapping[entry] = schemaOrRef.replace('#/definitions/','#/components/schemas/');\n            }\n        }\n    }\n}\n\nfunction fixUpSchema(schema,options) {\n    sw.walkSchema(schema,{},{},function(schema,parent,state){\n        fixUpSubSchemaExtensions(schema,parent);\n        fixUpSubSchema(schema,parent,options);\n    });\n}\n\nfunction getMiroComponentName(ref) {\n    if (ref.indexOf('#')>=0) {\n        ref = ref.split('#')[1].split('/').pop();\n    }\n    else {\n        ref = ref.split('/').pop().split('.')[0];\n    }\n    return encodeURIComponent(common.sanitise(ref));\n}\n\nfunction fixupRefs(obj, key, state) {\n    let options = state.payload.options;\n    if (isRef(obj,key)) {\n        if (obj[key].startsWith('#/components/')) {\n            // no-op\n        }\n        else if (obj[key] === '#/consumes') {\n            // people are *so* creative\n            delete obj[key];\n            state.parent[state.pkey] = clone(options.openapi.consumes);\n        }\n        else if (obj[key] === '#/produces') {\n            // and by creative, I mean devious\n            delete obj[key];\n            state.parent[state.pkey] = clone(options.openapi.produces);\n        }\n        else if (obj[key].startsWith('#/definitions/')) {\n            //only the first part of a schema component name must be sanitised\n            let keys = obj[key].replace('#/definitions/', '').split('/');\n            const ref = jptr.jpunescape(keys[0]);\n\n            let newKey = componentNames.schemas[decodeURIComponent(ref)]; // lookup, resolves a $ref\n            if (newKey) {\n                keys[0] = newKey;\n            }\n            else {\n                throwOrWarn('Could not resolve reference '+obj[key],obj,options);\n            }\n            obj[key] = '#/components/schemas/' + keys.join('/');\n        }\n        else if (obj[key].startsWith('#/parameters/')) {\n            // for extensions like Apigee's x-templates\n            obj[key] = '#/components/parameters/' + common.sanitise(obj[key].replace('#/parameters/', ''));\n        }\n        else if (obj[key].startsWith('#/responses/')) {\n            // for extensions like Apigee's x-templates\n            obj[key] = '#/components/responses/' + common.sanitise(obj[key].replace('#/responses/', ''));\n        }\n        else if (obj[key].startsWith('#')) {\n            // fixes up direct $refs or those created by resolvers\n            let target = clone(jptr.jptr(options.openapi,obj[key]));\n            if (target === false) throwOrWarn('direct $ref not found '+obj[key],obj,options)\n            else if (options.refmap[obj[key]]) {\n                obj[key] = options.refmap[obj[key]];\n            }\n            else {\n                // we use a heuristic to determine what kind of thing is being referenced\n                let oldRef = obj[key];\n                oldRef = oldRef.replace('/properties/headers/','');\n                oldRef = oldRef.replace('/properties/responses/','');\n                oldRef = oldRef.replace('/properties/parameters/','');\n                oldRef = oldRef.replace('/properties/schemas/','');\n                let type = 'schemas';\n                let schemaIndex = oldRef.lastIndexOf('/schema');\n                type = (oldRef.indexOf('/headers/')>schemaIndex) ? 'headers' :\n                    ((oldRef.indexOf('/responses/')>schemaIndex) ? 'responses' :\n                    ((oldRef.indexOf('/example')>schemaIndex) ? 'examples' :\n                    ((oldRef.indexOf('/x-')>schemaIndex) ? 'extensions' :\n                    ((oldRef.indexOf('/parameters/')>schemaIndex) ? 'parameters' : 'schemas'))));\n\n                // non-body/form parameters have not moved in the overall structure (like responses)\n                // but extracting the requestBodies can cause the *number* of parameters to change\n\n                if (type === 'schemas') {\n                    fixUpSchema(target,options);\n                }\n\n                if ((type !== 'responses') && (type !== 'extensions')) {\n                    let prefix = type.substr(0,type.length-1);\n                    if ((prefix === 'parameter') && target.name && (target.name === common.sanitise(target.name))) {\n                        prefix = encodeURIComponent(target.name);\n                    }\n\n                    let suffix = 1;\n                    if (obj['x-miro']) {\n                        prefix = getMiroComponentName(obj['x-miro']);\n                        suffix = '';\n                    }\n\n                    while (jptr.jptr(options.openapi,'#/components/'+type+'/'+prefix+suffix)) {\n                        suffix = (suffix === '' ? 2 : ++suffix);\n                    }\n\n                    let newRef = '#/components/'+type+'/'+prefix+suffix;\n                    let refSuffix = '';\n\n                    if (type === 'examples') {\n                        target = { value: target };\n                        refSuffix = '/value';\n                    }\n\n                    jptr.jptr(options.openapi,newRef,target);\n                    options.refmap[obj[key]] = newRef+refSuffix;\n                    obj[key] = newRef+refSuffix;\n                }\n            }\n        }\n\n        delete obj['x-miro'];\n        // do this last - rework cases where $ref object has sibling properties\n        if (Object.keys(obj).length > 1) {\n            const tmpRef = obj[key];\n            const inSchema = state.path.indexOf('/schema') >= 0; // not perfect, but in the absence of a reasonably-sized and complete OAS 2.0 parser...\n            if (options.refSiblings === 'preserve') {\n                // no-op\n            }\n            else if (inSchema && (options.refSiblings === 'allOf')) {\n                delete obj.$ref;\n                state.parent[state.pkey] = { allOf: [ { $ref: tmpRef }, obj ]};\n            }\n            else { // remove, or not 'preserve' and not in a schema\n                state.parent[state.pkey] = { $ref: tmpRef };\n            }\n        }\n\n    }\n    if ((key === 'x-ms-odata') && (typeof obj[key] === 'string') && (obj[key].startsWith('#/'))) {\n        let keys = obj[key].replace('#/definitions/', '').replace('#/components/schemas/','').split('/');\n        let newKey = componentNames.schemas[decodeURIComponent(keys[0])]; // lookup, resolves a $ref\n        if (newKey) {\n            keys[0] = newKey;\n        }\n        else {\n            throwOrWarn('Could not resolve reference '+obj[key],obj,options);\n        }\n        obj[key] = '#/components/schemas/' + keys.join('/');\n    }\n}\n\n/*\n* This has to happen as a separate pass because multiple $refs may point\n* through elements of the same path\n*/\nfunction dedupeRefs(openapi, options) {\n    for (let ref in options.refmap) {\n        jptr.jptr(openapi,ref,{ $ref: options.refmap[ref] });\n    }\n}\n\nfunction processSecurity(securityObject) {\n    for (let s in securityObject) {\n        for (let k in securityObject[s]) {\n            let sname = common.sanitise(k);\n            if (k !== sname) {\n                securityObject[s][sname] = securityObject[s][k];\n                delete securityObject[s][k];\n            }\n        }\n    }\n}\n\nfunction processSecurityScheme(scheme, options) {\n    if (scheme.type === 'basic') {\n        scheme.type = 'http';\n        scheme.scheme = 'basic';\n    }\n    if (scheme.type === 'oauth2') {\n        let flow = {};\n        let flowName = scheme.flow;\n        if (scheme.flow === 'application') flowName = 'clientCredentials';\n        if (scheme.flow === 'accessCode') flowName = 'authorizationCode';\n        if (typeof scheme.authorizationUrl !== 'undefined') flow.authorizationUrl = scheme.authorizationUrl.split('?')[0].trim() || '/';\n        if (typeof scheme.tokenUrl === 'string') flow.tokenUrl = scheme.tokenUrl.split('?')[0].trim() || '/';\n        flow.scopes = scheme.scopes || {};\n        scheme.flows = {};\n        scheme.flows[flowName] = flow;\n        delete scheme.flow;\n        delete scheme.authorizationUrl;\n        delete scheme.tokenUrl;\n        delete scheme.scopes;\n        if (typeof scheme.name !== 'undefined') {\n            if (options.patch) {\n                options.patches++;\n                delete scheme.name;\n            }\n            else {\n                throwError('(Patchable) oauth2 securitySchemes should not have name property', options);\n            }\n        }\n    }\n}\n\nfunction keepParameters(value) {\n    return (value && !value[\"x-s2o-delete\"]);\n}\n\nfunction processHeader(header, options) {\n    if (header.$ref) {\n        header.$ref = header.$ref.replace('#/responses/', '#/components/responses/');\n    }\n    else {\n        if (header.type && !header.schema) {\n            header.schema = {};\n        }\n        if (header.type) header.schema.type = header.type;\n        if (header.items && header.items.type !== 'array') {\n            if (header.items.collectionFormat !== header.collectionFormat) {\n                throwOrWarn('Nested collectionFormats are not supported', header, options);\n            }\n            delete header.items.collectionFormat;\n        }\n        if (header.type === 'array') {\n            if (header.collectionFormat === 'ssv') {\n                throwOrWarn('collectionFormat:ssv is no longer supported for headers', header, options); // not lossless\n            }\n            else if (header.collectionFormat === 'pipes') {\n                throwOrWarn('collectionFormat:pipes is no longer supported for headers', header, options); // not lossless\n            }\n            else if (header.collectionFormat === 'multi') {\n                header.explode = true;\n            }\n            else if (header.collectionFormat === 'tsv') {\n                throwOrWarn('collectionFormat:tsv is no longer supported', header, options); // not lossless\n                header[\"x-collectionFormat\"] = 'tsv';\n            }\n            else { // 'csv'\n                header.style = 'simple';\n            }\n            delete header.collectionFormat;\n        }\n        else if (header.collectionFormat) {\n            if (options.patch) {\n                options.patches++;\n                delete header.collectionFormat;\n            }\n            else {\n                throwError('(Patchable) collectionFormat is only applicable to header.type array', options);\n            }\n        }\n        delete header.type;\n        for (let prop of common.parameterTypeProperties) {\n            if (typeof header[prop] !== 'undefined') {\n                header.schema[prop] = header[prop];\n                delete header[prop];\n            }\n        }\n        for (let prop of common.arrayProperties) {\n            if (typeof header[prop] !== 'undefined') {\n                header.schema[prop] = header[prop];\n                delete header[prop];\n            }\n        }\n    }\n}\n\nfunction fixParamRef(param, options) {\n    if (param.$ref.indexOf('#/parameters/') >= 0) {\n        let refComponents = param.$ref.split('#/parameters/');\n        param.$ref = refComponents[0] + '#/components/parameters/' + common.sanitise(refComponents[1]);\n    }\n    if (param.$ref.indexOf('#/definitions/') >= 0) {\n        throwOrWarn('Definition used as parameter', param, options);\n    }\n}\n\nfunction attachRequestBody(op,options) {\n    let newOp = {};\n    for (let key of Object.keys(op)) {\n        newOp[key] = op[key];\n        if (key === 'parameters') {\n            newOp.requestBody = {};\n            if (options.rbname) newOp[options.rbname] = '';\n        }\n    }\n    newOp.requestBody = {}; // just in case there are no parameters\n    return newOp;\n}\n\n/**\n * @returns op, as it may have changed\n */\nfunction processParameter(param, op, path, method, index, openapi, options) {\n    let result = {};\n    let singularRequestBody = true;\n    let originalType;\n\n    if (op && op.consumes && (typeof op.consumes === 'string')) {\n        if (options.patch) {\n            options.patches++;\n            op.consumes = [op.consumes];\n        }\n        else {\n            return throwError('(Patchable) operation.consumes must be an array', options);\n        }\n    }\n    if (!Array.isArray(openapi.consumes)) delete openapi.consumes;\n    let consumes = ((op ? op.consumes : null) || (openapi.consumes || [])).filter(common.uniqueOnly);\n\n    if (param && param.$ref && (typeof param.$ref === 'string')) {\n        // if we still have a ref here, it must be an internal one\n        fixParamRef(param, options);\n        let ptr = decodeURIComponent(param.$ref.replace('#/components/parameters/', ''));\n        let rbody = false;\n        let target = openapi.components.parameters[ptr]; // resolves a $ref, must have been sanitised already\n\n        if (((!target) || (target[\"x-s2o-delete\"])) && param.$ref.startsWith('#/')) {\n            // if it's gone, chances are it's a requestBody component now unless spec was broken\n            param[\"x-s2o-delete\"] = true;\n            rbody = true;\n        }\n\n        // shared formData parameters from swagger or path level could be used in any combination.\n        // we dereference all op.requestBody's then hash them and pull out common ones later\n\n        if (rbody) {\n            let ref = param.$ref;\n            let newParam = resolveInternal(openapi, param.$ref);\n            if (!newParam && ref.startsWith('#/')) {\n                throwOrWarn('Could not resolve reference ' + ref, param, options);\n            }\n            else {\n                if (newParam) param = newParam; // preserve reference\n            }\n        }\n    }\n\n    if (param && (param.name || param.in)) { // if it's a real parameter OR we've dereferenced it\n\n        if (typeof param['x-deprecated'] === 'boolean') {\n            param.deprecated = param['x-deprecated'];\n            delete param['x-deprecated'];\n        }\n\n        if (typeof param['x-example'] !== 'undefined') {\n            param.example = param['x-example'];\n            delete param['x-example'];\n        }\n\n        if ((param.in !== 'body') && (!param.type)) {\n            if (options.patch) {\n                options.patches++;\n                param.type = 'string';\n            }\n            else {\n                throwError('(Patchable) parameter.type is mandatory for non-body parameters', options);\n            }\n        }\n        if (param.type && typeof param.type === 'object' && param.type.$ref) {\n            // $ref anywhere sensibility\n            param.type = resolveInternal(openapi, param.type.$ref);\n        }\n        if (param.type === 'file') {\n            param['x-s2o-originalType'] = param.type;\n            originalType = param.type;\n        }\n        if (param.description && typeof param.description === 'object' && param.description.$ref) {\n            // $ref anywhere sensibility\n            param.description = resolveInternal(openapi, param.description.$ref);\n        }\n        if (param.description === null) delete param.description;\n\n        let oldCollectionFormat = param.collectionFormat;\n        if ((param.type === 'array') && !oldCollectionFormat) {\n            oldCollectionFormat = 'csv';\n        }\n        if (oldCollectionFormat) {\n            if (param.type !== 'array') {\n                if (options.patch) {\n                    options.patches++;\n                    delete param.collectionFormat;\n                }\n                else {\n                    throwError('(Patchable) collectionFormat is only applicable to param.type array', options);\n                }\n            }\n            if ((oldCollectionFormat === 'csv') && ((param.in === 'query') || (param.in === 'cookie'))) {\n                param.style = 'form';\n                param.explode = false;\n            }\n            if ((oldCollectionFormat === 'csv') && ((param.in === 'path') || (param.in === 'header'))) {\n                param.style = 'simple';\n            }\n            if (oldCollectionFormat === 'ssv') {\n                if (param.in === 'query') {\n                    param.style = 'spaceDelimited';\n                }\n                else {\n                    throwOrWarn('collectionFormat:ssv is no longer supported except for in:query parameters', param, options); // not lossless\n                }\n            }\n            if (oldCollectionFormat === 'pipes') {\n                if (param.in === 'query') {\n                    param.style = 'pipeDelimited';\n                }\n                else {\n                    throwOrWarn('collectionFormat:pipes is no longer supported except for in:query parameters', param, options); // not lossless\n                }\n            }\n            if (oldCollectionFormat === 'multi') {\n                param.explode = true;\n            }\n            if (oldCollectionFormat === 'tsv') {\n                throwOrWarn('collectionFormat:tsv is no longer supported', param, options); // not lossless\n                param[\"x-collectionFormat\"] = 'tsv';\n            }\n            delete param.collectionFormat;\n        }\n\n        if (param.type && (param.type !== 'body') && (param.in !== 'formData')) {\n            if (param.items && param.schema) {\n                throwOrWarn('parameter has array,items and schema', param, options);\n            }\n            else {\n                if (param.schema) options.patches++; // already present\n                if ((!param.schema) || (typeof param.schema !== 'object')) param.schema = {};\n                param.schema.type = param.type;\n                if (param.items) {\n                    param.schema.items = param.items;\n                    delete param.items;\n                    recurse(param.schema.items, null, function (obj, key, state) {\n                        if ((key === 'collectionFormat') && (typeof obj[key] === 'string')) {\n                            if (oldCollectionFormat && obj[key] !== oldCollectionFormat) {\n                                throwOrWarn('Nested collectionFormats are not supported', param, options);\n                            }\n                            delete obj[key]; // not lossless\n                        }\n                        // items in 2.0 was a subset of the JSON-Schema items\n                        // object, it gets fixed up below\n                    });\n                }\n                for (let prop of common.parameterTypeProperties) {\n                    if (typeof param[prop] !== 'undefined') param.schema[prop] = param[prop];\n                    delete param[prop];\n                }\n            }\n        }\n\n        if (param.schema) {\n            fixUpSchema(param.schema,options);\n        }\n\n        if (param[\"x-ms-skip-url-encoding\"]) {\n            if (param.in === 'query') { // might be in:path, not allowed in OAS3\n                param.allowReserved = true;\n                delete param[\"x-ms-skip-url-encoding\"];\n            }\n        }\n    }\n\n    if (param && param.in === 'formData') {\n        // convert to requestBody component\n        singularRequestBody = false;\n        result.content = {};\n        let contentType = 'application/x-www-form-urlencoded';\n        if ((consumes.length) && (consumes.indexOf('multipart/form-data') >= 0)) {\n            contentType = 'multipart/form-data';\n        }\n\n        result.content[contentType] = {};\n        if (param.schema) {\n            result.content[contentType].schema = param.schema;\n            if (param.schema.$ref) {\n                result['x-s2o-name'] = decodeURIComponent(param.schema.$ref.replace('#/components/schemas/', ''));\n            }\n        }\n        else {\n            result.content[contentType].schema = {};\n            result.content[contentType].schema.type = 'object';\n            result.content[contentType].schema.properties = {};\n            result.content[contentType].schema.properties[param.name] = {};\n            let schema = result.content[contentType].schema;\n            let target = result.content[contentType].schema.properties[param.name];\n            if (param.description) target.description = param.description;\n            if (param.example) target.example = param.example;\n            if (param.type) target.type = param.type;\n\n            for (let prop of common.parameterTypeProperties) {\n                if (typeof param[prop] !== 'undefined') target[prop] = param[prop];\n            }\n            if (param.required === true) {\n                if (!schema.required) schema.required = [];\n                schema.required.push(param.name);\n                result.required = true;\n            }\n            if (typeof param.default !== 'undefined') target.default = param.default;\n            if (target.properties) target.properties = param.properties;\n            if (param.allOf) target.allOf = param.allOf; // new are anyOf, oneOf, not\n            if ((param.type === 'array') && (param.items)) {\n                target.items = param.items;\n                if (target.items.collectionFormat) delete target.items.collectionFormat;\n            }\n            if ((originalType === 'file') || (param['x-s2o-originalType'] === 'file')) {\n                target.type = 'string';\n                target.format = 'binary';\n            }\n\n            // Copy any extensions on the form param to the target schema property.\n            copyExtensions(param, target);\n        }\n    }\n    else if (param && (param.type === 'file')) {\n        // convert to requestBody\n        if (param.required) result.required = param.required;\n        result.content = {};\n        result.content[\"application/octet-stream\"] = {};\n        result.content[\"application/octet-stream\"].schema = {};\n        result.content[\"application/octet-stream\"].schema.type = 'string';\n        result.content[\"application/octet-stream\"].schema.format = 'binary';\n        copyExtensions(param, result);\n    }\n    if (param && param.in === 'body') {\n        result.content = {};\n        if (param.name) result['x-s2o-name'] = (op && op.operationId ? common.sanitiseAll(op.operationId) : '') + ('_' + param.name).toCamelCase();\n        if (param.description) result.description = param.description;\n        if (param.required) result.required = param.required;\n\n        // Set the \"request body name\" extension on the operation if requested.\n        if (op && options.rbname && param.name) {\n            op[options.rbname] = param.name;\n        }\n        if (param.schema && param.schema.$ref) {\n            result['x-s2o-name'] = decodeURIComponent(param.schema.$ref.replace('#/components/schemas/', ''));\n        }\n        else if (param.schema && (param.schema.type === 'array') && param.schema.items && param.schema.items.$ref) {\n            result['x-s2o-name'] = decodeURIComponent(param.schema.items.$ref.replace('#/components/schemas/', '')) + 'Array';\n        }\n\n        if (!consumes.length) {\n            consumes.push('application/json'); // TODO verify default\n        }\n\n        for (let mimetype of consumes) {\n            result.content[mimetype] = {};\n            result.content[mimetype].schema = clone(param.schema || {});\n            fixUpSchema(result.content[mimetype].schema,options);\n        }\n\n        // Copy any extensions from the original parameter to the new requestBody\n        copyExtensions(param, result);\n    }\n\n    if (Object.keys(result).length > 0) {\n        param[\"x-s2o-delete\"] = true;\n        // work out where to attach the requestBody\n        if (op) {\n            if (op.requestBody && singularRequestBody) {\n                op.requestBody[\"x-s2o-overloaded\"] = true;\n                let opId = op.operationId || index;\n\n                throwOrWarn('Operation ' + opId + ' has multiple requestBodies', op, options);\n            }\n            else {\n                if (!op.requestBody) {\n                   op = path[method] = attachRequestBody(op,options); // make sure we have one\n                }\n                if ((op.requestBody.content && op.requestBody.content[\"multipart/form-data\"])\n                    && (op.requestBody.content[\"multipart/form-data\"].schema) && (op.requestBody.content[\"multipart/form-data\"].schema.properties) && (result.content[\"multipart/form-data\"]) && (result.content[\"multipart/form-data\"].schema) && (result.content[\"multipart/form-data\"].schema.properties)) {\n                    op.requestBody.content[\"multipart/form-data\"].schema.properties =\n                        Object.assign(op.requestBody.content[\"multipart/form-data\"].schema.properties, result.content[\"multipart/form-data\"].schema.properties);\n                    op.requestBody.content[\"multipart/form-data\"].schema.required = (op.requestBody.content[\"multipart/form-data\"].schema.required || []).concat(result.content[\"multipart/form-data\"].schema.required||[]);\n                    if (!op.requestBody.content[\"multipart/form-data\"].schema.required.length) {\n                        delete op.requestBody.content[\"multipart/form-data\"].schema.required;\n                    }\n                }\n                else if ((op.requestBody.content && op.requestBody.content[\"application/x-www-form-urlencoded\"] && op.requestBody.content[\"application/x-www-form-urlencoded\"].schema && op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties)\n                    && result.content[\"application/x-www-form-urlencoded\"] && result.content[\"application/x-www-form-urlencoded\"].schema && result.content[\"application/x-www-form-urlencoded\"].schema.properties) {\n                    op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties =\n                        Object.assign(op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties, result.content[\"application/x-www-form-urlencoded\"].schema.properties);\n                    op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required = (op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required || []).concat(result.content[\"application/x-www-form-urlencoded\"].schema.required||[]);\n                    if (!op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required.length) {\n                        delete op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required;\n                    }\n                }\n                else {\n                    op.requestBody = Object.assign(op.requestBody, result);\n                    if (!op.requestBody['x-s2o-name']) {\n                        if (op.requestBody.schema && op.requestBody.schema.$ref) {\n                            op.requestBody['x-s2o-name'] = decodeURIComponent(op.requestBody.schema.$ref.replace('#/components/schemas/', '')).split('/').join('');\n                        }\n                        else if (op.operationId) {\n                            op.requestBody['x-s2o-name'] = common.sanitiseAll(op.operationId);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // tidy up\n    if (param && !param['x-s2o-delete']) {\n        delete param.type;\n        for (let prop of common.parameterTypeProperties) {\n            delete param[prop];\n        }\n\n        if ((param.in === 'path') && ((typeof param.required === 'undefined') || (param.required !== true))) {\n            if (options.patch) {\n                options.patches++;\n                param.required = true;\n            }\n            else {\n                throwError('(Patchable) path parameters must be required:true ['+param.name+' in '+index+']', options);\n            }\n        }\n    }\n\n    return op;\n}\n\nfunction copyExtensions(src, tgt) {\n    for (let prop in src) {\n        if (prop.startsWith('x-') && !prop.startsWith('x-s2o')) {\n            tgt[prop] = src[prop];\n        }\n    }\n}\n\nfunction processResponse(response, name, op, openapi, options) {\n    if (!response) return false;\n    if (response.$ref && (typeof response.$ref === 'string')) {\n        if (response.$ref.indexOf('#/definitions/') >= 0) {\n            //response.$ref = '#/components/schemas/'+common.sanitise(response.$ref.replace('#/definitions/',''));\n            throwOrWarn('definition used as response: ' + response.$ref, response, options);\n        }\n        else {\n            if (response.$ref.startsWith('#/responses/')) {\n                response.$ref = '#/components/responses/' + common.sanitise(decodeURIComponent(response.$ref.replace('#/responses/', '')));\n            }\n        }\n    }\n    else {\n        if ((typeof response.description === 'undefined') || (response.description === null)\n            || ((response.description === '') && options.patch)) {\n            if (options.patch) {\n                if ((typeof response === 'object') && (!Array.isArray(response))) {\n                    options.patches++;\n                    response.description = (statusCodes[response] || '');\n                }\n            }\n            else {\n                throwError('(Patchable) response.description is mandatory', options);\n            }\n        }\n        if (typeof response.schema !== 'undefined') {\n\n            fixUpSchema(response.schema,options);\n\n            if (response.schema.$ref && (typeof response.schema.$ref === 'string') && response.schema.$ref.startsWith('#/responses/')) {\n                response.schema.$ref = '#/components/responses/' + common.sanitise(decodeURIComponent(response.schema.$ref.replace('#/responses/', '')));\n            }\n\n            if (op && op.produces && (typeof op.produces === 'string')) {\n                if (options.patch) {\n                    options.patches++;\n                    op.produces = [op.produces];\n                }\n                else {\n                    return throwError('(Patchable) operation.produces must be an array', options);\n                }\n            }\n            if (openapi.produces && !Array.isArray(openapi.produces)) delete openapi.produces;\n\n            let produces = ((op ? op.produces : null) || (openapi.produces || [])).filter(common.uniqueOnly);\n            if (!produces.length) produces.push('*/*'); // TODO verify default\n\n            response.content = {};\n            for (let mimetype of produces) {\n                response.content[mimetype] = {};\n                response.content[mimetype].schema = clone(response.schema);\n                if (response.examples && response.examples[mimetype]) {\n                    let example = {};\n                    example.value = response.examples[mimetype];\n                    response.content[mimetype].examples = {};\n                    response.content[mimetype].examples.response = example;\n                    delete response.examples[mimetype];\n                }\n                if (response.content[mimetype].schema.type === 'file') {\n                    response.content[mimetype].schema = { type: 'string', format: 'binary' };\n                }\n            }\n            delete response.schema;\n        }\n        // examples for content-types not listed in produces\n        for (let mimetype in response.examples) {\n            if (!response.content) response.content = {};\n            if (!response.content[mimetype]) response.content[mimetype] = {};\n            response.content[mimetype].examples = {};\n            response.content[mimetype].examples.response = {};\n            response.content[mimetype].examples.response.value = response.examples[mimetype];\n        }\n        delete response.examples;\n\n        if (response.headers) {\n            for (let h in response.headers) {\n                if (h.toLowerCase() === 'status code') {\n                    if (options.patch) {\n                        options.patches++;\n                        delete response.headers[h];\n                    }\n                    else {\n                        throwError('(Patchable) \"Status Code\" is not a valid header', options);\n                    }\n                }\n                else {\n                    processHeader(response.headers[h], options);\n                }\n            }\n        }\n    }\n}\n\nfunction processPaths(container, containerName, options, requestBodyCache, openapi) {\n    for (let p in container) {\n        let path = container[p];\n        // path.$ref is external only\n        if (path && (path['x-trace']) && (typeof path['x-trace'] === 'object')) {\n            path.trace = path['x-trace'];\n            delete path['x-trace'];\n        }\n        if (path && (path['x-summary']) && (typeof path['x-summary'] === 'string')) {\n            path.summary = path['x-summary'];\n            delete path['x-summary'];\n        }\n        if (path && (path['x-description']) && (typeof path['x-description'] === 'string')) {\n            path.description = path['x-description'];\n            delete path['x-description'];\n        }\n        if (path && (path['x-servers']) && (Array.isArray(path['x-servers']))) {\n            path.servers = path['x-servers'];\n            delete path['x-servers'];\n        }\n        for (let method in path) {\n            if ((common.httpMethods.indexOf(method) >= 0) || (method === 'x-amazon-apigateway-any-method')) {\n                let op = path[method];\n\n                if (op && op.parameters && Array.isArray(op.parameters)) {\n                    if (path.parameters) {\n                        for (let param of path.parameters) {\n                            if (typeof param.$ref === 'string') {\n                                fixParamRef(param, options);\n                                param = resolveInternal(openapi, param.$ref);\n                            }\n                            let match = op.parameters.find(function (e, i, a) {\n                                return ((e.name === param.name) && (e.in === param.in));\n                            });\n\n                            if (!match && ((param.in === 'formData') || (param.in === 'body') || (param.type === 'file'))) {\n                                op = processParameter(param, op, path, method, p, openapi, options);\n                                if (options.rbname && op[options.rbname] === '') {\n                                    delete op[options.rbname];\n                                }\n                            }\n                        }\n                    }\n                    for (let param of op.parameters) {\n                        op = processParameter(param, op, path, method, method + ':' + p, openapi, options);\n                    }\n                    if (options.rbname && op[options.rbname] === '') {\n                        delete op[options.rbname];\n                    }\n                    if (!options.debug) {\n                        if (op.parameters) op.parameters = op.parameters.filter(keepParameters);\n                    }\n                }\n\n                if (op && op.security) processSecurity(op.security);\n\n                //don't need to remove requestBody for non-supported ops as they \"SHALL be ignored\"\n\n                // responses\n                if (typeof op === 'object') {\n                    if (!op.responses) {\n                        let defaultResp = {};\n                        defaultResp.description = 'Default response';\n                        op.responses = { default: defaultResp };\n                    }\n                    for (let r in op.responses) {\n                        let response = op.responses[r];\n                        processResponse(response, r, op, openapi, options);\n                    }\n                }\n\n                if (op && (op['x-servers']) && (Array.isArray(op['x-servers']))) {\n                    op.servers = op['x-servers'];\n                    delete op['x-servers'];\n                } else if (op && op.schemes && op.schemes.length) {\n                    for (let scheme of op.schemes) {\n                        if ((!openapi.schemes) || (openapi.schemes.indexOf(scheme) < 0)) {\n                            if (!op.servers) {\n                                op.servers = [];\n                            }\n                            if (Array.isArray(openapi.servers)) {\n                                for (let server of openapi.servers) {\n                                    let newServer = clone(server);\n                                    let serverUrl = url.parse(newServer.url);\n                                    serverUrl.protocol = scheme;\n                                    newServer.url = serverUrl.format();\n                                    op.servers.push(newServer);\n                                }\n                            }\n                        }\n                    }\n                }\n\n                if (options.debug) {\n                    op[\"x-s2o-consumes\"] = op.consumes || [];\n                    op[\"x-s2o-produces\"] = op.produces || [];\n                }\n                if (op) {\n                    delete op.consumes;\n                    delete op.produces;\n                    delete op.schemes;\n\n                    if (op[\"x-ms-examples\"]) {\n                        for (let e in op[\"x-ms-examples\"]) {\n                            let example = op[\"x-ms-examples\"][e];\n                            let se = common.sanitiseAll(e);\n                            if (example.parameters) {\n                                for (let p in example.parameters) {\n                                    let value = example.parameters[p];\n                                    for (let param of (op.parameters||[]).concat(path.parameters||[])) {\n                                        if (param.$ref) {\n                                            param = jptr.jptr(openapi,param.$ref);\n                                        }\n                                        if ((param.name === p) && (!param.example)) {\n                                            if (!param.examples) {\n                                                param.examples = {};\n                                            }\n                                            param.examples[e] = {value: value};\n                                        }\n                                    }\n                                }\n                            }\n                            if (example.responses) {\n                                for (let r in example.responses) {\n                                    if (example.responses[r].headers) {\n                                        for (let h in example.responses[r].headers) {\n                                            let value = example.responses[r].headers[h];\n                                            for (let rh in op.responses[r].headers) {\n                                                if (rh === h) {\n                                                    let header = op.responses[r].headers[rh];\n                                                    header.example = value;\n                                                }\n                                            }\n                                        }\n                                    }\n                                    if (example.responses[r].body) {\n                                        openapi.components.examples[se] = { value: clone(example.responses[r].body) };\n                                        if (op.responses[r] && op.responses[r].content) {\n                                            for (let ct in op.responses[r].content) {\n                                                let contentType = op.responses[r].content[ct];\n                                                if (!contentType.examples) {\n                                                    contentType.examples = {};\n                                                }\n                                                contentType.examples[e] = { $ref: '#/components/examples/'+se };\n                                            }\n                                        }\n                                    }\n\n                                }\n                            }\n                        }\n                        delete op[\"x-ms-examples\"];\n                    }\n\n                    if (op.parameters && op.parameters.length === 0) delete op.parameters;\n                    if (op.requestBody) {\n                        let effectiveOperationId = op.operationId ? common.sanitiseAll(op.operationId) : common.sanitiseAll(method + p).toCamelCase();\n                        let rbName = common.sanitise(op.requestBody['x-s2o-name'] || effectiveOperationId || '');\n                        delete op.requestBody['x-s2o-name'];\n                        let rbStr = JSON.stringify(op.requestBody);\n                        let rbHash = common.hash(rbStr);\n                        if (!requestBodyCache[rbHash]) {\n                            let entry = {};\n                            entry.name = rbName;\n                            entry.body = op.requestBody;\n                            entry.refs = [];\n                            requestBodyCache[rbHash] = entry;\n                        }\n                        let ptr = '#/'+containerName+'/'+encodeURIComponent(jptr.jpescape(p))+'/'+method+'/requestBody';\n                        requestBodyCache[rbHash].refs.push(ptr);\n                    }\n                }\n\n            }\n        }\n        if (path && path.parameters) {\n            for (let p2 in path.parameters) {\n                let param = path.parameters[p2];\n                processParameter(param, null, path, null, p, openapi, options); // index here is the path string\n            }\n            if (!options.debug && Array.isArray(path.parameters)) {\n                path.parameters = path.parameters.filter(keepParameters);\n            }\n        }\n    }\n}\n\nfunction main(openapi, options) {\n\n    let requestBodyCache = {};\n    componentNames = { schemas: {} };\n\n    if (openapi.security) processSecurity(openapi.security);\n\n    for (let s in openapi.components.securitySchemes) {\n        let sname = common.sanitise(s);\n        if (s !== sname) {\n            if (openapi.components.securitySchemes[sname]) {\n                throwError('Duplicate sanitised securityScheme name ' + sname, options);\n            }\n            openapi.components.securitySchemes[sname] = openapi.components.securitySchemes[s];\n            delete openapi.components.securitySchemes[s];\n        }\n        processSecurityScheme(openapi.components.securitySchemes[sname], options);\n    }\n\n    for (let s in openapi.components.schemas) {\n        let sname = common.sanitiseAll(s);\n        let suffix = '';\n        if (s !== sname) {\n            while (openapi.components.schemas[sname + suffix]) {\n                // @ts-ignore\n                suffix = (suffix ? ++suffix : 2);\n            }\n            openapi.components.schemas[sname + suffix] = openapi.components.schemas[s];\n            delete openapi.components.schemas[s];\n        }\n        componentNames.schemas[s] = sname + suffix;\n        fixUpSchema(openapi.components.schemas[sname+suffix],options)\n    }\n\n    // fix all $refs to their new locations (and potentially new names)\n    options.refmap = {};\n    recurse(openapi, { payload: { options: options } }, fixupRefs);\n    dedupeRefs(openapi,options);\n\n    for (let p in openapi.components.parameters) {\n        let sname = common.sanitise(p);\n        if (p !== sname) {\n            if (openapi.components.parameters[sname]) {\n                throwError('Duplicate sanitised parameter name ' + sname, options);\n            }\n            openapi.components.parameters[sname] = openapi.components.parameters[p];\n            delete openapi.components.parameters[p];\n        }\n        let param = openapi.components.parameters[sname];\n        processParameter(param, null, null, null, sname, openapi, options);\n    }\n\n    for (let r in openapi.components.responses) {\n        let sname = common.sanitise(r);\n        if (r !== sname) {\n            if (openapi.components.responses[sname]) {\n                throwError('Duplicate sanitised response name ' + sname, options);\n            }\n            openapi.components.responses[sname] = openapi.components.responses[r];\n            delete openapi.components.responses[r];\n        }\n        let response = openapi.components.responses[sname];\n        processResponse(response, sname, null, openapi, options);\n        if (response.headers) {\n            for (let h in response.headers) {\n                if (h.toLowerCase() === 'status code') {\n                    if (options.patch) {\n                        options.patches++;\n                        delete response.headers[h];\n                    }\n                    else {\n                        throwError('(Patchable) \"Status Code\" is not a valid header', options);\n                    }\n                }\n                else {\n                    processHeader(response.headers[h], options);\n                }\n            }\n        }\n    }\n\n    for (let r in openapi.components.requestBodies) { // converted ones\n        let rb = openapi.components.requestBodies[r];\n        let rbStr = JSON.stringify(rb);\n        let rbHash = common.hash(rbStr);\n        let entry = {};\n        entry.name = r;\n        entry.body = rb;\n        entry.refs = [];\n        requestBodyCache[rbHash] = entry;\n    }\n\n    processPaths(openapi.paths, 'paths', options, requestBodyCache, openapi);\n    if (openapi[\"x-ms-paths\"]) {\n        processPaths(openapi[\"x-ms-paths\"], 'x-ms-paths', options, requestBodyCache, openapi);\n    }\n\n    if (!options.debug) {\n        for (let p in openapi.components.parameters) {\n            let param = openapi.components.parameters[p];\n            if (param[\"x-s2o-delete\"]) {\n                delete openapi.components.parameters[p];\n            }\n        }\n    }\n\n    if (options.debug) {\n        openapi[\"x-s2o-consumes\"] = openapi.consumes || [];\n        openapi[\"x-s2o-produces\"] = openapi.produces || [];\n    }\n    delete openapi.consumes;\n    delete openapi.produces;\n    delete openapi.schemes;\n\n    let rbNamesGenerated = [];\n\n    openapi.components.requestBodies = {}; // for now as we've dereffed them\n\n    if (!options.resolveInternal) {\n        let counter = 1;\n        for (let e in requestBodyCache) {\n            let entry = requestBodyCache[e];\n            if (entry.refs.length > 1) {\n                // create a shared requestBody\n                let suffix = '';\n                if (!entry.name) {\n                    entry.name = 'requestBody';\n                    // @ts-ignore\n                    suffix = counter++;\n                }\n                while (rbNamesGenerated.indexOf(entry.name + suffix) >= 0) {\n                    // @ts-ignore - this can happen if descriptions are not exactly the same (e.g. bitbucket)\n                    suffix = (suffix ? ++suffix : 2);\n                }\n                entry.name = entry.name + suffix;\n                rbNamesGenerated.push(entry.name);\n                openapi.components.requestBodies[entry.name] = clone(entry.body);\n                for (let r in entry.refs) {\n                    let ref = {};\n                    ref.$ref = '#/components/requestBodies/' + entry.name;\n                    jptr.jptr(openapi,entry.refs[r],ref);\n                }\n            }\n        }\n    }\n\n    if (openapi.components.responses && Object.keys(openapi.components.responses).length === 0) {\n        delete openapi.components.responses;\n    }\n    if (openapi.components.parameters && Object.keys(openapi.components.parameters).length === 0) {\n        delete openapi.components.parameters;\n    }\n    if (openapi.components.examples && Object.keys(openapi.components.examples).length === 0) {\n        delete openapi.components.examples;\n    }\n    if (openapi.components.requestBodies && Object.keys(openapi.components.requestBodies).length === 0) {\n        delete openapi.components.requestBodies;\n    }\n    if (openapi.components.securitySchemes && Object.keys(openapi.components.securitySchemes).length === 0) {\n        delete openapi.components.securitySchemes;\n    }\n    if (openapi.components.headers && Object.keys(openapi.components.headers).length === 0) {\n        delete openapi.components.headers;\n    }\n    if (openapi.components.schemas && Object.keys(openapi.components.schemas).length === 0) {\n        delete openapi.components.schemas;\n    }\n    if (openapi.components && Object.keys(openapi.components).length === 0) {\n        delete openapi.components;\n    }\n\n    return openapi;\n}\n\nfunction extractServerParameters(server) {\n    if (!server || !server.url || (typeof server.url !== 'string')) return server;\n    server.url = server.url.split('{{').join('{');\n    server.url = server.url.split('}}').join('}');\n    server.url.replace(/\\{(.+?)\\}/g, function (match, group1) { // TODO extend to :parameters (not port)?\n        if (!server.variables) {\n            server.variables = {};\n        }\n        server.variables[group1] = { default: 'unknown' };\n    });\n    return server;\n}\n\nfunction fixInfo(openapi, options, reject) {\n    if ((typeof openapi.info === 'undefined') || (openapi.info === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info = { version: '', title: '' };\n        }\n        else {\n            return reject(new S2OError('(Patchable) info object is mandatory'));\n        }\n    }\n    if ((typeof openapi.info !== 'object') || (Array.isArray(openapi.info))) {\n        return reject(new S2OError('info must be an object'));\n    }\n    if ((typeof openapi.info.title === 'undefined') || (openapi.info.title === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.title = '';\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.title cannot be null'));\n        }\n    }\n    if ((typeof openapi.info.version === 'undefined') || (openapi.info.version === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.version = '';\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.version cannot be null'));\n        }\n    }\n    if (typeof openapi.info.version !== 'string') {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.version = openapi.info.version.toString();\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.version must be a string'));\n        }\n    }\n    if (typeof openapi.info.logo !== 'undefined') {\n        if (options.patch) {\n            options.patches++;\n            openapi.info['x-logo'] = openapi.info.logo;\n            delete openapi.info.logo;\n        }\n        else return reject(new S2OError('(Patchable) info should not have logo property'));\n    }\n    if (typeof openapi.info.termsOfService !== 'undefined') {\n        if (openapi.info.termsOfService === null) {\n            if (options.patch) {\n                options.patches++;\n                openapi.info.termsOfService = '';\n            }\n            else {\n                return reject(new S2OError('(Patchable) info.termsOfService cannot be null'));\n            }\n        }\n        try {\n            let u = new URL(openapi.info.termsOfService);\n        }\n        catch (ex) {\n            if (options.patch) {\n                options.patches++;\n                delete openapi.info.termsOfService;\n            }\n            else return reject(new S2OError('(Patchable) info.termsOfService must be a URL'));\n        }\n    }\n}\n\nfunction fixPaths(openapi, options, reject) {\n    if (typeof openapi.paths === 'undefined') {\n        if (options.patch) {\n            options.patches++;\n            openapi.paths = {};\n        }\n        else {\n            return reject(new S2OError('(Patchable) paths object is mandatory'));\n        }\n    }\n}\n\nfunction detectObjectReferences(obj, options) {\n    const seen = new WeakSet();\n    recurse(obj, {identityDetection:true}, function (obj, key, state) {\n        if ((typeof obj[key] === 'object') && (obj[key] !== null)) {\n            if (seen.has(obj[key])) {\n                if (options.anchors) {\n                    obj[key] = clone(obj[key]);\n                }\n                else {\n                    throwError('YAML anchor or merge key at '+state.path, options);\n                }\n            }\n            else {\n                seen.add(obj[key]);\n            }\n        }\n    });\n}\n\nfunction convertObj(swagger, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        if (!swagger) swagger = {};\n        options.original = swagger;\n        if (!options.text) options.text = yaml.stringify(swagger);\n        options.externals = [];\n        options.externalRefs = {};\n        options.rewriteRefs = true; // avoids stack explosions\n        options.preserveMiro = true;\n        options.promise = {};\n        options.promise.resolve = resolve;\n        options.promise.reject = reject;\n        options.patches = 0;\n        if (!options.cache) options.cache = {};\n        if (options.source) options.cache[options.source] = options.original;\n\n        detectObjectReferences(swagger, options);\n\n        if (swagger.openapi && (typeof swagger.openapi === 'string') && swagger.openapi.startsWith('3.')) {\n            options.openapi = cclone(swagger);\n            fixInfo(options.openapi, options, reject);\n            fixPaths(options.openapi, options, reject);\n\n            resolver.optionalResolve(options) // is a no-op if options.resolve is not set\n            .then(function(){\n                if (options.direct) {\n                    return resolve(options.openapi);\n                }\n                else {\n                    return resolve(options);\n                }\n            })\n            .catch(function(ex){\n                console.warn(ex);\n                reject(ex);\n            });\n            return; // we should have resolved or rejected by now\n        }\n\n        if ((!swagger.swagger) || (swagger.swagger != \"2.0\")) {\n            return reject(new S2OError('Unsupported swagger/OpenAPI version: ' + (swagger.openapi ? swagger.openapi : swagger.swagger)));\n        }\n\n        let openapi = options.openapi = {};\n        openapi.openapi = (typeof options.targetVersion === 'string' && options.targetVersion.startsWith('3.')) ? options.targetVersion : targetVersion; // semver\n\n        if (options.origin) {\n            if (!openapi[\"x-origin\"]) {\n                openapi[\"x-origin\"] = [];\n            }\n            let origin = {};\n            origin.url = options.source||options.origin;\n            origin.format = 'swagger';\n            origin.version = swagger.swagger;\n            origin.converter = {};\n            origin.converter.url = 'https://github.com/mermade/oas-kit';\n            origin.converter.version = ourVersion;\n            openapi[\"x-origin\"].push(origin);\n        }\n\n        // we want the new and existing properties to appear in a sensible order. Not guaranteed\n        openapi = Object.assign(openapi, cclone(swagger));\n        delete openapi.swagger;\n        recurse(openapi, {}, function(obj, key, state){\n            if ((obj[key] === null) && (!key.startsWith('x-')) && key !== 'default' && (state.path.indexOf('/example') < 0)) delete obj[key]; // this saves *so* much grief later\n        });\n\n        if (swagger.host) {\n            for (let s of (Array.isArray(swagger.schemes) ? swagger.schemes : [''])) {\n                let server = {};\n                let basePath = (swagger.basePath || '').replace(/\\/$/, '') // Trailing slashes generally shouldn't be included\n                server.url = (s ? s+':' : '') + '//' + swagger.host + basePath;\n                extractServerParameters(server);\n                if (!openapi.servers) openapi.servers = [];\n                openapi.servers.push(server);\n            }\n        }\n        else if (swagger.basePath) {\n            let server = {};\n            server.url = swagger.basePath;\n            extractServerParameters(server);\n            if (!openapi.servers) openapi.servers = [];\n            openapi.servers.push(server);\n        }\n        delete openapi.host;\n        delete openapi.basePath;\n\n        if (openapi['x-servers'] && Array.isArray(openapi['x-servers'])) {\n            openapi.servers = openapi['x-servers'];\n            delete openapi['x-servers'];\n        }\n\n        // TODO APIMatic extensions (x-server-configuration) ?\n\n        if (swagger['x-ms-parameterized-host']) {\n            let xMsPHost = swagger['x-ms-parameterized-host'];\n            let server = {};\n            server.url = xMsPHost.hostTemplate + (swagger.basePath ? swagger.basePath : '');\n            server.variables = {};\n            const paramNames = server.url.match(/\\{\\w+\\}/g);\n            for (let msp in xMsPHost.parameters) {\n                let param = xMsPHost.parameters[msp];\n                if (param.$ref) {\n                    param = clone(resolveInternal(openapi, param.$ref));\n                }\n                if (!msp.startsWith('x-')) {\n                    delete param.required; // all true\n                    delete param.type; // all strings\n                    delete param.in; // all 'host'\n                    if (typeof param.default === 'undefined') {\n                        if (param.enum) {\n                            param.default = param.enum[0];\n                        }\n                        else {\n                            param.default = 'none';\n                        }\n                    }\n                    if (!param.name) {\n                      param.name = paramNames[msp].replace('{','').replace('}','');\n                    }\n                    server.variables[param.name] = param;\n                    delete param.name;\n                }\n            }\n            if (!openapi.servers) openapi.servers = [];\n            if (xMsPHost.useSchemePrefix === false) {\n                // The server URL already includes a protocol scheme\n                openapi.servers.push(server);\n            } else {\n                // Define this server once for each given protocol scheme\n                swagger.schemes.forEach((scheme) => {\n                    openapi.servers.push(\n                        Object.assign({}, server, { url: scheme + '://' + server.url })\n                    )\n                });\n            }\n            delete openapi['x-ms-parameterized-host'];\n        }\n\n        fixInfo(openapi, options, reject);\n        fixPaths(openapi, options, reject);\n\n        if (typeof openapi.consumes === 'string') {\n            openapi.consumes = [openapi.consumes];\n        }\n        if (typeof openapi.produces === 'string') {\n            openapi.produces = [openapi.produces];\n        }\n\n        openapi.components = {};\n        if (openapi['x-callbacks']) {\n            openapi.components.callbacks = openapi['x-callbacks'];\n            delete openapi['x-callbacks'];\n        }\n        openapi.components.examples = {};\n        openapi.components.headers = {};\n        if (openapi['x-links']) {\n            openapi.components.links = openapi['x-links'];\n            delete openapi['x-links'];\n        }\n        openapi.components.parameters = openapi.parameters || {};\n        openapi.components.responses = openapi.responses || {};\n        openapi.components.requestBodies = {};\n        openapi.components.securitySchemes = openapi.securityDefinitions || {};\n        openapi.components.schemas = openapi.definitions || {};\n        delete openapi.definitions;\n        delete openapi.responses;\n        delete openapi.parameters;\n        delete openapi.securityDefinitions;\n\n        resolver.optionalResolve(options) // is a no-op if options.resolve is not set\n        .then(function(){\n            main(options.openapi, options);\n            if (options.direct) {\n                resolve(options.openapi);\n            }\n            else {\n                resolve(options);\n            }\n        })\n        .catch(function(ex){\n            console.warn(ex);\n            reject(ex);\n        });\n\n    }));\n}\n\nfunction convertStr(str, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        let obj = null;\n        let error = null;\n        try {\n            obj = JSON.parse(str);\n            options.text = JSON.stringify(obj,null,2);\n        }\n        catch (ex) {\n            error = ex;\n            try {\n                obj = yaml.parse(str, { schema: 'core', prettyErrors: true });\n                options.sourceYaml = true;\n                options.text = str;\n            }\n            catch (ex) {\n                error = ex;\n            }\n        }\n        if (obj) {\n            convertObj(obj, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        }\n        else {\n            reject(new S2OError(error ? error.message : 'Could not parse string'));\n        }\n    }));\n}\n\nfunction convertUrl(url, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        options.origin = true;\n        if (!options.source) {\n            options.source = url;\n        }\n        if (options.verbose) {\n            console.warn('GET ' + url);\n        }\n        if (!options.fetch) {\n          options.fetch = fetch;\n        }\n        const fetchOptions = Object.assign({}, options.fetchOptions, {agent:options.agent});\n        options.fetch(url, fetchOptions).then(function (res) {\n            if (res.status !== 200) throw new S2OError(`Received status code ${res.status}: ${url}`);\n            return res.text();\n        }).then(function (body) {\n            convertStr(body, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        }).catch(function (err) {\n            reject(err);\n        });\n    }));\n}\n\nfunction convertFile(filename, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        fs.readFile(filename, options.encoding || 'utf8', function (err, s) {\n            if (err) {\n                reject(err);\n            }\n            else {\n                options.sourceFile = filename;\n                convertStr(s, options)\n                .then(options => resolve(options))\n                .catch(ex => reject(ex));\n            }\n        });\n    }));\n}\n\nfunction convertStream(readable, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        let data = '';\n        readable.on('data', function (chunk) {\n            data += chunk;\n        })\n        .on('end', function () {\n            convertStr(data, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        });\n    }));\n}\n\nmodule.exports = {\n    S2OError: S2OError,\n    targetVersion: targetVersion,\n    convert: convertObj,\n    convertObj: convertObj,\n    convertUrl: convertUrl,\n    convertStr: convertStr,\n    convertFile: convertFile,\n    convertStream: convertStream\n};\n","'use strict';\n\nconst http = require('http');\n\nconst ours = {\n    \"default\": \"Default response\",\n    \"1XX\": \"Informational\",\n    \"103\": \"Early hints\", // not in Node < 10\n    \"2XX\": \"Successful\",\n    \"3XX\": \"Redirection\",\n    \"4XX\": \"Client Error\",\n    \"5XX\": \"Server Error\",\n    \"7XX\": \"Developer Error\" // April fools RFC\n};\n\nmodule.exports = {\n    statusCodes: Object.assign({},ours,http.STATUS_CODES)\n};\n\n","module.exports = {};\r\n","import * as lunr from 'lunr';\r\n\r\n/* just for better typings */\r\nexport default class Worker {\r\n  add: typeof add = add;\r\n  done = done;\r\n  search: typeof search = search;\r\n  toJS = toJS;\r\n  load = load;\r\n  dispose = dispose;\r\n  fromExternalJS = fromExternalJS;\r\n}\r\n\r\nexport interface SearchDocument {\r\n  title: string;\r\n  description: string;\r\n  id: string;\r\n}\r\n\r\nexport interface SearchResult<T = string> {\r\n  meta: T;\r\n  score: number;\r\n}\r\n\r\nlet store: any[] = [];\r\n\r\nlunr.tokenizer.separator = /\\s+/;\r\n\r\nlet builder: lunr.Builder;\r\n\r\nlet resolveIndex: (v: lunr.Index) => void;\r\n\r\nlet index: Promise<lunr.Index>;\r\n\r\nfunction initEmpty() {\r\n  builder = new lunr.Builder();\r\n  builder.field('title');\r\n  builder.field('description');\r\n  builder.ref('ref');\r\n\r\n  builder.pipeline.add(lunr.trimmer, lunr.stopWordFilter, lunr.stemmer);\r\n\r\n  index = new Promise(resolve => {\r\n    resolveIndex = resolve;\r\n  });\r\n}\r\n\r\ninitEmpty();\r\n\r\nconst expandTerm = term => '*' + lunr.stemmer(new lunr.Token(term, {})) + '*';\r\n\r\nexport function add<T>(title: string, description: string, meta?: T) {\r\n  const ref = store.push(meta) - 1;\r\n  const item = { title: title.toLowerCase(), description: description.toLowerCase(), ref };\r\n  builder.add(item);\r\n}\r\n\r\nexport async function done() {\r\n  resolveIndex(builder.build());\r\n}\r\n\r\nexport async function toJS() {\r\n  return {\r\n    store,\r\n    index: (await index).toJSON(),\r\n  };\r\n}\r\n\r\nexport async function fromExternalJS(path: string, exportName: string) {\r\n  try {\r\n    importScripts(path);\r\n    if (!self[exportName]) {\r\n      throw new Error('Broken index file format');\r\n    }\r\n\r\n    load(self[exportName]);\r\n  } catch (e) {\r\n    console.error('Failed to load search index: ' + e.message);\r\n  }\r\n}\r\n\r\nexport async function load(state: any) {\r\n  store = state.store;\r\n  resolveIndex(lunr.Index.load(state.index));\r\n}\r\n\r\nexport async function dispose() {\r\n  store = [];\r\n  initEmpty();\r\n}\r\n\r\nexport async function search<Meta = string>(\r\n  q: string,\r\n  limit = 0,\r\n): Promise<Array<SearchResult<Meta>>> {\r\n  if (q.trim().length === 0) {\r\n    return [];\r\n  }\r\n\r\n  let searchResults = (await index).query(t => {\r\n    q.trim()\r\n      .toLowerCase()\r\n      .split(/\\s+/)\r\n      .forEach(term => {\r\n        if (term.length === 1) return;\r\n        const exp = expandTerm(term);\r\n        t.term(exp, {});\r\n      });\r\n  });\r\n\r\n  if (limit > 0) {\r\n    searchResults = searchResults.slice(0, limit);\r\n  }\r\n\r\n  return searchResults.map(res => ({ meta: store[res.ref], score: res.score }));\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"lunr\");;","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/*\\r\\n * Container style\\r\\n */\\r\\n.ps {\\r\\n  overflow: hidden !important;\\r\\n  overflow-anchor: none;\\r\\n  -ms-overflow-style: none;\\r\\n  touch-action: auto;\\r\\n  -ms-touch-action: auto;\\r\\n}\\r\\n\\r\\n/*\\r\\n * Scrollbar rail styles\\r\\n */\\r\\n.ps__rail-x {\\r\\n  display: none;\\r\\n  opacity: 0;\\r\\n  transition: background-color .2s linear, opacity .2s linear;\\r\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\r\\n  height: 15px;\\r\\n  /* there must be 'bottom' or 'top' for ps__rail-x */\\r\\n  bottom: 0px;\\r\\n  /* please don't change 'position' */\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.ps__rail-y {\\r\\n  display: none;\\r\\n  opacity: 0;\\r\\n  transition: background-color .2s linear, opacity .2s linear;\\r\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\r\\n  width: 15px;\\r\\n  /* there must be 'right' or 'left' for ps__rail-y */\\r\\n  right: 0;\\r\\n  /* please don't change 'position' */\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.ps--active-x > .ps__rail-x,\\r\\n.ps--active-y > .ps__rail-y {\\r\\n  display: block;\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.ps:hover > .ps__rail-x,\\r\\n.ps:hover > .ps__rail-y,\\r\\n.ps--focus > .ps__rail-x,\\r\\n.ps--focus > .ps__rail-y,\\r\\n.ps--scrolling-x > .ps__rail-x,\\r\\n.ps--scrolling-y > .ps__rail-y {\\r\\n  opacity: 0.6;\\r\\n}\\r\\n\\r\\n.ps .ps__rail-x:hover,\\r\\n.ps .ps__rail-y:hover,\\r\\n.ps .ps__rail-x:focus,\\r\\n.ps .ps__rail-y:focus,\\r\\n.ps .ps__rail-x.ps--clicking,\\r\\n.ps .ps__rail-y.ps--clicking {\\r\\n  background-color: #eee;\\r\\n  opacity: 0.9;\\r\\n}\\r\\n\\r\\n/*\\r\\n * Scrollbar thumb styles\\r\\n */\\r\\n.ps__thumb-x {\\r\\n  background-color: #aaa;\\r\\n  border-radius: 6px;\\r\\n  transition: background-color .2s linear, height .2s ease-in-out;\\r\\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\\r\\n  height: 6px;\\r\\n  /* there must be 'bottom' for ps__thumb-x */\\r\\n  bottom: 2px;\\r\\n  /* please don't change 'position' */\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.ps__thumb-y {\\r\\n  background-color: #aaa;\\r\\n  border-radius: 6px;\\r\\n  transition: background-color .2s linear, width .2s ease-in-out;\\r\\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\\r\\n  width: 6px;\\r\\n  /* there must be 'right' for ps__thumb-y */\\r\\n  right: 2px;\\r\\n  /* please don't change 'position' */\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.ps__rail-x:hover > .ps__thumb-x,\\r\\n.ps__rail-x:focus > .ps__thumb-x,\\r\\n.ps__rail-x.ps--clicking .ps__thumb-x {\\r\\n  background-color: #999;\\r\\n  height: 11px;\\r\\n}\\r\\n\\r\\n.ps__rail-y:hover > .ps__thumb-y,\\r\\n.ps__rail-y:focus > .ps__thumb-y,\\r\\n.ps__rail-y.ps--clicking .ps__thumb-y {\\r\\n  background-color: #999;\\r\\n  width: 11px;\\r\\n}\\r\\n\\r\\n/* MS supports */\\r\\n@supports (-ms-overflow-style: none) {\\r\\n  .ps {\\r\\n    overflow: auto !important;\\r\\n  }\\r\\n}\\r\\n\\r\\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\\r\\n  .ps {\\r\\n    overflow: auto !important;\\r\\n  }\\r\\n}\\r\\n\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"add\",\"done\",\"toJS\",\"fromExternalJS\",\"load\",\"dispose\",\"search\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(URL.createObjectURL(new Blob([\"/*! For license information please see 9c7ae0cdcb6fcf1f01ff.worker.js.LICENSE.txt */\\n!function(){var e={757:function(e,t,r){e.exports=r(666)},336:function(e,t,r){var n,i;!function(){var s,o,a,u,c,l,h,f,d,p,y,m,v,g,x,w,k,Q,E,L,b,S,P,T,O,I,R=function(e){var t=new R.Builder;return t.pipeline.add(R.trimmer,R.stopWordFilter,R.stemmer),t.searchPipeline.add(R.stemmer),e.call(t,t),t.build()};R.version=\\\"2.3.9\\\",R.utils={},R.utils.warn=(s=this,function(e){s.console&&console.warn&&console.warn(e)}),R.utils.asString=function(e){return null==e?\\\"\\\":e.toString()},R.utils.clone=function(e){if(null==e)return e;for(var t=Object.create(null),r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],s=e[i];if(Array.isArray(s))t[i]=s.slice();else{if(\\\"string\\\"!=typeof s&&\\\"number\\\"!=typeof s&&\\\"boolean\\\"!=typeof s)throw new TypeError(\\\"clone is not deep and does not support nested objects\\\");t[i]=s}}return t},R.FieldRef=function(e,t,r){this.docRef=e,this.fieldName=t,this._stringValue=r},R.FieldRef.joiner=\\\"/\\\",R.FieldRef.fromString=function(e){var t=e.indexOf(R.FieldRef.joiner);if(-1===t)throw\\\"malformed field ref string\\\";var r=e.slice(0,t),n=e.slice(t+1);return new R.FieldRef(n,r,e)},R.FieldRef.prototype.toString=function(){return null==this._stringValue&&(this._stringValue=this.fieldName+R.FieldRef.joiner+this.docRef),this._stringValue},R.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},R.Set.complete={intersect:function(e){return e},union:function(){return this},contains:function(){return!0}},R.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},R.Set.prototype.contains=function(e){return!!this.elements[e]},R.Set.prototype.intersect=function(e){var t,r,n,i=[];if(e===R.Set.complete)return this;if(e===R.Set.empty)return e;this.length<e.length?(t=this,r=e):(t=e,r=this),n=Object.keys(t.elements);for(var s=0;s<n.length;s++){var o=n[s];o in r.elements&&i.push(o)}return new R.Set(i)},R.Set.prototype.union=function(e){return e===R.Set.complete?R.Set.complete:e===R.Set.empty?this:new R.Set(Object.keys(this.elements).concat(Object.keys(e.elements)))},R.idf=function(e,t){var r=0;for(var n in e)\\\"_index\\\"!=n&&(r+=Object.keys(e[n]).length);var i=(t-r+.5)/(r+.5);return Math.log(1+Math.abs(i))},R.Token=function(e,t){this.str=e||\\\"\\\",this.metadata=t||{}},R.Token.prototype.toString=function(){return this.str},R.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},R.Token.prototype.clone=function(e){return e=e||function(e){return e},new R.Token(e(this.str,this.metadata),this.metadata)},R.tokenizer=function(e,t){if(null==e||null==e)return[];if(Array.isArray(e))return e.map((function(e){return new R.Token(R.utils.asString(e).toLowerCase(),R.utils.clone(t))}));for(var r=e.toString().toLowerCase(),n=r.length,i=[],s=0,o=0;s<=n;s++){var a=s-o;if(r.charAt(s).match(R.tokenizer.separator)||s==n){if(a>0){var u=R.utils.clone(t)||{};u.position=[o,a],u.index=i.length,i.push(new R.Token(r.slice(o,s),u))}o=s+1}}return i},R.tokenizer.separator=/[\\\\s\\\\-]+/,R.Pipeline=function(){this._stack=[]},R.Pipeline.registeredFunctions=Object.create(null),R.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&R.utils.warn(\\\"Overwriting existing registered function: \\\"+t),e.label=t,R.Pipeline.registeredFunctions[e.label]=e},R.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||R.utils.warn(\\\"Function is not registered with pipeline. This may cause problems when serialising the index.\\\\n\\\",e)},R.Pipeline.load=function(e){var t=new R.Pipeline;return e.forEach((function(e){var r=R.Pipeline.registeredFunctions[e];if(!r)throw new Error(\\\"Cannot load unregistered function: \\\"+e);t.add(r)})),t},R.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach((function(e){R.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)}),this)},R.Pipeline.prototype.after=function(e,t){R.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error(\\\"Cannot find existingFn\\\");r+=1,this._stack.splice(r,0,t)},R.Pipeline.prototype.before=function(e,t){R.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error(\\\"Cannot find existingFn\\\");this._stack.splice(r,0,t)},R.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},R.Pipeline.prototype.run=function(e){for(var t=this._stack.length,r=0;r<t;r++){for(var n=this._stack[r],i=[],s=0;s<e.length;s++){var o=n(e[s],s,e);if(null!=o&&\\\"\\\"!==o)if(Array.isArray(o))for(var a=0;a<o.length;a++)i.push(o[a]);else i.push(o)}e=i}return e},R.Pipeline.prototype.runString=function(e,t){var r=new R.Token(e,t);return this.run([r]).map((function(e){return e.toString()}))},R.Pipeline.prototype.reset=function(){this._stack=[]},R.Pipeline.prototype.toJSON=function(){return this._stack.map((function(e){return R.Pipeline.warnIfFunctionNotRegistered(e),e.label}))},R.Vector=function(e){this._magnitude=0,this.elements=e||[]},R.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var t=0,r=this.elements.length/2,n=r-t,i=Math.floor(n/2),s=this.elements[2*i];n>1&&(s<e&&(t=i),s>e&&(r=i),s!=e);)n=r-t,i=t+Math.floor(n/2),s=this.elements[2*i];return s==e||s>e?2*i:s<e?2*(i+1):void 0},R.Vector.prototype.insert=function(e,t){this.upsert(e,t,(function(){throw\\\"duplicate index\\\"}))},R.Vector.prototype.upsert=function(e,t,r){this._magnitude=0;var n=this.positionForIndex(e);this.elements[n]==e?this.elements[n+1]=r(this.elements[n+1],t):this.elements.splice(n,0,e,t)},R.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,r=1;r<t;r+=2){var n=this.elements[r];e+=n*n}return this._magnitude=Math.sqrt(e)},R.Vector.prototype.dot=function(e){for(var t=0,r=this.elements,n=e.elements,i=r.length,s=n.length,o=0,a=0,u=0,c=0;u<i&&c<s;)(o=r[u])<(a=n[c])?u+=2:o>a?c+=2:o==a&&(t+=r[u+1]*n[c+1],u+=2,c+=2);return t},R.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},R.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),t=1,r=0;t<this.elements.length;t+=2,r++)e[r]=this.elements[t];return e},R.Vector.prototype.toJSON=function(){return this.elements},R.stemmer=(o={ational:\\\"ate\\\",tional:\\\"tion\\\",enci:\\\"ence\\\",anci:\\\"ance\\\",izer:\\\"ize\\\",bli:\\\"ble\\\",alli:\\\"al\\\",entli:\\\"ent\\\",eli:\\\"e\\\",ousli:\\\"ous\\\",ization:\\\"ize\\\",ation:\\\"ate\\\",ator:\\\"ate\\\",alism:\\\"al\\\",iveness:\\\"ive\\\",fulness:\\\"ful\\\",ousness:\\\"ous\\\",aliti:\\\"al\\\",iviti:\\\"ive\\\",biliti:\\\"ble\\\",logi:\\\"log\\\"},a={icate:\\\"ic\\\",ative:\\\"\\\",alize:\\\"al\\\",iciti:\\\"ic\\\",ical:\\\"ic\\\",ful:\\\"\\\",ness:\\\"\\\"},u=\\\"[aeiouy]\\\",c=\\\"[^aeiou][^aeiouy]*\\\",l=new RegExp(\\\"^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*\\\"),h=new RegExp(\\\"^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*\\\"),f=new RegExp(\\\"^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$\\\"),d=new RegExp(\\\"^([^aeiou][^aeiouy]*)?[aeiouy]\\\"),p=/^(.+?)(ss|i)es$/,y=/^(.+?)([^s])s$/,m=/^(.+?)eed$/,v=/^(.+?)(ed|ing)$/,g=/.$/,x=/(at|bl|iz)$/,w=new RegExp(\\\"([^aeiouylsz])\\\\\\\\1$\\\"),k=new RegExp(\\\"^\\\"+c+u+\\\"[^aeiouwxy]$\\\"),Q=/^(.+?[^aeiou])y$/,E=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,L=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,b=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,S=/^(.+?)(s|t)(ion)$/,P=/^(.+?)e$/,T=/ll$/,O=new RegExp(\\\"^\\\"+c+u+\\\"[^aeiouwxy]$\\\"),I=function(e){var t,r,n,i,s,u,c;if(e.length<3)return e;if(\\\"y\\\"==(n=e.substr(0,1))&&(e=n.toUpperCase()+e.substr(1)),s=y,(i=p).test(e)?e=e.replace(i,\\\"$1$2\\\"):s.test(e)&&(e=e.replace(s,\\\"$1$2\\\")),s=v,(i=m).test(e)){var I=i.exec(e);(i=l).test(I[1])&&(i=g,e=e.replace(i,\\\"\\\"))}else s.test(e)&&(t=(I=s.exec(e))[1],(s=d).test(t)&&(u=w,c=k,(s=x).test(e=t)?e+=\\\"e\\\":u.test(e)?(i=g,e=e.replace(i,\\\"\\\")):c.test(e)&&(e+=\\\"e\\\")));return(i=Q).test(e)&&(e=(t=(I=i.exec(e))[1])+\\\"i\\\"),(i=E).test(e)&&(t=(I=i.exec(e))[1],r=I[2],(i=l).test(t)&&(e=t+o[r])),(i=L).test(e)&&(t=(I=i.exec(e))[1],r=I[2],(i=l).test(t)&&(e=t+a[r])),s=S,(i=b).test(e)?(t=(I=i.exec(e))[1],(i=h).test(t)&&(e=t)):s.test(e)&&(t=(I=s.exec(e))[1]+I[2],(s=h).test(t)&&(e=t)),(i=P).test(e)&&(t=(I=i.exec(e))[1],s=f,u=O,((i=h).test(t)||s.test(t)&&!u.test(t))&&(e=t)),s=h,(i=T).test(e)&&s.test(e)&&(i=g,e=e.replace(i,\\\"\\\")),\\\"y\\\"==n&&(e=n.toLowerCase()+e.substr(1)),e},function(e){return e.update(I)}),R.Pipeline.registerFunction(R.stemmer,\\\"stemmer\\\"),R.generateStopWordFilter=function(e){var t=e.reduce((function(e,t){return e[t]=t,e}),{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},R.stopWordFilter=R.generateStopWordFilter([\\\"a\\\",\\\"able\\\",\\\"about\\\",\\\"across\\\",\\\"after\\\",\\\"all\\\",\\\"almost\\\",\\\"also\\\",\\\"am\\\",\\\"among\\\",\\\"an\\\",\\\"and\\\",\\\"any\\\",\\\"are\\\",\\\"as\\\",\\\"at\\\",\\\"be\\\",\\\"because\\\",\\\"been\\\",\\\"but\\\",\\\"by\\\",\\\"can\\\",\\\"cannot\\\",\\\"could\\\",\\\"dear\\\",\\\"did\\\",\\\"do\\\",\\\"does\\\",\\\"either\\\",\\\"else\\\",\\\"ever\\\",\\\"every\\\",\\\"for\\\",\\\"from\\\",\\\"get\\\",\\\"got\\\",\\\"had\\\",\\\"has\\\",\\\"have\\\",\\\"he\\\",\\\"her\\\",\\\"hers\\\",\\\"him\\\",\\\"his\\\",\\\"how\\\",\\\"however\\\",\\\"i\\\",\\\"if\\\",\\\"in\\\",\\\"into\\\",\\\"is\\\",\\\"it\\\",\\\"its\\\",\\\"just\\\",\\\"least\\\",\\\"let\\\",\\\"like\\\",\\\"likely\\\",\\\"may\\\",\\\"me\\\",\\\"might\\\",\\\"most\\\",\\\"must\\\",\\\"my\\\",\\\"neither\\\",\\\"no\\\",\\\"nor\\\",\\\"not\\\",\\\"of\\\",\\\"off\\\",\\\"often\\\",\\\"on\\\",\\\"only\\\",\\\"or\\\",\\\"other\\\",\\\"our\\\",\\\"own\\\",\\\"rather\\\",\\\"said\\\",\\\"say\\\",\\\"says\\\",\\\"she\\\",\\\"should\\\",\\\"since\\\",\\\"so\\\",\\\"some\\\",\\\"than\\\",\\\"that\\\",\\\"the\\\",\\\"their\\\",\\\"them\\\",\\\"then\\\",\\\"there\\\",\\\"these\\\",\\\"they\\\",\\\"this\\\",\\\"tis\\\",\\\"to\\\",\\\"too\\\",\\\"twas\\\",\\\"us\\\",\\\"wants\\\",\\\"was\\\",\\\"we\\\",\\\"were\\\",\\\"what\\\",\\\"when\\\",\\\"where\\\",\\\"which\\\",\\\"while\\\",\\\"who\\\",\\\"whom\\\",\\\"why\\\",\\\"will\\\",\\\"with\\\",\\\"would\\\",\\\"yet\\\",\\\"you\\\",\\\"your\\\"]),R.Pipeline.registerFunction(R.stopWordFilter,\\\"stopWordFilter\\\"),R.trimmer=function(e){return e.update((function(e){return e.replace(/^\\\\W+/,\\\"\\\").replace(/\\\\W+$/,\\\"\\\")}))},R.Pipeline.registerFunction(R.trimmer,\\\"trimmer\\\"),R.TokenSet=function(){this.final=!1,this.edges={},this.id=R.TokenSet._nextId,R.TokenSet._nextId+=1},R.TokenSet._nextId=1,R.TokenSet.fromArray=function(e){for(var t=new R.TokenSet.Builder,r=0,n=e.length;r<n;r++)t.insert(e[r]);return t.finish(),t.root},R.TokenSet.fromClause=function(e){return\\\"editDistance\\\"in e?R.TokenSet.fromFuzzyString(e.term,e.editDistance):R.TokenSet.fromString(e.term)},R.TokenSet.fromFuzzyString=function(e,t){for(var r=new R.TokenSet,n=[{node:r,editsRemaining:t,str:e}];n.length;){var i=n.pop();if(i.str.length>0){var s,o=i.str.charAt(0);o in i.node.edges?s=i.node.edges[o]:(s=new R.TokenSet,i.node.edges[o]=s),1==i.str.length&&(s.final=!0),n.push({node:s,editsRemaining:i.editsRemaining,str:i.str.slice(1)})}if(0!=i.editsRemaining){if(\\\"*\\\"in i.node.edges)var a=i.node.edges[\\\"*\\\"];else a=new R.TokenSet,i.node.edges[\\\"*\\\"]=a;if(0==i.str.length&&(a.final=!0),n.push({node:a,editsRemaining:i.editsRemaining-1,str:i.str}),i.str.length>1&&n.push({node:i.node,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)}),1==i.str.length&&(i.node.final=!0),i.str.length>=1){if(\\\"*\\\"in i.node.edges)var u=i.node.edges[\\\"*\\\"];else u=new R.TokenSet,i.node.edges[\\\"*\\\"]=u;1==i.str.length&&(u.final=!0),n.push({node:u,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)})}if(i.str.length>1){var c,l=i.str.charAt(0),h=i.str.charAt(1);h in i.node.edges?c=i.node.edges[h]:(c=new R.TokenSet,i.node.edges[h]=c),1==i.str.length&&(c.final=!0),n.push({node:c,editsRemaining:i.editsRemaining-1,str:l+i.str.slice(2)})}}}return r},R.TokenSet.fromString=function(e){for(var t=new R.TokenSet,r=t,n=0,i=e.length;n<i;n++){var s=e[n],o=n==i-1;if(\\\"*\\\"==s)t.edges[s]=t,t.final=o;else{var a=new R.TokenSet;a.final=o,t.edges[s]=a,t=a}}return r},R.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:\\\"\\\",node:this}];t.length;){var r=t.pop(),n=Object.keys(r.node.edges),i=n.length;r.node.final&&(r.prefix.charAt(0),e.push(r.prefix));for(var s=0;s<i;s++){var o=n[s];t.push({prefix:r.prefix.concat(o),node:r.node.edges[o]})}}return e},R.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this.final?\\\"1\\\":\\\"0\\\",t=Object.keys(this.edges).sort(),r=t.length,n=0;n<r;n++){var i=t[n];e=e+i+this.edges[i].id}return e},R.TokenSet.prototype.intersect=function(e){for(var t=new R.TokenSet,r=void 0,n=[{qNode:e,output:t,node:this}];n.length;){r=n.pop();for(var i=Object.keys(r.qNode.edges),s=i.length,o=Object.keys(r.node.edges),a=o.length,u=0;u<s;u++)for(var c=i[u],l=0;l<a;l++){var h=o[l];if(h==c||\\\"*\\\"==c){var f=r.node.edges[h],d=r.qNode.edges[c],p=f.final&&d.final,y=void 0;h in r.output.edges?(y=r.output.edges[h]).final=y.final||p:((y=new R.TokenSet).final=p,r.output.edges[h]=y),n.push({qNode:d,output:y,node:f})}}}return t},R.TokenSet.Builder=function(){this.previousWord=\\\"\\\",this.root=new R.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},R.TokenSet.Builder.prototype.insert=function(e){var t,r=0;if(e<this.previousWord)throw new Error(\\\"Out of order word insertion\\\");for(var n=0;n<e.length&&n<this.previousWord.length&&e[n]==this.previousWord[n];n++)r++;for(this.minimize(r),t=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child,n=r;n<e.length;n++){var i=new R.TokenSet,s=e[n];t.edges[s]=i,this.uncheckedNodes.push({parent:t,char:s,child:i}),t=i}t.final=!0,this.previousWord=e},R.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},R.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;t>=e;t--){var r=this.uncheckedNodes[t],n=r.child.toString();n in this.minimizedNodes?r.parent.edges[r.char]=this.minimizedNodes[n]:(r.child._str=n,this.minimizedNodes[n]=r.child),this.uncheckedNodes.pop()}},R.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},R.Index.prototype.search=function(e){return this.query((function(t){new R.QueryParser(e,t).parse()}))},R.Index.prototype.query=function(e){for(var t=new R.Query(this.fields),r=Object.create(null),n=Object.create(null),i=Object.create(null),s=Object.create(null),o=Object.create(null),a=0;a<this.fields.length;a++)n[this.fields[a]]=new R.Vector;for(e.call(t,t),a=0;a<t.clauses.length;a++){var u,c=t.clauses[a],l=R.Set.empty;u=c.usePipeline?this.pipeline.runString(c.term,{fields:c.fields}):[c.term];for(var h=0;h<u.length;h++){var f=u[h];c.term=f;var d=R.TokenSet.fromClause(c),p=this.tokenSet.intersect(d).toArray();if(0===p.length&&c.presence===R.Query.presence.REQUIRED){for(var y=0;y<c.fields.length;y++)s[F=c.fields[y]]=R.Set.empty;break}for(var m=0;m<p.length;m++){var v=p[m],g=this.invertedIndex[v],x=g._index;for(y=0;y<c.fields.length;y++){var w=g[F=c.fields[y]],k=Object.keys(w),Q=v+\\\"/\\\"+F,E=new R.Set(k);if(c.presence==R.Query.presence.REQUIRED&&(l=l.union(E),void 0===s[F]&&(s[F]=R.Set.complete)),c.presence!=R.Query.presence.PROHIBITED){if(n[F].upsert(x,c.boost,(function(e,t){return e+t})),!i[Q]){for(var L=0;L<k.length;L++){var b,S=k[L],P=new R.FieldRef(S,F),T=w[S];void 0===(b=r[P])?r[P]=new R.MatchData(v,F,T):b.add(v,F,T)}i[Q]=!0}}else void 0===o[F]&&(o[F]=R.Set.empty),o[F]=o[F].union(E)}}}if(c.presence===R.Query.presence.REQUIRED)for(y=0;y<c.fields.length;y++)s[F=c.fields[y]]=s[F].intersect(l)}var O=R.Set.complete,I=R.Set.empty;for(a=0;a<this.fields.length;a++){var F;s[F=this.fields[a]]&&(O=O.intersect(s[F])),o[F]&&(I=I.union(o[F]))}var _=Object.keys(r),j=[],N=Object.create(null);if(t.isNegated())for(_=Object.keys(this.fieldVectors),a=0;a<_.length;a++){P=_[a];var C=R.FieldRef.fromString(P);r[P]=new R.MatchData}for(a=0;a<_.length;a++){var D=(C=R.FieldRef.fromString(_[a])).docRef;if(O.contains(D)&&!I.contains(D)){var A,B=this.fieldVectors[C],z=n[C.fieldName].similarity(B);if(void 0!==(A=N[D]))A.score+=z,A.matchData.combine(r[C]);else{var V={ref:D,score:z,matchData:r[C]};N[D]=V,j.push(V)}}}return j.sort((function(e,t){return t.score-e.score}))},R.Index.prototype.toJSON=function(){var e=Object.keys(this.invertedIndex).sort().map((function(e){return[e,this.invertedIndex[e]]}),this),t=Object.keys(this.fieldVectors).map((function(e){return[e,this.fieldVectors[e].toJSON()]}),this);return{version:R.version,fields:this.fields,fieldVectors:t,invertedIndex:e,pipeline:this.pipeline.toJSON()}},R.Index.load=function(e){var t={},r={},n=e.fieldVectors,i=Object.create(null),s=e.invertedIndex,o=new R.TokenSet.Builder,a=R.Pipeline.load(e.pipeline);e.version!=R.version&&R.utils.warn(\\\"Version mismatch when loading serialised index. Current version of lunr '\\\"+R.version+\\\"' does not match serialized index '\\\"+e.version+\\\"'\\\");for(var u=0;u<n.length;u++){var c=(h=n[u])[0],l=h[1];r[c]=new R.Vector(l)}for(u=0;u<s.length;u++){var h,f=(h=s[u])[0],d=h[1];o.insert(f),i[f]=d}return o.finish(),t.fields=e.fields,t.fieldVectors=r,t.invertedIndex=i,t.tokenSet=o.root,t.pipeline=a,new R.Index(t)},R.Builder=function(){this._ref=\\\"id\\\",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=R.tokenizer,this.pipeline=new R.Pipeline,this.searchPipeline=new R.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},R.Builder.prototype.ref=function(e){this._ref=e},R.Builder.prototype.field=function(e,t){if(/\\\\//.test(e))throw new RangeError(\\\"Field '\\\"+e+\\\"' contains illegal character '/'\\\");this._fields[e]=t||{}},R.Builder.prototype.b=function(e){this._b=e<0?0:e>1?1:e},R.Builder.prototype.k1=function(e){this._k1=e},R.Builder.prototype.add=function(e,t){var r=e[this._ref],n=Object.keys(this._fields);this._documents[r]=t||{},this.documentCount+=1;for(var i=0;i<n.length;i++){var s=n[i],o=this._fields[s].extractor,a=o?o(e):e[s],u=this.tokenizer(a,{fields:[s]}),c=this.pipeline.run(u),l=new R.FieldRef(r,s),h=Object.create(null);this.fieldTermFrequencies[l]=h,this.fieldLengths[l]=0,this.fieldLengths[l]+=c.length;for(var f=0;f<c.length;f++){var d=c[f];if(null==h[d]&&(h[d]=0),h[d]+=1,null==this.invertedIndex[d]){var p=Object.create(null);p._index=this.termIndex,this.termIndex+=1;for(var y=0;y<n.length;y++)p[n[y]]=Object.create(null);this.invertedIndex[d]=p}null==this.invertedIndex[d][s][r]&&(this.invertedIndex[d][s][r]=Object.create(null));for(var m=0;m<this.metadataWhitelist.length;m++){var v=this.metadataWhitelist[m],g=d.metadata[v];null==this.invertedIndex[d][s][r][v]&&(this.invertedIndex[d][s][r][v]=[]),this.invertedIndex[d][s][r][v].push(g)}}}},R.Builder.prototype.calculateAverageFieldLengths=function(){for(var e=Object.keys(this.fieldLengths),t=e.length,r={},n={},i=0;i<t;i++){var s=R.FieldRef.fromString(e[i]),o=s.fieldName;n[o]||(n[o]=0),n[o]+=1,r[o]||(r[o]=0),r[o]+=this.fieldLengths[s]}var a=Object.keys(this._fields);for(i=0;i<a.length;i++){var u=a[i];r[u]=r[u]/n[u]}this.averageFieldLength=r},R.Builder.prototype.createFieldVectors=function(){for(var e={},t=Object.keys(this.fieldTermFrequencies),r=t.length,n=Object.create(null),i=0;i<r;i++){for(var s=R.FieldRef.fromString(t[i]),o=s.fieldName,a=this.fieldLengths[s],u=new R.Vector,c=this.fieldTermFrequencies[s],l=Object.keys(c),h=l.length,f=this._fields[o].boost||1,d=this._documents[s.docRef].boost||1,p=0;p<h;p++){var y,m,v,g=l[p],x=c[g],w=this.invertedIndex[g]._index;void 0===n[g]?(y=R.idf(this.invertedIndex[g],this.documentCount),n[g]=y):y=n[g],m=y*((this._k1+1)*x)/(this._k1*(1-this._b+this._b*(a/this.averageFieldLength[o]))+x),m*=f,m*=d,v=Math.round(1e3*m)/1e3,u.insert(w,v)}e[s]=u}this.fieldVectors=e},R.Builder.prototype.createTokenSet=function(){this.tokenSet=R.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},R.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new R.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},R.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},R.MatchData=function(e,t,r){for(var n=Object.create(null),i=Object.keys(r||{}),s=0;s<i.length;s++){var o=i[s];n[o]=r[o].slice()}this.metadata=Object.create(null),void 0!==e&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=n)},R.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),r=0;r<t.length;r++){var n=t[r],i=Object.keys(e.metadata[n]);null==this.metadata[n]&&(this.metadata[n]=Object.create(null));for(var s=0;s<i.length;s++){var o=i[s],a=Object.keys(e.metadata[n][o]);null==this.metadata[n][o]&&(this.metadata[n][o]=Object.create(null));for(var u=0;u<a.length;u++){var c=a[u];null==this.metadata[n][o][c]?this.metadata[n][o][c]=e.metadata[n][o][c]:this.metadata[n][o][c]=this.metadata[n][o][c].concat(e.metadata[n][o][c])}}}},R.MatchData.prototype.add=function(e,t,r){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=r);if(t in this.metadata[e])for(var n=Object.keys(r),i=0;i<n.length;i++){var s=n[i];s in this.metadata[e][t]?this.metadata[e][t][s]=this.metadata[e][t][s].concat(r[s]):this.metadata[e][t][s]=r[s]}else this.metadata[e][t]=r},R.Query=function(e){this.clauses=[],this.allFields=e},R.Query.wildcard=new String(\\\"*\\\"),R.Query.wildcard.NONE=0,R.Query.wildcard.LEADING=1,R.Query.wildcard.TRAILING=2,R.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},R.Query.prototype.clause=function(e){return\\\"fields\\\"in e||(e.fields=this.allFields),\\\"boost\\\"in e||(e.boost=1),\\\"usePipeline\\\"in e||(e.usePipeline=!0),\\\"wildcard\\\"in e||(e.wildcard=R.Query.wildcard.NONE),e.wildcard&R.Query.wildcard.LEADING&&e.term.charAt(0)!=R.Query.wildcard&&(e.term=\\\"*\\\"+e.term),e.wildcard&R.Query.wildcard.TRAILING&&e.term.slice(-1)!=R.Query.wildcard&&(e.term=e.term+\\\"*\\\"),\\\"presence\\\"in e||(e.presence=R.Query.presence.OPTIONAL),this.clauses.push(e),this},R.Query.prototype.isNegated=function(){for(var e=0;e<this.clauses.length;e++)if(this.clauses[e].presence!=R.Query.presence.PROHIBITED)return!1;return!0},R.Query.prototype.term=function(e,t){if(Array.isArray(e))return e.forEach((function(e){this.term(e,R.utils.clone(t))}),this),this;var r=t||{};return r.term=e.toString(),this.clause(r),this},R.QueryParseError=function(e,t,r){this.name=\\\"QueryParseError\\\",this.message=e,this.start=t,this.end=r},R.QueryParseError.prototype=new Error,R.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},R.QueryLexer.prototype.run=function(){for(var e=R.QueryLexer.lexText;e;)e=e(this)},R.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,r=this.pos,n=0;n<this.escapeCharPositions.length;n++)r=this.escapeCharPositions[n],e.push(this.str.slice(t,r)),t=r+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join(\\\"\\\")},R.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},R.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},R.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return R.QueryLexer.EOS;var e=this.str.charAt(this.pos);return this.pos+=1,e},R.QueryLexer.prototype.width=function(){return this.pos-this.start},R.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},R.QueryLexer.prototype.backup=function(){this.pos-=1},R.QueryLexer.prototype.acceptDigitRun=function(){var e,t;do{t=(e=this.next()).charCodeAt(0)}while(t>47&&t<58);e!=R.QueryLexer.EOS&&this.backup()},R.QueryLexer.prototype.more=function(){return this.pos<this.length},R.QueryLexer.EOS=\\\"EOS\\\",R.QueryLexer.FIELD=\\\"FIELD\\\",R.QueryLexer.TERM=\\\"TERM\\\",R.QueryLexer.EDIT_DISTANCE=\\\"EDIT_DISTANCE\\\",R.QueryLexer.BOOST=\\\"BOOST\\\",R.QueryLexer.PRESENCE=\\\"PRESENCE\\\",R.QueryLexer.lexField=function(e){return e.backup(),e.emit(R.QueryLexer.FIELD),e.ignore(),R.QueryLexer.lexText},R.QueryLexer.lexTerm=function(e){if(e.width()>1&&(e.backup(),e.emit(R.QueryLexer.TERM)),e.ignore(),e.more())return R.QueryLexer.lexText},R.QueryLexer.lexEditDistance=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(R.QueryLexer.EDIT_DISTANCE),R.QueryLexer.lexText},R.QueryLexer.lexBoost=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(R.QueryLexer.BOOST),R.QueryLexer.lexText},R.QueryLexer.lexEOS=function(e){e.width()>0&&e.emit(R.QueryLexer.TERM)},R.QueryLexer.termSeparator=R.tokenizer.separator,R.QueryLexer.lexText=function(e){for(;;){var t=e.next();if(t==R.QueryLexer.EOS)return R.QueryLexer.lexEOS;if(92!=t.charCodeAt(0)){if(\\\":\\\"==t)return R.QueryLexer.lexField;if(\\\"~\\\"==t)return e.backup(),e.width()>0&&e.emit(R.QueryLexer.TERM),R.QueryLexer.lexEditDistance;if(\\\"^\\\"==t)return e.backup(),e.width()>0&&e.emit(R.QueryLexer.TERM),R.QueryLexer.lexBoost;if(\\\"+\\\"==t&&1===e.width())return e.emit(R.QueryLexer.PRESENCE),R.QueryLexer.lexText;if(\\\"-\\\"==t&&1===e.width())return e.emit(R.QueryLexer.PRESENCE),R.QueryLexer.lexText;if(t.match(R.QueryLexer.termSeparator))return R.QueryLexer.lexTerm}else e.escapeCharacter()}},R.QueryParser=function(e,t){this.lexer=new R.QueryLexer(e),this.query=t,this.currentClause={},this.lexemeIdx=0},R.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var e=R.QueryParser.parseClause;e;)e=e(this);return this.query},R.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},R.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},R.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},R.QueryParser.parseClause=function(e){var t=e.peekLexeme();if(null!=t)switch(t.type){case R.QueryLexer.PRESENCE:return R.QueryParser.parsePresence;case R.QueryLexer.FIELD:return R.QueryParser.parseField;case R.QueryLexer.TERM:return R.QueryParser.parseTerm;default:var r=\\\"expected either a field or a term, found \\\"+t.type;throw t.str.length>=1&&(r+=\\\" with value '\\\"+t.str+\\\"'\\\"),new R.QueryParseError(r,t.start,t.end)}},R.QueryParser.parsePresence=function(e){var t=e.consumeLexeme();if(null!=t){switch(t.str){case\\\"-\\\":e.currentClause.presence=R.Query.presence.PROHIBITED;break;case\\\"+\\\":e.currentClause.presence=R.Query.presence.REQUIRED;break;default:var r=\\\"unrecognised presence operator'\\\"+t.str+\\\"'\\\";throw new R.QueryParseError(r,t.start,t.end)}var n=e.peekLexeme();if(null==n)throw r=\\\"expecting term or field, found nothing\\\",new R.QueryParseError(r,t.start,t.end);switch(n.type){case R.QueryLexer.FIELD:return R.QueryParser.parseField;case R.QueryLexer.TERM:return R.QueryParser.parseTerm;default:throw r=\\\"expecting term or field, found '\\\"+n.type+\\\"'\\\",new R.QueryParseError(r,n.start,n.end)}}},R.QueryParser.parseField=function(e){var t=e.consumeLexeme();if(null!=t){if(-1==e.query.allFields.indexOf(t.str)){var r=e.query.allFields.map((function(e){return\\\"'\\\"+e+\\\"'\\\"})).join(\\\", \\\"),n=\\\"unrecognised field '\\\"+t.str+\\\"', possible fields: \\\"+r;throw new R.QueryParseError(n,t.start,t.end)}e.currentClause.fields=[t.str];var i=e.peekLexeme();if(null==i)throw n=\\\"expecting term, found nothing\\\",new R.QueryParseError(n,t.start,t.end);switch(i.type){case R.QueryLexer.TERM:return R.QueryParser.parseTerm;default:throw n=\\\"expecting term, found '\\\"+i.type+\\\"'\\\",new R.QueryParseError(n,i.start,i.end)}}},R.QueryParser.parseTerm=function(e){var t=e.consumeLexeme();if(null!=t){e.currentClause.term=t.str.toLowerCase(),-1!=t.str.indexOf(\\\"*\\\")&&(e.currentClause.usePipeline=!1);var r=e.peekLexeme();if(null!=r)switch(r.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:var n=\\\"Unexpected lexeme type '\\\"+r.type+\\\"'\\\";throw new R.QueryParseError(n,r.start,r.end)}else e.nextClause()}},R.QueryParser.parseEditDistance=function(e){var t=e.consumeLexeme();if(null!=t){var r=parseInt(t.str,10);if(isNaN(r)){var n=\\\"edit distance must be numeric\\\";throw new R.QueryParseError(n,t.start,t.end)}e.currentClause.editDistance=r;var i=e.peekLexeme();if(null!=i)switch(i.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:throw n=\\\"Unexpected lexeme type '\\\"+i.type+\\\"'\\\",new R.QueryParseError(n,i.start,i.end)}else e.nextClause()}},R.QueryParser.parseBoost=function(e){var t=e.consumeLexeme();if(null!=t){var r=parseInt(t.str,10);if(isNaN(r)){var n=\\\"boost must be numeric\\\";throw new R.QueryParseError(n,t.start,t.end)}e.currentClause.boost=r;var i=e.peekLexeme();if(null!=i)switch(i.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:throw n=\\\"Unexpected lexeme type '\\\"+i.type+\\\"'\\\",new R.QueryParseError(n,i.start,i.end)}else e.nextClause()}},void 0===(i=\\\"function\\\"==typeof(n=function(){return R})?n.call(t,r,t,e):n)||(e.exports=i)}()},666:function(e){var t=function(e){\\\"use strict\\\";var t,r=Object.prototype,n=r.hasOwnProperty,i=\\\"function\\\"==typeof Symbol?Symbol:{},s=i.iterator||\\\"@@iterator\\\",o=i.asyncIterator||\\\"@@asyncIterator\\\",a=i.toStringTag||\\\"@@toStringTag\\\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\\\"\\\")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,s=Object.create(i.prototype),o=new T(n||[]);return s._invoke=function(e,t,r){var n=h;return function(i,s){if(n===d)throw new Error(\\\"Generator is already running\\\");if(n===p){if(\\\"throw\\\"===i)throw s;return I()}for(r.method=i,r.arg=s;;){var o=r.delegate;if(o){var a=b(o,r);if(a){if(a===y)continue;return a}}if(\\\"next\\\"===r.method)r.sent=r._sent=r.arg;else if(\\\"throw\\\"===r.method){if(n===h)throw n=p,r.arg;r.dispatchException(r.arg)}else\\\"return\\\"===r.method&&r.abrupt(\\\"return\\\",r.arg);n=d;var u=l(e,t,r);if(\\\"normal\\\"===u.type){if(n=r.done?p:f,u.arg===y)continue;return{value:u.arg,done:r.done}}\\\"throw\\\"===u.type&&(n=p,r.method=\\\"throw\\\",r.arg=u.arg)}}}(e,r,o),s}function l(e,t,r){try{return{type:\\\"normal\\\",arg:e.call(t,r)}}catch(e){return{type:\\\"throw\\\",arg:e}}}e.wrap=c;var h=\\\"suspendedStart\\\",f=\\\"suspendedYield\\\",d=\\\"executing\\\",p=\\\"completed\\\",y={};function m(){}function v(){}function g(){}var x={};x[s]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(O([])));k&&k!==r&&n.call(k,s)&&(x=k);var Q=g.prototype=m.prototype=Object.create(x);function E(e){[\\\"next\\\",\\\"throw\\\",\\\"return\\\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function r(i,s,o,a){var u=l(e[i],e,s);if(\\\"throw\\\"!==u.type){var c=u.arg,h=c.value;return h&&\\\"object\\\"==typeof h&&n.call(h,\\\"__await\\\")?t.resolve(h.__await).then((function(e){r(\\\"next\\\",e,o,a)}),(function(e){r(\\\"throw\\\",e,o,a)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return r(\\\"throw\\\",e,o,a)}))}a(u.arg)}var i;this._invoke=function(e,n){function s(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(s,s):s()}}function b(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,\\\"throw\\\"===r.method){if(e.iterator.return&&(r.method=\\\"return\\\",r.arg=t,b(e,r),\\\"throw\\\"===r.method))return y;r.method=\\\"throw\\\",r.arg=new TypeError(\\\"The iterator does not provide a 'throw' method\\\")}return y}var i=l(n,e.iterator,r.arg);if(\\\"throw\\\"===i.type)return r.method=\\\"throw\\\",r.arg=i.arg,r.delegate=null,y;var s=i.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,\\\"return\\\"!==r.method&&(r.method=\\\"next\\\",r.arg=t),r.delegate=null,y):s:(r.method=\\\"throw\\\",r.arg=new TypeError(\\\"iterator result is not an object\\\"),r.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type=\\\"normal\\\",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:\\\"root\\\"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var r=e[s];if(r)return r.call(e);if(\\\"function\\\"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=Q.constructor=g,g.constructor=v,v.displayName=u(g,a,\\\"GeneratorFunction\\\"),e.isGeneratorFunction=function(e){var t=\\\"function\\\"==typeof e&&e.constructor;return!!t&&(t===v||\\\"GeneratorFunction\\\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,a,\\\"GeneratorFunction\\\")),e.prototype=Object.create(Q),e},e.awrap=function(e){return{__await:e}},E(L.prototype),L.prototype[o]=function(){return this},e.AsyncIterator=L,e.async=function(t,r,n,i,s){void 0===s&&(s=Promise);var o=new L(c(t,r,n,i),s);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(Q),u(Q,a,\\\"Generator\\\"),Q[s]=function(){return this},Q.toString=function(){return\\\"[object Generator]\\\"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\\\"next\\\",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)\\\"t\\\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\\\"throw\\\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return a.type=\\\"throw\\\",a.arg=e,r.next=n,i&&(r.method=\\\"next\\\",r.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if(\\\"root\\\"===o.tryLoc)return i(\\\"end\\\");if(o.tryLoc<=this.prev){var u=n.call(o,\\\"catchLoc\\\"),c=n.call(o,\\\"finallyLoc\\\");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error(\\\"try statement without catch or finally\\\");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,\\\"finallyLoc\\\")&&this.prev<i.finallyLoc){var s=i;break}}s&&(\\\"break\\\"===e||\\\"continue\\\"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method=\\\"next\\\",this.next=s.finallyLoc,y):this.complete(o)},complete:function(e,t){if(\\\"throw\\\"===e.type)throw e.arg;return\\\"break\\\"===e.type||\\\"continue\\\"===e.type?this.next=e.arg:\\\"return\\\"===e.type?(this.rval=this.arg=e.arg,this.method=\\\"return\\\",this.next=\\\"end\\\"):\\\"normal\\\"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\\\"throw\\\"===n.type){var i=n.arg;P(r)}return i}}throw new Error(\\\"illegal catch attempt\\\")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},\\\"next\\\"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function(\\\"r\\\",\\\"regeneratorRuntime = r\\\")(t)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n={};!function(){\\\"use strict\\\";function e(e,t,r,n,i,s,o){try{var a=e[s](o),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,i)}function t(t){return function(){var r=this,n=arguments;return new Promise((function(i,s){var o=t.apply(r,n);function a(t){e(o,i,s,a,u,\\\"next\\\",t)}function u(t){e(o,i,s,a,u,\\\"throw\\\",t)}a(void 0)}))}}r.d(n,{add:function(){return d},dispose:function(){return Q},done:function(){return p},fromExternalJS:function(){return g},load:function(){return w},search:function(){return L},toJS:function(){return m}});var i,s,o,a=r(757),u=r.n(a),c=r(336),l=[];function h(){(i=new c.Builder).field(\\\"title\\\"),i.field(\\\"description\\\"),i.ref(\\\"ref\\\"),i.pipeline.add(c.trimmer,c.stopWordFilter,c.stemmer),o=new Promise((function(e){s=e}))}c.tokenizer.separator=/\\\\s+/,h();var f=function(e){return\\\"*\\\"+c.stemmer(new c.Token(e,{}))+\\\"*\\\"};function d(e,t,r){var n=l.push(r)-1,s={title:e.toLowerCase(),description:t.toLowerCase(),ref:n};i.add(s)}function p(){return y.apply(this,arguments)}function y(){return(y=t(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(i.build());case 1:case\\\"end\\\":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return v.apply(this,arguments)}function v(){return(v=t(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,o;case 3:return e.t1=e.sent.toJSON(),e.abrupt(\\\"return\\\",{store:e.t0,index:e.t1});case 5:case\\\"end\\\":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return x.apply(this,arguments)}function x(){return(x=t(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,importScripts(t),self[r]){e.next=4;break}throw new Error(\\\"Broken index file format\\\");case 4:w(self[r]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(\\\"Failed to load search index: \\\"+e.t0.message);case 10:case\\\"end\\\":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=t(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.store,s(c.Index.load(t.index));case 2:case\\\"end\\\":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return E.apply(this,arguments)}function E(){return(E=t(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=[],h();case 2:case\\\"end\\\":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return b.apply(this,arguments)}function b(){return(b=t(u().mark((function e(t){var r,n,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:0,0!==t.trim().length){e.next=3;break}return e.abrupt(\\\"return\\\",[]);case 3:return e.next=5,o;case 5:return n=e.sent.query((function(e){t.trim().toLowerCase().split(/\\\\s+/).forEach((function(t){if(1!==t.length){var r=f(t);e.term(r,{})}}))})),r>0&&(n=n.slice(0,r)),e.abrupt(\\\"return\\\",n.map((function(e){return{meta:l[e.ref],score:e.score}})));case 8:case\\\"end\\\":return e.stop()}}),e)})))).apply(this,arguments)}addEventListener(\\\"message\\\",(function(e){var t,r=e.data,i=r.type,s=r.method,o=r.id,a=r.params;\\\"RPC\\\"===i&&s&&((t=n[s])?Promise.resolve().then((function(){return t.apply(n,a)})):Promise.reject(\\\"No such method\\\")).then((function(e){postMessage({type:\\\"RPC\\\",id:o,result:e})})).catch((function(e){var t={message:e};e.stack&&(t.message=e.message,t.stack=e.stack,t.name=e.name),postMessage({type:\\\"RPC\\\",id:o,error:t})}))})),postMessage({type:\\\"RPC\\\",method:\\\"ready\\\"})}()}();\\n//# sourceMappingURL=9c7ae0cdcb6fcf1f01ff.worker.js.map\"])), { name: \"[fullhash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","function addMethods(worker, methods) {\n  var c = 0;\n  var callbacks = {};\n  worker.addEventListener('message', function (e) {\n    var d = e.data;\n    if (d.type !== 'RPC') return;\n\n    if (d.id) {\n      var f = callbacks[d.id];\n\n      if (f) {\n        delete callbacks[d.id];\n\n        if (d.error) {\n          f[1](Object.assign(Error(d.error.message), d.error));\n        } else {\n          f[0](d.result);\n        }\n      }\n    } else {\n      var evt = document.createEvent('Event');\n      evt.initEvent(d.method, false, false);\n      evt.data = d.params;\n      worker.dispatchEvent(evt);\n    }\n  });\n  methods.forEach(function (method) {\n    worker[method] = function () {\n      var _arguments = arguments;\n      return new Promise(function (a, b) {\n        var id = ++c;\n        callbacks[id] = [a, b];\n        worker.postMessage({\n          type: 'RPC',\n          id: id,\n          method: method,\n          params: [].slice.call(_arguments)\n        });\n      });\n    };\n  });\n}\n\nmodule.exports = addMethods;\n//# sourceMappingURL=rpc-wrapper.js.map\n","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");;","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");;","module.exports = require(\"@babel/runtime/helpers/createForOfIteratorHelper\");;","module.exports = require(\"@babel/runtime/helpers/createSuper\");;","module.exports = require(\"@babel/runtime/helpers/defineProperty\");;","module.exports = require(\"@babel/runtime/helpers/inherits\");;","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");;","module.exports = require(\"@babel/runtime/helpers/wrapNativeSuper\");;","module.exports = require(\"@babel/runtime/regenerator\");;","module.exports = require(\"call-me-maybe\");;","module.exports = require(\"fast-safe-stringify\");;","module.exports = require(\"stickyfill\");;","module.exports = undefined;","module.exports = require(\"url\");;","module.exports = require(\"yaml\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/objectSpread2\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/createClass\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"polished\");;","import { darken, lighten, readableColor, transparentize } from 'polished';\r\n\r\nconst defaultTheme: ThemeInterface = {\r\n  spacing: {\r\n    unit: 5,\r\n    sectionHorizontal: ({ spacing }) => spacing.unit * 8,\r\n    sectionVertical: ({ spacing }) => spacing.unit * 8,\r\n  },\r\n  breakpoints: {\r\n    small: '50rem',\r\n    medium: '75rem',\r\n    large: '105rem',\r\n  },\r\n  colors: {\r\n    tonalOffset: 0.2,\r\n    primary: {\r\n      main: '#66CCCC',\r\n      light: ({ colors }) => lighten(colors.tonalOffset, colors.primary.main),\r\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.primary.main),\r\n      contrastText: ({ colors }) => readableColor(colors.primary.main),\r\n    },\r\n    secondary: {\r\n      main: '#424347',\r\n      light: ({ colors }) => lighten(colors.tonalOffset, colors.secondary.main),\r\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.secondary.main),\r\n      contrastText: \"#ffffff\",\r\n    },\r\n    success: {\r\n      main: '#1d8127',\r\n      light: ({ colors }) => lighten(colors.tonalOffset * 2, colors.success.main),\r\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.success.main),\r\n      contrastText: ({ colors }) => readableColor(colors.success.main),\r\n    },\r\n    warning: {\r\n      main: '#ffa500',\r\n      light: ({ colors }) => lighten(colors.tonalOffset, colors.warning.main),\r\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.warning.main),\r\n      contrastText: '#ffffff',\r\n    },\r\n    error: {\r\n      main: '#EB0037',\r\n      light: ({ colors }) => lighten(colors.tonalOffset, colors.error.main),\r\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.error.main),\r\n      contrastText: ({ colors }) => readableColor(colors.error.main),\r\n    },\r\n    gray: {\r\n      50: '#FAFAFA',\r\n      100: '#F5F5F5',\r\n      200: '#ebebeb',\r\n    },\r\n    text: {\r\n      primary: '#424347',\r\n      fixed: '#424347',\r\n      secondary: '#909499',\r\n      grey: \"#6A6D72\",\r\n      error: \"#ff491c\"\r\n    },\r\n    border: {\r\n      dark: 'rgba(0,0,0, 0.1)',\r\n      fixed: 'rgba(0,0,0, 0.1)',\r\n      light: '#ffffff',\r\n    },\r\n    light: {\r\n      main: \"#ffffff\",\r\n    },\r\n    responses: {\r\n      success: {\r\n        color: ({ colors }) => colors.success.main,\r\n        backgroundColor: ({ colors }) => transparentize(0.93, colors.success.main),\r\n        tabTextColor: ({ colors }) => colors.responses.success.color,\r\n      },\r\n      error: {\r\n        color: ({ colors }) => colors.error.main,\r\n        backgroundColor: ({ colors }) => transparentize(0.93, colors.error.main),\r\n        tabTextColor: ({ colors }) => colors.responses.error.color,\r\n      },\r\n      redirect: {\r\n        color: ({ colors }) => colors.warning.main,\r\n        backgroundColor: ({ colors }) => transparentize(0.9, colors.responses.redirect.color),\r\n        tabTextColor: ({ colors }) => colors.responses.redirect.color,\r\n      },\r\n      info: {\r\n        color: '#87ceeb',\r\n        backgroundColor: ({ colors }) => transparentize(0.9, colors.responses.info.color),\r\n        tabTextColor: ({ colors }) => colors.responses.info.color,\r\n      },\r\n    },\r\n    http: {\r\n      get: '#DBD5F6',\r\n      post: '#CBEBF0',\r\n      put: '#FFE6BD',\r\n      options: '#f5dc9d',\r\n      patch: '#f7c0a1',\r\n      delete: '#FBCCD7',\r\n      basic: '#d4d4d4',\r\n      link: '#07818F',\r\n      head: '#A23DAD',\r\n    },\r\n    badge: {\r\n      primary: '#424347',\r\n    }\r\n  },\r\n  schema: {\r\n    linesColor: \"#66CCCC\",\r\n    defaultDetailsWidth: '75%',\r\n    typeNameColor: theme => theme.colors.text.secondary,\r\n    typeTitleColor: theme => theme.schema.typeNameColor,\r\n    requireLabelColor: theme => theme.colors.error.main,\r\n    labelsTextSize: '0.9em',\r\n    nestingSpacing: '1em',\r\n    nestedBackground: '#fafafa',\r\n    arrow: {\r\n      size: '0.8em',\r\n      color: theme => theme.colors.text.secondary,\r\n    },\r\n  },\r\n  typography: {\r\n    fontSize: '1rem',\r\n    lineHeight: '1.5em',\r\n    fontWeightRegular: '400',\r\n    fontWeightBold: '600',\r\n    fontWeightLight: '300',\r\n    fontFamily: 'Roboto, sans-serif',\r\n    fontFamilySecondary: 'Roboto, sans-serif',\r\n    smoothing: 'antialiased',\r\n    optimizeSpeed: true,\r\n    headings: {\r\n      fontFamily: 'Montserrat, sans-serif',\r\n      fontWeight: '400',\r\n      lineHeight: '1.6em',\r\n    },\r\n    code: {\r\n      fontSize: '0.875rem',\r\n      fontFamily: ({ typography }) => typography.fontFamily,\r\n      lineHeight: ({ typography }) => typography.lineHeight,\r\n      fontWeight: ({ typography }) => typography.fontWeightRegular,\r\n      color: theme => theme.colors.text.primary,\r\n      backgroundColor: '#DBD5F6',\r\n      wrap: false,\r\n    },\r\n    links: {\r\n      color: ({ colors }) => colors.text.primary,\r\n      visited: ({ typography }) => typography.links.color,\r\n      hover: ({ typography }) => typography.links.color,\r\n    },\r\n  },\r\n  sidebar: {\r\n    width: '260px',\r\n    backgroundColor: '#fafafa',\r\n    textColor: '#333333',\r\n    activeTextColor: theme =>\r\n      theme.sidebar.textColor !== defaultTheme.sidebar!.textColor\r\n        ? theme.sidebar.textColor\r\n        : theme.colors.primary.main,\r\n    groupItems: {\r\n      textTransform: 'uppercase',\r\n    },\r\n    level1Items: {\r\n      textTransform: 'none',\r\n    },\r\n    arrow: {\r\n      size: '1em',\r\n      color: theme => theme.sidebar.textColor,\r\n    },\r\n  },\r\n  logo: {\r\n    maxHeight: ({ sidebar }) => sidebar.width,\r\n    maxWidth: ({ sidebar }) => sidebar.width,\r\n    gutter: '2px',\r\n  },\r\n  rightPanel: {\r\n    backgroundColor: '#424347',\r\n    backgroundInner: '#2F3033',\r\n    width: '40%',\r\n    textColor: '#ffffff',\r\n\r\n  },\r\n  rightPanelInner: {\r\n    backgroundColor: '#2F3033',\r\n    codeBlock: 'transparent',\r\n    codeBlockText: '#ffffff',\r\n  },\r\n  codeBlock: {\r\n    backgroundColor: ({ rightPanel }) => darken(0.1, rightPanel.backgroundColor),\r\n  },\r\n  modal: {\r\n    backgroundColor: '#ffffff',\r\n    titleColor: \"#6A6D72\",\r\n  },\r\n};\r\n\r\nexport default defaultTheme;\r\n\r\nexport function resolveTheme(theme: ThemeInterface): ResolvedThemeInterface {\r\n  const resolvedValues = {};\r\n  let counter = 0;\r\n  const setProxy = (obj, path: string) => {\r\n    Object.keys(obj).forEach(k => {\r\n      const currentPath = (path ? path + '.' : '') + k;\r\n      const val = obj[k];\r\n      if (typeof val === 'function') {\r\n        Object.defineProperty(obj, k, {\r\n          get() {\r\n            if (!resolvedValues[currentPath]) {\r\n              counter++;\r\n              if (counter > 1000) {\r\n                throw new Error(\r\n                  `Theme probably contains circular dependency at ${currentPath}: ${val.toString()}`,\r\n                );\r\n              }\r\n\r\n              resolvedValues[currentPath] = val(theme);\r\n            }\r\n            return resolvedValues[currentPath];\r\n          },\r\n          enumerable: true,\r\n        });\r\n      } else if (typeof val === 'object') {\r\n        setProxy(val, currentPath);\r\n      }\r\n    });\r\n  };\r\n\r\n  setProxy(theme, '');\r\n  return JSON.parse(JSON.stringify(theme));\r\n}\r\n\r\nexport interface ColorSetting {\r\n  main: string;\r\n  light: string;\r\n  dark: string;\r\n  contrastText: string;\r\n}\r\n\r\nexport interface HTTPResponseColos {\r\n  color: string;\r\n  backgroundColor: string;\r\n  tabTextColor: string;\r\n}\r\n\r\nexport interface FontSettings {\r\n  fontSize: string;\r\n  fontWeight: string;\r\n  fontFamily: string;\r\n  lineHeight: string;\r\n  color: string;\r\n}\r\n\r\nexport interface ResolvedThemeInterface {\r\n  spacing: {\r\n    unit: number;\r\n    sectionHorizontal: number;\r\n    sectionVertical: number;\r\n  };\r\n  breakpoints: {\r\n    small: string;\r\n    medium: string;\r\n    large: string;\r\n  };\r\n  colors: {\r\n    tonalOffset: number;\r\n    primary: ColorSetting;\r\n    secondary: ColorSetting;\r\n    success: ColorSetting;\r\n    warning: ColorSetting;\r\n    error: ColorSetting;\r\n    gray: {\r\n      50: string;\r\n      100: string;\r\n      200: string;\r\n    };\r\n    border: {\r\n      light: string;\r\n      fixed: string;\r\n      dark: string;\r\n    };\r\n    text: {\r\n      primary: string;\r\n      fixed: string;\r\n      secondary: string;\r\n      grey: string;\r\n      error: string;\r\n    };\r\n    responses: {\r\n      success: HTTPResponseColos;\r\n      error: HTTPResponseColos;\r\n      redirect: HTTPResponseColos;\r\n      info: HTTPResponseColos;\r\n    };\r\n    http: {\r\n      get: string;\r\n      post: string;\r\n      put: string;\r\n      options: string;\r\n      patch: string;\r\n      delete: string;\r\n      basic: string;\r\n      link: string;\r\n      head: string;\r\n    };\r\n    light: {\r\n      main: string;\r\n    }\r\n    badge: {\r\n      primary: string;\r\n    }\r\n  };\r\n  schema: {\r\n    linesColor: string;\r\n    defaultDetailsWidth: string;\r\n    typeNameColor: string;\r\n    typeTitleColor: string;\r\n    requireLabelColor: string;\r\n    labelsTextSize: string;\r\n    nestingSpacing: string;\r\n    nestedBackground: string;\r\n    arrow: {\r\n      size: string;\r\n      color: string;\r\n    };\r\n  };\r\n  typography: {\r\n    fontSize: string;\r\n    lineHeight: string;\r\n    fontWeightLight: string;\r\n    fontWeightRegular: string;\r\n    fontWeightBold: string;\r\n    fontFamily: string;\r\n    fontFamilySecondary: string;\r\n\r\n    smoothing: string;\r\n    optimizeSpeed: boolean;\r\n\r\n    code: FontSettings & {\r\n      backgroundColor: string;\r\n      wrap: boolean;\r\n    };\r\n    headings: {\r\n      fontFamily: string;\r\n      fontWeight: string;\r\n      lineHeight: string;\r\n    };\r\n\r\n    links: {\r\n      color: string;\r\n      visited: string;\r\n      hover: string;\r\n    };\r\n  };\r\n  sidebar: {\r\n    width: string;\r\n    backgroundColor: string;\r\n    textColor: string;\r\n    activeTextColor: string;\r\n    groupItems: {\r\n      textTransform: string;\r\n    };\r\n    level1Items: {\r\n      textTransform: string;\r\n    };\r\n    arrow: {\r\n      size: string;\r\n      color: string;\r\n    };\r\n  };\r\n  logo: {\r\n    maxHeight: string;\r\n    maxWidth: string;\r\n    gutter: string;\r\n  };\r\n  rightPanel: {\r\n    backgroundColor: string;\r\n    backgroundInner: string;\r\n    textColor: string;\r\n    width: string;\r\n  };\r\n  rightPanelInner: {\r\n    backgroundColor: string;\r\n    codeBlock: string;\r\n    codeBlockText: string;\r\n  }\r\n  codeBlock: {\r\n    backgroundColor: string;\r\n  }\r\n  modal: {\r\n    backgroundColor: string;\r\n    titleColor:string;\r\n  }\r\n  ;\r\n\r\n  extensionsHook?: (name: string, props: any) => string;\r\n}\r\n\r\nexport type primitive = string | number | boolean | undefined | null;\r\nexport type AdvancedThemeDeep<T> = T extends primitive\r\n  ? T | ((theme: ResolvedThemeInterface) => T)\r\n  : AdvancedThemeObject<T>;\r\nexport type AdvancedThemeObject<T> = { [P in keyof T]?: AdvancedThemeDeep<T[P]> };\r\nexport type ThemeInterface = AdvancedThemeObject<ResolvedThemeInterface>;\r\n","export const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\r\n\r\nexport function querySelector(selector: string): Element | null {\r\n  if (typeof document !== 'undefined') {\r\n    return document.querySelector(selector);\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Drop everything inside <...> (i.e., tags/elements), and keep the text.\r\n * Unlike browser innerText, this removes newlines; it also doesn't handle\r\n * un-encoded `<` or `>` characters very well, so don't feed it malformed HTML\r\n */\r\nexport function html2Str(html: string): string {\r\n  return html\r\n    .split(/<[^>]+>/)\r\n    .map(chunk => {\r\n      return chunk.trim();\r\n    })\r\n    .filter(trimmedChunk => {\r\n      return trimmedChunk.length > 0;\r\n    })\r\n    .join(' ');\r\n}\r\n\r\n// scrollIntoViewIfNeeded polyfill\r\n\r\nif (typeof Element !== 'undefined' && !(Element as any).prototype.scrollIntoViewIfNeeded) {\r\n  (Element as any).prototype.scrollIntoViewIfNeeded = function (centerIfNeeded) {\r\n    centerIfNeeded = arguments.length === 0 ? true : !!centerIfNeeded;\r\n\r\n    const parent = this.parentNode;\r\n    const parentComputedStyle = window.getComputedStyle(parent, undefined);\r\n    const parentBorderTopWidth = parseInt(\r\n      parentComputedStyle.getPropertyValue('border-top-width'),\r\n      10,\r\n    );\r\n    const parentBorderLeftWidth = parseInt(\r\n      parentComputedStyle.getPropertyValue('border-left-width'),\r\n      10,\r\n    );\r\n    const overTop = this.offsetTop - parent.offsetTop < parent.scrollTop;\r\n    const overBottom =\r\n      this.offsetTop - parent.offsetTop + this.clientHeight - parentBorderTopWidth >\r\n      parent.scrollTop + parent.clientHeight;\r\n    const overLeft = this.offsetLeft - parent.offsetLeft < parent.scrollLeft;\r\n    const overRight =\r\n      this.offsetLeft - parent.offsetLeft + this.clientWidth - parentBorderLeftWidth >\r\n      parent.scrollLeft + parent.clientWidth;\r\n    const alignWithTop = overTop && !overBottom;\r\n\r\n    if ((overTop || overBottom) && centerIfNeeded) {\r\n      parent.scrollTop =\r\n        this.offsetTop -\r\n        parent.offsetTop -\r\n        parent.clientHeight / 2 -\r\n        parentBorderTopWidth +\r\n        this.clientHeight / 2;\r\n    }\r\n\r\n    if ((overLeft || overRight) && centerIfNeeded) {\r\n      parent.scrollLeft =\r\n        this.offsetLeft -\r\n        parent.offsetLeft -\r\n        parent.clientWidth / 2 -\r\n        parentBorderLeftWidth +\r\n        this.clientWidth / 2;\r\n    }\r\n\r\n    if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded) {\r\n      this.scrollIntoView(alignWithTop);\r\n    }\r\n  };\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"slugify\");;","import slugify from 'slugify';\r\nimport { format, parse } from 'url';\r\n\r\n/**\r\n * Maps over array passing `isLast` bool to iterator as the second argument\r\n */\r\nexport function mapWithLast<T, P>(array: T[], iteratee: (item: T, isLast: boolean) => P) {\r\n  const res: P[] = [];\r\n  for (let i = 0; i < array.length - 1; i++) {\r\n    res.push(iteratee(array[i], false));\r\n  }\r\n  if (array.length !== 0) {\r\n    res.push(iteratee(array[array.length - 1], true));\r\n  }\r\n  return res;\r\n}\r\n\r\n/**\r\n * Creates an object with the same keys as object and values generated by running each\r\n * own enumerable string keyed property of object thru iteratee.\r\n * The iteratee is invoked with three arguments: (value, key, object).\r\n *\r\n * @param object the object to iterate over\r\n * @param iteratee the function invoked per iteration.\r\n */\r\nexport function mapValues<T, P>(\r\n  object: Record<string, T>,\r\n  iteratee: (val: T, key: string, obj: Record<string, T>) => P,\r\n): Record<string, P> {\r\n  const res: { [key: string]: P } = {};\r\n  for (const key in object) {\r\n    if (object.hasOwnProperty(key)) {\r\n      res[key] = iteratee(object[key], key, object);\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\n/**\r\n * flattens collection using `prop` field as a children\r\n * @param collectionItems collection items\r\n * @param prop item property with child elements\r\n */\r\nexport function flattenByProp<T extends object, P extends keyof T>(\r\n  collectionItems: T[],\r\n  prop: P,\r\n): T[] {\r\n  const res: T[] = [];\r\n  const iterate = (items: T[]) => {\r\n    for (const item of items) {\r\n      res.push(item);\r\n      if (item[prop]) {\r\n        iterate(item[prop] as any as T[]);\r\n      }\r\n    }\r\n  };\r\n  iterate(collectionItems);\r\n  return res;\r\n}\r\n\r\nexport function stripTrailingSlash(path: string): string {\r\n  if (path.endsWith('/')) {\r\n    return path.substring(0, path.length - 1);\r\n  }\r\n  return path;\r\n}\r\n\r\nexport function isNumeric(n: any): n is number {\r\n  return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n\r\nexport function appendToMdHeading(md: string, heading: string, content: string) {\r\n  // if  heading is already in md and append to the end of it\r\n  const testRegex = new RegExp(`(^|\\\\n)#\\\\s?${heading}\\\\s*\\\\n`, 'i');\r\n  const replaceRegex = new RegExp(`((\\\\n|^)#\\\\s*${heading}\\\\s*(\\\\n|$)(?:.|\\\\n)*?)(\\\\n#|$)`, 'i');\r\n  if (testRegex.test(md)) {\r\n    return md.replace(replaceRegex, `$1\\n\\n${content}\\n$4`);\r\n  } else {\r\n    // else append heading itself\r\n    const br = md === '' || md.endsWith('\\n\\n') ? '' : md.endsWith('\\n') ? '\\n' : '\\n\\n';\r\n    return `${md}${br}# ${heading}\\n\\n${content}`;\r\n  }\r\n}\r\n\r\n// credits https://stackoverflow.com/a/46973278/1749888\r\nexport const mergeObjects = (target: any, ...sources: any[]): any => {\r\n  if (!sources.length) {\r\n    return target;\r\n  }\r\n  const source = sources.shift();\r\n  if (source === undefined) {\r\n    return target;\r\n  }\r\n\r\n  if (isMergebleObject(target) && isMergebleObject(source)) {\r\n    Object.keys(source).forEach((key: string) => {\r\n      if (isMergebleObject(source[key])) {\r\n        if (!target[key]) {\r\n          target[key] = {};\r\n        }\r\n        mergeObjects(target[key], source[key]);\r\n      } else {\r\n        target[key] = source[key];\r\n      }\r\n    });\r\n  }\r\n\r\n  return mergeObjects(target, ...sources);\r\n};\r\n\r\nconst isObject = (item: any): boolean => {\r\n  return item !== null && typeof item === 'object';\r\n};\r\n\r\nconst isMergebleObject = (item): boolean => {\r\n  return isObject(item) && !Array.isArray(item);\r\n};\r\n\r\n/**\r\n * slugify() returns empty string when failed to slugify.\r\n * so try to return minimum slugified-string with failed one which keeps original value\r\n * the regex codes are referenced with https://gist.github.com/mathewbyrne/1280286\r\n */\r\nexport function safeSlugify(value: string): string {\r\n  return (\r\n    slugify(value) ||\r\n    value\r\n      .toString()\r\n      .toLowerCase()\r\n      .replace(/\\s+/g, '-') // Replace spaces with -\r\n      .replace(/&/g, '-and-') // Replace & with 'and'\r\n      .replace(/\\--+/g, '-') // Replace multiple - with single -\r\n      .replace(/^-+/, '') // Trim - from start of text\r\n      .replace(/-+$/, '')\r\n  ); // Trim - from end of text\r\n}\r\n\r\nexport function isAbsoluteUrl(url: string) {\r\n  return /(?:^[a-z][a-z0-9+.-]*:|\\/\\/)/i.test(url);\r\n}\r\n\r\n/**\r\n * simple resolve URL which doesn't break on strings with url fragments\r\n * e.g. resolveUrl('http://test.com:{port}', 'path') results in http://test.com:{port}/path\r\n */\r\nexport function resolveUrl(url: string, to: string) {\r\n  let res;\r\n  if (to.startsWith('//')) {\r\n    const { protocol: specProtocol } = parse(url);\r\n    res = `${specProtocol || 'https:'}${to}`;\r\n  } else if (isAbsoluteUrl(to)) {\r\n    res = to;\r\n  } else if (!to.startsWith('/')) {\r\n    res = stripTrailingSlash(url) + '/' + to;\r\n  } else {\r\n    const urlObj = parse(url);\r\n    res = format({\r\n      ...urlObj,\r\n      pathname: to,\r\n    });\r\n  }\r\n  return stripTrailingSlash(res);\r\n}\r\n\r\nexport function getBasePath(serverUrl: string): string {\r\n  try {\r\n    return parseURL(serverUrl).pathname;\r\n  } catch (e) {\r\n    // when using with redoc-cli serverUrl can be empty resulting in crash\r\n    return serverUrl;\r\n  }\r\n}\r\n\r\nexport function titleize(text: string) {\r\n  return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n\r\nexport function removeQueryString(serverUrl: string): string {\r\n  try {\r\n    const url = parseURL(serverUrl);\r\n    url.search = '';\r\n    return url.toString();\r\n  } catch (e) {\r\n    // when using with redoc-cli serverUrl can be empty resulting in crash\r\n    return serverUrl;\r\n  }\r\n}\r\n\r\nfunction parseURL(url: string) {\r\n  if (typeof URL === 'undefined') {\r\n    // node\r\n    return new (require('url').URL)(url);\r\n  } else {\r\n    return new URL(url);\r\n  }\r\n}\r\n\r\nexport function unescapeHTMLChars(str: string): string {\r\n  return str\r\n    .replace(/&#(\\d+);/g, (_m, code) => String.fromCharCode(parseInt(code, 10)))\r\n    .replace(/&amp;/g, '&');\r\n}\r\n","export interface LabelsConfig {\r\n  enum: string;\r\n  enumSingleValue: string;\r\n  enumArray: string;\r\n  default: string;\r\n  deprecated: string;\r\n  example: string;\r\n  examples: string;\r\n  recursive: string;\r\n  arrayOf: string;\r\n  webhook: string;\r\n  const: string;\r\n  noResultsFound: string;\r\n  download: string;\r\n  downloadSpecification: string;\r\n  responses: string;\r\n  callbackResponses: string;\r\n  requestSamples: string;\r\n  responseSamples: string;\r\n  tryItOut: string;\r\n  execute: string;\r\n  backToSamples: string;\r\n  responseServer: string;\r\n  authorize: string;\r\n  authorization: string;\r\n  required: string;\r\n  path: string;\r\n  file: string;\r\n  cancel: string;\r\n  Hawk: string;\r\n  PleaseSelect: string;\r\n  SelectAuthType: string;\r\n  Authorizationtype: string;\r\n  APIkey: string;\r\n  APIID: string;\r\n  EnterAPIkey: string;\r\n  EnterAPIID: string;\r\n  Close: string;\r\n  Logout: string;\r\n  URL: string;\r\n}\r\n\r\nexport type LabelsConfigRaw = Partial<LabelsConfig>;\r\n\r\nconst labels: LabelsConfig = {\r\n  enum: 'Enum',\r\n  enumSingleValue: 'Value',\r\n  enumArray: 'Items',\r\n  default: 'Default',\r\n  deprecated: 'Deprecated',\r\n  example: 'Example',\r\n  examples: 'Examples',\r\n  recursive: 'Recursive',\r\n  arrayOf: 'Array of ',\r\n  webhook: 'Event',\r\n  const: 'Value',\r\n  noResultsFound: 'No results found',\r\n  download: 'Download',\r\n  downloadSpecification: 'Download OpenAPI specification',\r\n  responses: 'Responses',\r\n  callbackResponses: 'Callback responses',\r\n  requestSamples: 'Request samples',\r\n  responseSamples: 'Response samples',\r\n  tryItOut: 'Try it out',\r\n  execute: \"Execute\",\r\n  backToSamples: \"Back to samples\",\r\n  responseServer: \"Server response\",\r\n  authorize: \"Authorize\",\r\n  authorization: \"Authorization\",\r\n  required: \"required\",\r\n  path: \"path\",\r\n  file: \"file\",\r\n  cancel: \"Cancel\",\r\n  Hawk: \"Hawk\",\r\n  PleaseSelect: \"Please Select\",\r\n  SelectAuthType: \"Select an authorization type\",\r\n  Authorizationtype: \"Authorization type\",\r\n  APIkey: \"API key\",\r\n  APIID: \"API ID\",\r\n  EnterAPIkey: \"Enter API key\",\r\n  EnterAPIID: \"Enter API ID\",\r\n  Close: \"Close\",\r\n  Logout: \"Logout\",\r\n  URL: \"URL\",\r\n};\r\n\r\nexport function setRedocLabels(_labels?: LabelsConfigRaw) {\r\n  Object.assign(labels, _labels);\r\n}\r\n\r\nexport function l(key: keyof LabelsConfig, idx?: number): string {\r\n  const label = labels[key];\r\n  if (idx !== undefined) {\r\n    return label[idx];\r\n  }\r\n  return label;\r\n}\r\n","import defaultTheme, { ResolvedThemeInterface, resolveTheme, ThemeInterface } from '../theme';\r\nimport { querySelector } from '../utils/dom';\r\nimport { isNumeric, mergeObjects } from '../utils/helpers';\r\n\r\nimport { LabelsConfigRaw, setRedocLabels } from './Labels';\r\nimport { MDXComponentMeta } from './MarkdownRenderer';\r\n\r\nexport interface RedocRawOptions {\r\n  theme?: ThemeInterface;\r\n  scrollYOffset?: number | string | (() => number);\r\n  hideHostname?: boolean | string;\r\n  expandResponses?: string | 'all';\r\n  requiredPropsFirst?: boolean | string;\r\n  sortPropsAlphabetically?: boolean | string;\r\n  sortEnumValuesAlphabetically?: boolean | string;\r\n  noAutoAuth?: boolean | string;\r\n  nativeScrollbars?: boolean | string;\r\n  pathInMiddlePanel?: boolean | string;\r\n  untrustedSpec?: boolean | string;\r\n  hideLoading?: boolean | string;\r\n  hideDownloadButton?: boolean | string;\r\n  disableSearch?: boolean | string;\r\n  onlyRequiredInSamples?: boolean | string;\r\n  showExtensions?: boolean | string | string[];\r\n  hideSingleRequestSampleTab?: boolean | string;\r\n  menuToggle?: boolean | string;\r\n  jsonSampleExpandLevel?: number | string | 'all';\r\n  hideSchemaTitles?: boolean | string;\r\n  simpleOneOfTypeLabel?: boolean | string;\r\n  payloadSampleIdx?: number;\r\n  expandSingleSchemaField?: boolean | string;\r\n\r\n  unstable_ignoreMimeParameters?: boolean;\r\n\r\n  allowedMdComponents?: Record<string, MDXComponentMeta>;\r\n\r\n  labels?: LabelsConfigRaw;\r\n\r\n  enumSkipQuotes?: boolean | string;\r\n\r\n  expandDefaultServerVariables?: boolean;\r\n  maxDisplayedEnumValues?: number;\r\n  ignoreNamedSchemas?: string[] | string;\r\n  hideSchemaPattern?: boolean;\r\n  generatedPayloadSamplesMaxDepth?: number;\r\n}\r\n\r\nexport function argValueToBoolean(val?: string | boolean, defaultValue?: boolean): boolean {\r\n  if (val === undefined) {\r\n    return defaultValue || false;\r\n  }\r\n  if (typeof val === 'string') {\r\n    return val !== 'false';\r\n  }\r\n  return val;\r\n}\r\n\r\nfunction argValueToNumber(value: number | string | undefined): number | undefined {\r\n  if (typeof value === 'string') {\r\n    return parseInt(value, 10);\r\n  }\r\n\r\n  if (typeof value === 'number') {\r\n    return value;\r\n  }\r\n}\r\n\r\nexport class RedocNormalizedOptions {\r\n  static normalizeExpandResponses(value: RedocRawOptions['expandResponses']) {\r\n    if (value === 'all') {\r\n      return 'all';\r\n    }\r\n    if (typeof value === 'string') {\r\n      const res = {};\r\n      value.split(',').forEach(code => {\r\n        res[code.trim()] = true;\r\n      });\r\n      return res;\r\n    } else if (value !== undefined) {\r\n      console.warn(\r\n        `expandResponses must be a string but received value \"${value}\" of type ${typeof value}`,\r\n      );\r\n    }\r\n    return {};\r\n  }\r\n\r\n  static normalizeHideHostname(value: RedocRawOptions['hideHostname']): boolean {\r\n    return !!value;\r\n  }\r\n\r\n  static normalizeScrollYOffset(value: RedocRawOptions['scrollYOffset']): () => number {\r\n    // just number is not valid selector and leads to crash so checking if isNumeric here\r\n    if (typeof value === 'string' && !isNumeric(value)) {\r\n      const el = querySelector(value);\r\n      if (!el) {\r\n        console.warn(\r\n          'scrollYOffset value is a selector to non-existing element. Using offset 0 by default',\r\n        );\r\n      }\r\n      const bottom = (el && el.getBoundingClientRect().bottom) || 0;\r\n      return () => bottom;\r\n    } else if (typeof value === 'number' || isNumeric(value)) {\r\n      return () => (typeof value === 'number' ? value : parseFloat(value));\r\n    } else if (typeof value === 'function') {\r\n      return () => {\r\n        const res = value();\r\n        if (typeof res !== 'number') {\r\n          console.warn(\r\n            `scrollYOffset should return number but returned value \"${res}\" of type ${typeof res}`,\r\n          );\r\n        }\r\n        return res;\r\n      };\r\n    } else if (value !== undefined) {\r\n      console.warn(\r\n        'Wrong value for scrollYOffset ReDoc option: should be string, number or function',\r\n      );\r\n    }\r\n\r\n    return () => 0;\r\n  }\r\n\r\n  static normalizeShowExtensions(value: RedocRawOptions['showExtensions']): string[] | boolean {\r\n    if (typeof value === 'undefined') {\r\n      return false;\r\n    }\r\n    if (value === '') {\r\n      return true;\r\n    }\r\n\r\n    if (typeof value !== 'string') {\r\n      return value;\r\n    }\r\n\r\n    switch (value) {\r\n      case 'true':\r\n        return true;\r\n      case 'false':\r\n        return false;\r\n      default:\r\n        return value.split(',').map(ext => ext.trim());\r\n    }\r\n  }\r\n\r\n  static normalizePayloadSampleIdx(value: RedocRawOptions['payloadSampleIdx']): number {\r\n    if (typeof value === 'number') {\r\n      return Math.max(0, value); // always greater or equal than 0\r\n    }\r\n\r\n    if (typeof value === 'string') {\r\n      return isFinite(value) ? parseInt(value, 10) : 0;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  private static normalizeJsonSampleExpandLevel(level?: number | string | 'all'): number {\r\n    if (level === 'all') {\r\n      return +Infinity;\r\n    }\r\n    if (!isNaN(Number(level))) {\r\n      return Math.ceil(Number(level));\r\n    }\r\n    return 2;\r\n  }\r\n\r\n  private static normalizeGeneratedPayloadSamplesMaxDepth(\r\n    value?: number | string | undefined,\r\n  ): number {\r\n    if (!isNaN(Number(value))) {\r\n      return Math.max(0, Number(value));\r\n    }\r\n\r\n    return 10;\r\n  }\r\n\r\n  theme: ResolvedThemeInterface;\r\n  scrollYOffset: () => number;\r\n  hideHostname: boolean;\r\n  expandResponses: { [code: string]: boolean } | 'all';\r\n  requiredPropsFirst: boolean;\r\n  sortPropsAlphabetically: boolean;\r\n  sortEnumValuesAlphabetically: boolean;\r\n  noAutoAuth: boolean;\r\n  nativeScrollbars: boolean;\r\n  pathInMiddlePanel: boolean;\r\n  untrustedSpec: boolean;\r\n  hideDownloadButton: boolean;\r\n  disableSearch: boolean;\r\n  onlyRequiredInSamples: boolean;\r\n  showExtensions: boolean | string[];\r\n  hideSingleRequestSampleTab: boolean;\r\n  menuToggle: boolean;\r\n  jsonSampleExpandLevel: number;\r\n  enumSkipQuotes: boolean;\r\n  hideSchemaTitles: boolean;\r\n  simpleOneOfTypeLabel: boolean;\r\n  payloadSampleIdx: number;\r\n  expandSingleSchemaField: boolean;\r\n\r\n  /* tslint:disable-next-line */\r\n  unstable_ignoreMimeParameters: boolean;\r\n  allowedMdComponents: Record<string, MDXComponentMeta>;\r\n\r\n  expandDefaultServerVariables: boolean;\r\n  maxDisplayedEnumValues?: number;\r\n\r\n  ignoreNamedSchemas: Set<string>;\r\n  hideSchemaPattern: boolean;\r\n  generatedPayloadSamplesMaxDepth: number;\r\n\r\n  constructor(raw: RedocRawOptions, defaults: RedocRawOptions = {}) {\r\n    raw = { ...defaults, ...raw };\r\n    const hook = raw.theme && raw.theme.extensionsHook;\r\n\r\n    // migrate from old theme\r\n    if ((raw.theme as any)?.menu && !raw.theme?.sidebar) {\r\n      console.warn('Theme setting \"menu\" is deprecated. Rename to \"sidebar\"');\r\n      raw.theme!.sidebar = (raw.theme as any).menu;\r\n    }\r\n\r\n    if ((raw.theme as any)?.codeSample && !raw.theme?.codeBlock) {\r\n      console.warn('Theme setting \"codeSample\" is deprecated. Rename to \"codeBlock\"');\r\n      raw.theme!.codeBlock = (raw.theme as any).codeSample;\r\n    }\r\n\r\n    this.theme = resolveTheme(\r\n      mergeObjects({} as any, defaultTheme, { ...raw.theme, extensionsHook: undefined }),\r\n    );\r\n\r\n    this.theme.extensionsHook = hook as any;\r\n\r\n    // do not support dynamic labels changes. Labels should be configured before\r\n    setRedocLabels(raw.labels);\r\n\r\n    this.scrollYOffset = RedocNormalizedOptions.normalizeScrollYOffset(raw.scrollYOffset);\r\n    this.hideHostname = RedocNormalizedOptions.normalizeHideHostname(raw.hideHostname);\r\n    this.expandResponses = RedocNormalizedOptions.normalizeExpandResponses(raw.expandResponses);\r\n    this.requiredPropsFirst = argValueToBoolean(raw.requiredPropsFirst);\r\n    this.sortPropsAlphabetically = argValueToBoolean(raw.sortPropsAlphabetically);\r\n    this.sortEnumValuesAlphabetically = argValueToBoolean(raw.sortEnumValuesAlphabetically);\r\n    this.noAutoAuth = argValueToBoolean(raw.noAutoAuth);\r\n    this.nativeScrollbars = argValueToBoolean(raw.nativeScrollbars);\r\n    this.pathInMiddlePanel = argValueToBoolean(raw.pathInMiddlePanel);\r\n    this.untrustedSpec = argValueToBoolean(raw.untrustedSpec);\r\n    this.hideDownloadButton = argValueToBoolean(raw.hideDownloadButton);\r\n    this.disableSearch = argValueToBoolean(raw.disableSearch);\r\n    this.onlyRequiredInSamples = argValueToBoolean(raw.onlyRequiredInSamples);\r\n    this.showExtensions = RedocNormalizedOptions.normalizeShowExtensions(raw.showExtensions);\r\n    this.hideSingleRequestSampleTab = argValueToBoolean(raw.hideSingleRequestSampleTab);\r\n    this.menuToggle = argValueToBoolean(raw.menuToggle, true);\r\n    this.jsonSampleExpandLevel = RedocNormalizedOptions.normalizeJsonSampleExpandLevel(\r\n      raw.jsonSampleExpandLevel,\r\n    );\r\n    this.enumSkipQuotes = argValueToBoolean(raw.enumSkipQuotes);\r\n    this.hideSchemaTitles = argValueToBoolean(raw.hideSchemaTitles);\r\n    this.simpleOneOfTypeLabel = argValueToBoolean(raw.simpleOneOfTypeLabel);\r\n    this.payloadSampleIdx = RedocNormalizedOptions.normalizePayloadSampleIdx(raw.payloadSampleIdx);\r\n    this.expandSingleSchemaField = argValueToBoolean(raw.expandSingleSchemaField);\r\n\r\n    this.unstable_ignoreMimeParameters = argValueToBoolean(raw.unstable_ignoreMimeParameters);\r\n\r\n    this.allowedMdComponents = raw.allowedMdComponents || {};\r\n\r\n    this.expandDefaultServerVariables = argValueToBoolean(raw.expandDefaultServerVariables);\r\n    this.maxDisplayedEnumValues = argValueToNumber(raw.maxDisplayedEnumValues);\r\n    const ignoreNamedSchemas = Array.isArray(raw.ignoreNamedSchemas)\r\n      ? raw.ignoreNamedSchemas\r\n      : raw.ignoreNamedSchemas?.split(',').map(s => s.trim());\r\n    this.ignoreNamedSchemas = new Set(ignoreNamedSchemas);\r\n    this.hideSchemaPattern = argValueToBoolean(raw.hideSchemaPattern);\r\n    this.generatedPayloadSamplesMaxDepth =\r\n      RedocNormalizedOptions.normalizeGeneratedPayloadSamplesMaxDepth(\r\n        raw.generatedPayloadSamplesMaxDepth,\r\n      );\r\n  }\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/taggedTemplateLiteral\");;","import * as styledComponents from 'styled-components';\r\n\r\nimport type { ResolvedThemeInterface } from './theme';\r\n\r\nexport type { ResolvedThemeInterface };\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  createGlobalStyle,\r\n  keyframes,\r\n  ThemeProvider,\r\n} = styledComponents as unknown as styledComponents.ThemedStyledComponentsModule<ResolvedThemeInterface>;\r\n\r\nexport const media = {\r\n  lessThan(breakpoint, print?: boolean, extra?: string) {\r\n    return (...args) => css`\r\n      @media ${print ? 'print, ' : ''} screen and (max-width: ${props =>\r\n          props.theme.breakpoints[breakpoint]}) ${extra || ''} {\r\n        ${(css as any)(...args)};\r\n      }\r\n    `;\r\n  },\r\n\r\n  greaterThan(breakpoint) {\r\n    return (...args) => css`\r\n      @media (min-width: ${props => props.theme.breakpoints[breakpoint]}) {\r\n        ${(css as any)(...args)};\r\n      }\r\n    `;\r\n  },\r\n\r\n  between(firstBreakpoint, secondBreakpoint) {\r\n    return (...args) => css`\r\n      @media (min-width: ${props =>\r\n          props.theme.breakpoints[firstBreakpoint]}) and (max-width: ${props =>\r\n          props.theme.breakpoints[secondBreakpoint]}) {\r\n        ${(css as any)(...args)};\r\n      }\r\n    `;\r\n  },\r\n};\r\n\r\nexport { css, createGlobalStyle, keyframes, ThemeProvider };\r\nexport default styled;\r\n\r\nexport function extensionsHook(styledName: string) {\r\n  return props => {\r\n    if (!props.theme.extensionsHook) {\r\n      return;\r\n    }\r\n    return props.theme.extensionsHook(styledName, props);\r\n  };\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"styled-components\");;","import * as React from 'react';\r\nimport styled from '../styled-components';\r\n\r\nconst ErrorWrapper = styled.div`\r\n  padding: 20px;\r\n  color: red;\r\n`;\r\n\r\nexport class ErrorBoundary extends React.Component<\r\n  React.PropsWithChildren<unknown>,\r\n  { error?: Error }\r\n> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: undefined };\r\n  }\r\n\r\n  componentDidCatch(error) {\r\n    this.setState({ error });\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return (\r\n        <ErrorWrapper>\r\n          <h1>Something went wrong...</h1>\r\n          <small> {this.state.error.message} </small>\r\n          <p>\r\n            <details>\r\n              <summary>Stack trace</summary>\r\n              <pre>{this.state.error.stack}</pre>\r\n            </details>\r\n          </p>\r\n          <small> ReDoc Version: {__REDOC_VERSION__}</small> <br />\r\n          <small> Commit: {__REDOC_REVISION__}</small>\r\n        </ErrorWrapper>\r\n      );\r\n    }\r\n    return React.Children.only(this.props.children);\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport styled, { keyframes } from '../../styled-components';\r\n\r\nconst _Spinner = (props: { className?: string; color: string }) => (\r\n  <svg className={props.className} version=\"1.1\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\r\n    <path d=\"M275.682 147.999c0 10.864-8.837 19.661-19.682 19.661v0c-10.875 0-19.681-8.796-19.681-19.661v-96.635c0-10.885 8.806-19.661 19.681-19.661v0c10.844 0 19.682 8.776 19.682 19.661v96.635z\" />\r\n    <path d=\"M275.682 460.615c0 10.865-8.837 19.682-19.682 19.682v0c-10.875 0-19.681-8.817-19.681-19.682v-96.604c0-10.885 8.806-19.681 19.681-19.681v0c10.844 0 19.682 8.796 19.682 19.682v96.604z\" />\r\n    <path d=\"M147.978 236.339c10.885 0 19.681 8.755 19.681 19.641v0c0 10.885-8.796 19.702-19.681 19.702h-96.624c-10.864 0-19.661-8.817-19.661-19.702v0c0-10.885 8.796-19.641 19.661-19.641h96.624z\" />\r\n    <path d=\"M460.615 236.339c10.865 0 19.682 8.755 19.682 19.641v0c0 10.885-8.817 19.702-19.682 19.702h-96.584c-10.885 0-19.722-8.817-19.722-19.702v0c0-10.885 8.837-19.641 19.722-19.641h96.584z\" />\r\n    <path d=\"M193.546 165.703c7.69 7.66 7.68 20.142 0 27.822v0c-7.701 7.701-20.162 7.701-27.853 0.020l-68.311-68.322c-7.68-7.701-7.68-20.142 0-27.863v0c7.68-7.68 20.121-7.68 27.822 0l68.342 68.342z\" />\r\n    <path d=\"M414.597 386.775c7.7 7.68 7.7 20.163 0.021 27.863v0c-7.7 7.659-20.142 7.659-27.843-0.062l-68.311-68.26c-7.68-7.7-7.68-20.204 0-27.863v0c7.68-7.7 20.163-7.7 27.842 0l68.291 68.322z\" />\r\n    <path d=\"M165.694 318.464c7.69-7.7 20.153-7.7 27.853 0v0c7.68 7.659 7.69 20.163 0 27.863l-68.342 68.322c-7.67 7.659-20.142 7.659-27.822-0.062v0c-7.68-7.68-7.68-20.122 0-27.801l68.311-68.322z\" />\r\n    <path d=\"M386.775 97.362c7.7-7.68 20.142-7.68 27.822 0v0c7.7 7.68 7.7 20.183 0.021 27.863l-68.322 68.311c-7.68 7.68-20.163 7.68-27.843-0.020v0c-7.68-7.68-7.68-20.162 0-27.822l68.322-68.332z\" />\r\n  </svg>\r\n);\r\n\r\nconst rotate = keyframes`\r\n  0% {\r\n    transform: rotate(0deg); }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nexport const Spinner = styled(_Spinner)`\r\n  animation: 2s ${rotate} linear infinite;\r\n  width: 50px;\r\n  height: 50px;\r\n  content: '';\r\n  display: inline-block;\r\n  margin-left: -25px;\r\n\r\n  path {\r\n    fill: ${props => props.color};\r\n  }\r\n`;\r\n","import * as React from 'react';\r\nimport styled from '../../styled-components';\r\n\r\nimport { Spinner } from './Spinner.svg';\r\n\r\nconst LoadingMessage = styled.div<{ color: string }>`\r\n  font-family: helvetica, sans;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 25px;\r\n  margin: 30px 0 20px 0;\r\n  color: ${props => props.color};\r\n`;\r\n\r\nexport interface LoadingProps {\r\n  color: string;\r\n}\r\n\r\nexport class Loading extends React.PureComponent<LoadingProps> {\r\n  render() {\r\n    return (\r\n      <div style={{ textAlign: 'center' }}>\r\n        <LoadingMessage color={this.props.color}>Loading ...</LoadingMessage>\r\n        <Spinner color={this.props.color} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/assertThisInitialized\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prop-types\");;","import * as React from 'react';\r\n\r\nimport { RedocNormalizedOptions } from '../services/RedocNormalizedOptions';\r\n\r\nexport const OptionsContext = React.createContext(new RedocNormalizedOptions({}));\r\nexport const OptionsProvider = OptionsContext.Provider;\r\nexport const OptionsConsumer = OptionsContext.Consumer;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"mobx\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@redocly/openapi-core/lib/bundle\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@redocly/openapi-core/lib/config/config\");;","import type { Source, Document } from '@redocly/openapi-core';\r\n\r\n// eslint-disable-next-line import/no-internal-modules\r\nimport { bundle } from '@redocly/openapi-core/lib/bundle';\r\n// eslint-disable-next-line import/no-internal-modules\r\nimport { Config } from '@redocly/openapi-core/lib/config/config';\r\n\r\n/* tslint:disable-next-line:no-implicit-dependencies */\r\nimport { convertObj } from 'swagger2openapi';\r\nimport { OpenAPISpec } from '../types';\r\nimport { IS_BROWSER } from './dom';\r\n\r\nexport async function loadAndBundleSpec(specUrlOrObject: object | string): Promise<OpenAPISpec> {\r\n  const config = new Config({});\r\n  const bundleOpts = {\r\n    config,\r\n    base: IS_BROWSER ? window.location.href : process.cwd(),\r\n  };\r\n\r\n  if (IS_BROWSER) {\r\n    config.resolve.http.customFetch = global.fetch;\r\n  }\r\n\r\n  if (typeof specUrlOrObject === 'object' && specUrlOrObject !== null) {\r\n    bundleOpts['doc'] = {\r\n      source: { absoluteRef: '' } as Source,\r\n      parsed: specUrlOrObject,\r\n    } as Document;\r\n  } else {\r\n    bundleOpts['ref'] = specUrlOrObject;\r\n  }\r\n\r\n  const {\r\n    bundle: { parsed },\r\n  } = await bundle(bundleOpts);\r\n  return parsed.swagger !== undefined ? convertSwagger2OpenAPI(parsed) : parsed;\r\n}\r\n\r\nexport function convertSwagger2OpenAPI(spec: any): Promise<OpenAPISpec> {\r\n  console.warn('[ReDoc Compatibility mode]: Converting OpenAPI 2.0 to OpenAPI 3.0');\r\n  return new Promise<OpenAPISpec>((resolve, reject) =>\r\n    convertObj(spec, { patch: true, warnOnly: true, text: '{}', anchors: true }, (err, res) => {\r\n      // TODO: log any warnings\r\n      if (err) {\r\n        return reject(err);\r\n      }\r\n      resolve(res && (res.openapi as any));\r\n    }),\r\n  );\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/applyDecoratedDescriptor\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"decko\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"eventemitter3\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"json-pointer\");;","'use strict';\r\nimport * as JsonPointerLib from 'json-pointer';\r\n\r\nconst origParse = JsonPointerLib.parse;\r\n/**\r\n * Wrapper for JsonPointer. Provides common operations\r\n */\r\n\r\nexport class JsonPointer {\r\n  /**\r\n   * returns last JsonPointer token\r\n   * if level > 1 returns levels last (second last/third last)\r\n   * @example\r\n   * // returns subpath\r\n   * JsonPointerHelper.baseName('/path/0/subpath')\r\n   * // returns foo\r\n   * JsonPointerHelper.baseName('/path/foo/subpath', 2)\r\n   */\r\n  static baseName(pointer, level = 1) {\r\n    const tokens = JsonPointer.parse(pointer);\r\n    return tokens[tokens.length - level];\r\n  }\r\n\r\n  /**\r\n   * returns dirname of pointer\r\n   * if level > 1 returns corresponding dirname in the hierarchy\r\n   * @example\r\n   * // returns /path/0\r\n   * JsonPointerHelper.dirName('/path/0/subpath')\r\n   * // returns /path\r\n   * JsonPointerHelper.dirName('/path/foo/subpath', 2)\r\n   */\r\n  static dirName(pointer, level = 1) {\r\n    const tokens = JsonPointer.parse(pointer);\r\n    return JsonPointerLib.compile(tokens.slice(0, tokens.length - level));\r\n  }\r\n\r\n  /**\r\n   * returns relative path tokens\r\n   * @example\r\n   * // returns ['subpath']\r\n   * JsonPointerHelper.relative('/path/0', '/path/0/subpath')\r\n   * // returns ['foo', 'subpath']\r\n   * JsonPointerHelper.relative('/path', '/path/foo/subpath')\r\n   */\r\n  static relative(from, to): string[] {\r\n    const fromTokens = JsonPointer.parse(from);\r\n    const toTokens = JsonPointer.parse(to);\r\n    return toTokens.slice(fromTokens.length);\r\n  }\r\n\r\n  /**\r\n   * overridden JsonPointer original parse to take care of prefixing '#' symbol\r\n   * that is not valid JsonPointer\r\n   */\r\n  static parse(pointer) {\r\n    let ptr = pointer;\r\n    if (ptr.charAt(0) === '#') {\r\n      ptr = ptr.substring(1);\r\n    }\r\n    return origParse(ptr);\r\n  }\r\n\r\n  /**\r\n   * Creates a JSON pointer path, by joining one or more tokens to a base path.\r\n   *\r\n   * @param {string} base - The base path\r\n   * @param {string|string[]} tokens - The token(s) to append (e.g. [\"name\", \"first\"])\r\n   * @returns {string}\r\n   */\r\n  static join(base, tokens) {\r\n    // TODO: optimize\r\n    const baseTokens = JsonPointer.parse(base);\r\n    const resTokens = baseTokens.concat(tokens);\r\n    return JsonPointerLib.compile(resTokens);\r\n  }\r\n\r\n  static get(object: object, pointer: string) {\r\n    return JsonPointerLib.get(object, pointer);\r\n  }\r\n\r\n  static compile(tokens: string[]) {\r\n    return JsonPointerLib.compile(tokens);\r\n  }\r\n\r\n  static escape(pointer: string) {\r\n    return JsonPointerLib.escape(pointer);\r\n  }\r\n}\r\n(JsonPointerLib as any).parse = JsonPointer.parse;\r\nObject.assign(JsonPointer, JsonPointerLib);\r\nexport default JsonPointer;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"url-template\");;","import { dirname } from 'path';\r\nimport * as URLtemplate from 'url-template';\r\n\r\nimport { ExtendedOpenAPIOperation } from '../services';\r\nimport { FieldModel } from '../services/models';\r\nimport { OpenAPIParser } from '../services/OpenAPIParser';\r\nimport {\r\n  OpenAPIEncoding,\r\n  OpenAPIMediaType,\r\n  OpenAPIParameter,\r\n  OpenAPIParameterStyle,\r\n  OpenAPISchema,\r\n  OpenAPIServer,\r\n  Referenced,\r\n} from '../types';\r\nimport { IS_BROWSER } from './dom';\r\nimport { isNumeric, removeQueryString, resolveUrl } from './helpers';\r\n\r\nfunction isWildcardStatusCode(statusCode: string | number): statusCode is string {\r\n  return typeof statusCode === 'string' && /\\dxx/i.test(statusCode);\r\n}\r\n\r\nexport function isStatusCode(statusCode: string) {\r\n  return statusCode === 'default' || isNumeric(statusCode) || isWildcardStatusCode(statusCode);\r\n}\r\n\r\nexport function getStatusCodeType(statusCode: string | number, defaultAsError = false): string {\r\n  if (statusCode === 'default') {\r\n    return defaultAsError ? 'error' : 'success';\r\n  }\r\n\r\n  let code = typeof statusCode === 'string' ? parseInt(statusCode, 10) : statusCode;\r\n  if (isWildcardStatusCode(statusCode)) {\r\n    code *= 100; // parseInt('2xx') parses to 2\r\n  }\r\n\r\n  if (code < 100 || code > 599) {\r\n    throw new Error('invalid HTTP code');\r\n  }\r\n  let res = 'success';\r\n  if (code >= 300 && code < 400) {\r\n    res = 'redirect';\r\n  } else if (code >= 400) {\r\n    res = 'error';\r\n  } else if (code < 200) {\r\n    res = 'info';\r\n  }\r\n  return res;\r\n}\r\n\r\nconst operationNames = {\r\n  get: true,\r\n  post: true,\r\n  put: true,\r\n  head: true,\r\n  patch: true,\r\n  delete: true,\r\n  options: true,\r\n  $ref: true,\r\n};\r\n\r\nexport function isOperationName(key: string): boolean {\r\n  return key in operationNames;\r\n}\r\n\r\nexport function getOperationSummary(operation: ExtendedOpenAPIOperation): string {\r\n  return (\r\n    operation.summary ||\r\n    operation.operationId ||\r\n    (operation.description && operation.description.substring(0, 50)) ||\r\n    operation.pathName ||\r\n    '<no summary>'\r\n  );\r\n}\r\n\r\nconst schemaKeywordTypes = {\r\n  multipleOf: 'number',\r\n  maximum: 'number',\r\n  exclusiveMaximum: 'number',\r\n  minimum: 'number',\r\n  exclusiveMinimum: 'number',\r\n\r\n  maxLength: 'string',\r\n  minLength: 'string',\r\n  pattern: 'string',\r\n  contentEncoding: 'string',\r\n  contentMediaType: 'string',\r\n\r\n  items: 'array',\r\n  maxItems: 'array',\r\n  minItems: 'array',\r\n  uniqueItems: 'array',\r\n\r\n  maxProperties: 'object',\r\n  minProperties: 'object',\r\n  required: 'object',\r\n  additionalProperties: 'object',\r\n  properties: 'object',\r\n};\r\n\r\nexport function detectType(schema: OpenAPISchema): string {\r\n  if (schema.type !== undefined && !Array.isArray(schema.type)) {\r\n    return schema.type;\r\n  }\r\n  const keywords = Object.keys(schemaKeywordTypes);\r\n  for (const keyword of keywords) {\r\n    const type = schemaKeywordTypes[keyword];\r\n    if (schema[keyword] !== undefined) {\r\n      return type;\r\n    }\r\n  }\r\n\r\n  return 'any';\r\n}\r\n\r\nexport function isPrimitiveType(\r\n  schema: OpenAPISchema,\r\n  type: string | string[] | undefined = schema.type,\r\n) {\r\n  if (schema.oneOf !== undefined || schema.anyOf !== undefined) {\r\n    return false;\r\n  }\r\n\r\n  let isPrimitive = true;\r\n  const isArray = Array.isArray(type);\r\n\r\n  if (type === 'object' || (isArray && type?.includes('object'))) {\r\n    isPrimitive =\r\n      schema.properties !== undefined\r\n        ? Object.keys(schema.properties).length === 0\r\n        : schema.additionalProperties === undefined;\r\n  }\r\n\r\n  if (schema.items !== undefined && (type === 'array' || (isArray && type?.includes('array')))) {\r\n    isPrimitive = isPrimitiveType(schema.items, schema.items.type);\r\n  }\r\n\r\n  return isPrimitive;\r\n}\r\n\r\nexport function isJsonLike(contentType: string): boolean {\r\n  return contentType.search(/json/i) !== -1;\r\n}\r\n\r\nexport function isFormUrlEncoded(contentType: string): boolean {\r\n  return contentType === 'application/x-www-form-urlencoded';\r\n}\r\n\r\nfunction delimitedEncodeField(fieldVal: any, fieldName: string, delimiter: string): string {\r\n  if (Array.isArray(fieldVal)) {\r\n    return fieldVal.map(v => v.toString()).join(delimiter);\r\n  } else if (typeof fieldVal === 'object') {\r\n    return Object.keys(fieldVal)\r\n      .map(k => `${k}${delimiter}${fieldVal[k]}`)\r\n      .join(delimiter);\r\n  } else {\r\n    return fieldName + '=' + fieldVal.toString();\r\n  }\r\n}\r\n\r\nfunction deepObjectEncodeField(fieldVal: any, fieldName: string): string {\r\n  if (Array.isArray(fieldVal)) {\r\n    console.warn('deepObject style cannot be used with array value:' + fieldVal.toString());\r\n    return '';\r\n  } else if (typeof fieldVal === 'object') {\r\n    return Object.keys(fieldVal)\r\n      .map(k => `${fieldName}[${k}]=${fieldVal[k]}`)\r\n      .join('&');\r\n  } else {\r\n    console.warn('deepObject style cannot be used with non-object value:' + fieldVal.toString());\r\n    return '';\r\n  }\r\n}\r\n\r\nfunction serializeFormValue(name: string, explode: boolean, value: any) {\r\n  // Use RFC6570 safe name ([a-zA-Z0-9_]) and replace with our name later\r\n  // e.g. URI.template doesn't parse names with hyphen (-) which are valid query param names\r\n  const safeName = '__redoc_param_name__';\r\n  const suffix = explode ? '*' : '';\r\n  const template = URLtemplate.parse(`{?${safeName}${suffix}}`);\r\n  return template\r\n    .expand({ [safeName]: value })\r\n    .substring(1)\r\n    .replace(/__redoc_param_name__/g, name);\r\n}\r\n\r\n/*\r\n * Should be used only for url-form-encoded body payloads\r\n * To be used for parameters should be extended with other style values\r\n */\r\nexport function urlFormEncodePayload(\r\n  payload: object,\r\n  encoding: { [field: string]: OpenAPIEncoding } = {},\r\n) {\r\n  if (Array.isArray(payload)) {\r\n    throw new Error('Payload must have fields: ' + payload.toString());\r\n  } else {\r\n    return Object.keys(payload)\r\n      .map(fieldName => {\r\n        const fieldVal = payload[fieldName];\r\n        const { style = 'form', explode = true } = encoding[fieldName] || {};\r\n        switch (style) {\r\n          case 'form':\r\n            return serializeFormValue(fieldName, explode, fieldVal);\r\n          case 'spaceDelimited':\r\n            return delimitedEncodeField(fieldVal, fieldName, '%20');\r\n          case 'pipeDelimited':\r\n            return delimitedEncodeField(fieldVal, fieldName, '|');\r\n          case 'deepObject':\r\n            return deepObjectEncodeField(fieldVal, fieldName);\r\n          default:\r\n            // TODO implement rest of styles for path parameters\r\n            console.warn('Incorrect or unsupported encoding style: ' + style);\r\n            return '';\r\n        }\r\n      })\r\n      .join('&');\r\n  }\r\n}\r\n\r\nfunction serializePathParameter(\r\n  name: string,\r\n  style: OpenAPIParameterStyle,\r\n  explode: boolean,\r\n  value: any,\r\n): string {\r\n  const suffix = explode ? '*' : '';\r\n  let prefix = '';\r\n\r\n  if (style === 'label') {\r\n    prefix = '.';\r\n  } else if (style === 'matrix') {\r\n    prefix = ';';\r\n  }\r\n\r\n  // Use RFC6570 safe name ([a-zA-Z0-9_]) and replace with our name later\r\n  // e.g. URI.template doesn't parse names with hyphen (-) which are valid query param names\r\n  const safeName = '__redoc_param_name__';\r\n  const template = URLtemplate.parse(`{${prefix}${safeName}${suffix}}`);\r\n\r\n  return template.expand({ [safeName]: value }).replace(/__redoc_param_name__/g, name);\r\n}\r\n\r\nfunction serializeQueryParameter(\r\n  name: string,\r\n  style: OpenAPIParameterStyle,\r\n  explode: boolean,\r\n  value: any,\r\n): string {\r\n  switch (style) {\r\n    case 'form':\r\n      return serializeFormValue(name, explode, value);\r\n    case 'spaceDelimited':\r\n      if (!Array.isArray(value)) {\r\n        console.warn('The style spaceDelimited is only applicable to arrays');\r\n        return '';\r\n      }\r\n      if (explode) {\r\n        return serializeFormValue(name, explode, value);\r\n      }\r\n\r\n      return `${name}=${value.join('%20')}`;\r\n    case 'pipeDelimited':\r\n      if (!Array.isArray(value)) {\r\n        console.warn('The style pipeDelimited is only applicable to arrays');\r\n        return '';\r\n      }\r\n      if (explode) {\r\n        return serializeFormValue(name, explode, value);\r\n      }\r\n\r\n      return `${name}=${value.join('|')}`;\r\n    case 'deepObject':\r\n      if (!explode || Array.isArray(value) || typeof value !== 'object') {\r\n        console.warn('The style deepObject is only applicable for objects with explode=true');\r\n        return '';\r\n      }\r\n\r\n      return deepObjectEncodeField(value, name);\r\n    default:\r\n      console.warn('Unexpected style for query: ' + style);\r\n      return '';\r\n  }\r\n}\r\n\r\nfunction serializeHeaderParameter(\r\n  style: OpenAPIParameterStyle,\r\n  explode: boolean,\r\n  value: any,\r\n): string {\r\n  switch (style) {\r\n    case 'simple':\r\n      const suffix = explode ? '*' : '';\r\n\r\n      // name is not important here, so use RFC6570 safe name ([a-zA-Z0-9_])\r\n      const name = '__redoc_param_name__';\r\n      const template = URLtemplate.parse(`{${name}${suffix}}`);\r\n      return decodeURIComponent(template.expand({ [name]: value }));\r\n    default:\r\n      console.warn('Unexpected style for header: ' + style);\r\n      return '';\r\n  }\r\n}\r\n\r\nfunction serializeCookieParameter(\r\n  name: string,\r\n  style: OpenAPIParameterStyle,\r\n  explode: boolean,\r\n  value: any,\r\n): string {\r\n  switch (style) {\r\n    case 'form':\r\n      return serializeFormValue(name, explode, value);\r\n    default:\r\n      console.warn('Unexpected style for cookie: ' + style);\r\n      return '';\r\n  }\r\n}\r\n\r\nexport function serializeParameterValueWithMime(value: any, mime: string): string {\r\n  if (isJsonLike(mime)) {\r\n    return JSON.stringify(value);\r\n  } else {\r\n    console.warn(`Parameter serialization as ${mime} is not supported`);\r\n    return '';\r\n  }\r\n}\r\n\r\nexport function serializeParameterValue(\r\n  parameter: OpenAPIParameter & { serializationMime?: string },\r\n  value: any,\r\n): string {\r\n  const { name, style, explode = false, serializationMime } = parameter;\r\n\r\n  if (serializationMime) {\r\n    switch (parameter.in) {\r\n      case 'path':\r\n      case 'header':\r\n        return serializeParameterValueWithMime(value, serializationMime);\r\n      case 'cookie':\r\n      case 'query':\r\n        return `${name}=${serializeParameterValueWithMime(value, serializationMime)}`;\r\n      default:\r\n        console.warn('Unexpected parameter location: ' + parameter.in);\r\n        return '';\r\n    }\r\n  }\r\n\r\n  if (!style) {\r\n    console.warn(`Missing style attribute or content for parameter ${name}`);\r\n    return '';\r\n  }\r\n\r\n  switch (parameter.in) {\r\n    case 'path':\r\n      return serializePathParameter(name, style, explode, value);\r\n    case 'query':\r\n      return serializeQueryParameter(name, style, explode, value);\r\n    case 'header':\r\n      return serializeHeaderParameter(style, explode, value);\r\n    case 'cookie':\r\n      return serializeCookieParameter(name, style, explode, value);\r\n    default:\r\n      console.warn('Unexpected parameter location: ' + parameter.in);\r\n      return '';\r\n  }\r\n}\r\n\r\nexport function langFromMime(contentType: string): string {\r\n  if (contentType.search(/xml/i) !== -1) {\r\n    return 'xml';\r\n  }\r\n  return 'clike';\r\n}\r\n\r\nexport function isNamedDefinition(pointer?: string): boolean {\r\n  return /^#\\/components\\/(schemas|pathItems)\\/[^\\/]+$/.test(pointer || '');\r\n}\r\n\r\nexport function getDefinitionName(pointer?: string): string | undefined {\r\n  if (!pointer) return undefined;\r\n  const match = pointer.match(/^#\\/components\\/(schemas|pathItems)\\/([^\\/]+)$/);\r\n  return match === null ? undefined : match[1];\r\n}\r\n\r\nfunction humanizeMultipleOfConstraint(multipleOf: number | undefined): string | undefined {\r\n  if (multipleOf === undefined) {\r\n    return;\r\n  }\r\n  const strigifiedMultipleOf = multipleOf.toString(10);\r\n  if (!/^0\\.0*1$/.test(strigifiedMultipleOf)) {\r\n    return `multiple of ${strigifiedMultipleOf}`;\r\n  }\r\n  return `decimal places <= ${strigifiedMultipleOf.split('.')[1].length}`;\r\n}\r\n\r\nfunction humanizeRangeConstraint(\r\n  description: string,\r\n  min: number | undefined,\r\n  max: number | undefined,\r\n): string | undefined {\r\n  let stringRange;\r\n  if (min !== undefined && max !== undefined) {\r\n    if (min === max) {\r\n      stringRange = `${min} ${description}`;\r\n    } else {\r\n      stringRange = `[ ${min} .. ${max} ] ${description}`;\r\n    }\r\n  } else if (max !== undefined) {\r\n    stringRange = `<= ${max} ${description}`;\r\n  } else if (min !== undefined) {\r\n    if (min === 1) {\r\n      stringRange = 'non-empty';\r\n    } else {\r\n      stringRange = `>= ${min} ${description}`;\r\n    }\r\n  }\r\n\r\n  return stringRange;\r\n}\r\n\r\nexport function humanizeNumberRange(schema: OpenAPISchema): string | undefined {\r\n  const minimum =\r\n    typeof schema.exclusiveMinimum === 'number'\r\n      ? Math.min(schema.exclusiveMinimum, schema.minimum ?? Infinity)\r\n      : schema.minimum;\r\n  const maximum =\r\n    typeof schema.exclusiveMaximum === 'number'\r\n      ? Math.max(schema.exclusiveMaximum, schema.maximum ?? -Infinity)\r\n      : schema.maximum;\r\n  const exclusiveMinimum = typeof schema.exclusiveMinimum === 'number' || schema.exclusiveMinimum;\r\n  const exclusiveMaximum = typeof schema.exclusiveMaximum === 'number' || schema.exclusiveMaximum;\r\n\r\n  if (minimum !== undefined && maximum !== undefined) {\r\n    return `${exclusiveMinimum ? '( ' : '[ '}${minimum} .. ${maximum}${\r\n      exclusiveMaximum ? ' )' : ' ]'\r\n    }`;\r\n  } else if (maximum !== undefined) {\r\n    return `${exclusiveMaximum ? '< ' : '<= '}${maximum}`;\r\n  } else if (minimum !== undefined) {\r\n    return `${exclusiveMinimum ? '> ' : '>= '}${minimum}`;\r\n  }\r\n}\r\n\r\nexport function humanizeConstraints(schema: OpenAPISchema): string[] {\r\n  const res: string[] = [];\r\n\r\n  const stringRange = humanizeRangeConstraint('characters', schema.minLength, schema.maxLength);\r\n  if (stringRange !== undefined) {\r\n    res.push(stringRange);\r\n  }\r\n\r\n  const arrayRange = humanizeRangeConstraint('items', schema.minItems, schema.maxItems);\r\n  if (arrayRange !== undefined) {\r\n    res.push(arrayRange);\r\n  }\r\n\r\n  const multipleOfConstraint = humanizeMultipleOfConstraint(schema.multipleOf);\r\n  if (multipleOfConstraint !== undefined) {\r\n    res.push(multipleOfConstraint);\r\n  }\r\n\r\n  const numberRange = humanizeNumberRange(schema);\r\n  if (numberRange !== undefined) {\r\n    res.push(numberRange);\r\n  }\r\n\r\n  if (schema.uniqueItems) {\r\n    res.push('unique');\r\n  }\r\n\r\n  return res;\r\n}\r\n\r\nexport function sortByRequired(fields: FieldModel[], order: string[] = []) {\r\n  const unrequiredFields: FieldModel[] = [];\r\n  const orderedFields: FieldModel[] = [];\r\n  const unorderedFields: FieldModel[] = [];\r\n\r\n  fields.forEach(field => {\r\n    if (field.required) {\r\n      order.includes(field.name) ? orderedFields.push(field) : unorderedFields.push(field);\r\n    } else {\r\n      unrequiredFields.push(field);\r\n    }\r\n  });\r\n\r\n  orderedFields.sort((a, b) => order.indexOf(a.name) - order.indexOf(b.name));\r\n\r\n  return [...orderedFields, ...unorderedFields, ...unrequiredFields];\r\n}\r\n\r\nexport function sortByField(\r\n  fields: FieldModel[],\r\n  param: keyof Pick<FieldModel, 'name' | 'description' | 'kind'>,\r\n) {\r\n  return [...fields].sort((a, b) => {\r\n    return a[param].localeCompare(b[param]);\r\n  });\r\n}\r\n\r\nexport function mergeParams(\r\n  parser: OpenAPIParser,\r\n  pathParams: Array<Referenced<OpenAPIParameter>> = [],\r\n  operationParams: Array<Referenced<OpenAPIParameter>> = [],\r\n): Array<Referenced<OpenAPIParameter>> {\r\n  const operationParamNames = {};\r\n  operationParams.forEach(param => {\r\n    param = parser.shallowDeref(param);\r\n    operationParamNames[param.name + '_' + param.in] = true;\r\n  });\r\n\r\n  // filter out path params overridden by operation ones with the same name\r\n  pathParams = pathParams.filter(param => {\r\n    param = parser.shallowDeref(param);\r\n    return !operationParamNames[param.name + '_' + param.in];\r\n  });\r\n\r\n  return pathParams.concat(operationParams);\r\n}\r\n\r\nexport function mergeSimilarMediaTypes(\r\n  types: Record<string, OpenAPIMediaType>,\r\n): Record<string, OpenAPIMediaType> {\r\n  const mergedTypes = {};\r\n  Object.keys(types).forEach(name => {\r\n    const mime = types[name];\r\n    // ignore content type parameters (e.g. charset) and merge\r\n    const normalizedMimeName = name.split(';')[0].trim();\r\n    if (!mergedTypes[normalizedMimeName]) {\r\n      mergedTypes[normalizedMimeName] = mime;\r\n      return;\r\n    }\r\n    mergedTypes[normalizedMimeName] = { ...mergedTypes[normalizedMimeName], ...mime };\r\n  });\r\n\r\n  return mergedTypes;\r\n}\r\n\r\nexport function expandDefaultServerVariables(url: string, variables: object = {}) {\r\n  return url.replace(\r\n    /(?:{)([\\w-.]+)(?:})/g,\r\n    (match, name) => (variables[name] && variables[name].default) || match,\r\n  );\r\n}\r\n\r\nexport function normalizeServers(\r\n  specUrl: string | undefined,\r\n  servers: OpenAPIServer[],\r\n): OpenAPIServer[] {\r\n  const getHref = () => {\r\n    if (!IS_BROWSER) {\r\n      return '';\r\n    }\r\n    const href = window.location.href;\r\n    return href.endsWith('.html') ? dirname(href) : href;\r\n  };\r\n\r\n  const baseUrl = specUrl === undefined ? removeQueryString(getHref()) : dirname(specUrl);\r\n\r\n  if (servers.length === 0) {\r\n    // Behaviour defined in OpenAPI spec: https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#openapi-object\r\n    servers = [\r\n      {\r\n        url: '/',\r\n      },\r\n    ];\r\n  }\r\n\r\n  function normalizeUrl(url: string): string {\r\n    return resolveUrl(baseUrl, url);\r\n  }\r\n\r\n  return servers.map(server => {\r\n    return {\r\n      ...server,\r\n      url: normalizeUrl(server.url),\r\n      description: server.description || '',\r\n    };\r\n  });\r\n}\r\n\r\nexport const SECURITY_DEFINITIONS_COMPONENT_NAME = 'security-definitions';\r\nexport const SECURITY_DEFINITIONS_JSX_NAME = 'SecurityDefinitions';\r\nexport const SCHEMA_DEFINITION_JSX_NAME = 'SchemaDefinition';\r\n\r\nexport let SECURITY_SCHEMES_SECTION_PREFIX = 'section/Authentication/';\r\nexport function setSecuritySchemePrefix(prefix: string) {\r\n  SECURITY_SCHEMES_SECTION_PREFIX = prefix;\r\n}\r\n\r\nexport const shortenHTTPVerb = verb =>\r\n  ({\r\n    delete: 'del',\r\n    options: 'opts',\r\n  }[verb] || verb);\r\n\r\nexport function isRedocExtension(key: string): boolean {\r\n  const redocExtensions = {\r\n    'x-circular-ref': true,\r\n    'x-code-samples': true, // deprecated\r\n    'x-codeSamples': true,\r\n    'x-displayName': true,\r\n    'x-examples': true,\r\n    'x-ignoredHeaderParameters': true,\r\n    'x-logo': true,\r\n    'x-nullable': true,\r\n    'x-servers': true,\r\n    'x-tagGroups': true,\r\n    'x-traitTag': true,\r\n    'x-additionalPropertiesName': true,\r\n    'x-explicitMappingOnly': true,\r\n  };\r\n\r\n  return key in redocExtensions;\r\n}\r\n\r\nexport function extractExtensions(\r\n  obj: object,\r\n  showExtensions: string[] | true,\r\n): Record<string, any> {\r\n  return Object.keys(obj)\r\n    .filter(key => {\r\n      if (showExtensions === true) {\r\n        return key.startsWith('x-') && !isRedocExtension(key);\r\n      }\r\n      return key.startsWith('x-') && showExtensions.indexOf(key) > -1;\r\n    })\r\n    .reduce((acc, key) => {\r\n      acc[key] = obj[key];\r\n      return acc;\r\n    }, {});\r\n}\r\n\r\nexport function pluralizeType(displayType: string): string {\r\n  return displayType\r\n    .split(' or ')\r\n    .map(type => type.replace(/^(string|object|number|integer|array|boolean)s?( ?.*)/, '$1s$2'))\r\n    .join(' or ');\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs\");;","import * as Prism from 'prismjs';\r\nimport 'prismjs/components/prism-bash.js';\r\nimport 'prismjs/components/prism-c.js';\r\nimport 'prismjs/components/prism-clike.js';\r\nimport 'prismjs/components/prism-coffeescript.js';\r\nimport 'prismjs/components/prism-cpp.js';\r\nimport 'prismjs/components/prism-csharp.js';\r\nimport 'prismjs/components/prism-go.js';\r\nimport 'prismjs/components/prism-http.js';\r\nimport 'prismjs/components/prism-java.js';\r\nimport 'prismjs/components/prism-lua.js';\r\nimport 'prismjs/components/prism-markup-templating.js'; // dep of php\r\nimport 'prismjs/components/prism-markup.js'; // xml\r\nimport 'prismjs/components/prism-objectivec.js';\r\nimport 'prismjs/components/prism-perl.js';\r\nimport 'prismjs/components/prism-php.js';\r\nimport 'prismjs/components/prism-python.js';\r\nimport 'prismjs/components/prism-q.js';\r\nimport 'prismjs/components/prism-ruby.js';\r\nimport 'prismjs/components/prism-scala.js';\r\nimport 'prismjs/components/prism-sql.js';\r\nimport 'prismjs/components/prism-swift.js';\r\nimport 'prismjs/components/prism-yaml.js';\r\n\r\nconst DEFAULT_LANG = 'clike';\r\n\r\nPrism.languages.insertBefore(\r\n  'javascript',\r\n  'string',\r\n  {\r\n    'property string': {\r\n      pattern: /([{,]\\s*)\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/i,\r\n      lookbehind: true,\r\n    },\r\n  } as any,\r\n  undefined as any,\r\n);\r\n\r\nPrism.languages.insertBefore(\r\n  'javascript',\r\n  'punctuation',\r\n  {\r\n    property: {\r\n      pattern: /([{,]\\s*)[a-z]\\w*(?=\\s*:)/i,\r\n      lookbehind: true,\r\n    },\r\n  },\r\n  undefined as any,\r\n);\r\n\r\n/**\r\n * map language names to Prism.js names\r\n */\r\nexport function mapLang(lang: string): string {\r\n  return (\r\n    {\r\n      json: 'js',\r\n      'c++': 'cpp',\r\n      'c#': 'csharp',\r\n      'objective-c': 'objectivec',\r\n      shell: 'bash',\r\n      viml: 'vim',\r\n    }[lang] || DEFAULT_LANG\r\n  );\r\n}\r\n\r\n/**\r\n * Highlight source code string using Prism.js\r\n * @param source source code to highlight\r\n * @param lang highlight language\r\n * @return highlighted source code as **html string**\r\n */\r\nexport function highlight(source: string | number | boolean, lang: string = DEFAULT_LANG): string {\r\n  lang = lang.toLowerCase();\r\n  let grammar = Prism.languages[lang];\r\n  if (!grammar) {\r\n    grammar = Prism.languages[mapLang(lang)];\r\n  }\r\n  return Prism.highlight(source.toString(), grammar, lang);\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-bash.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-c.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-clike.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-coffeescript.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-cpp.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-csharp.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-go.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-http.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-java.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-lua.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-markup-templating.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-markup.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-objectivec.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-perl.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-php.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-python.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-q.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-ruby.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-scala.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-sql.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-swift.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-yaml.js\");;","function throttle(func, wait) {\r\n  let context;\r\n  let args;\r\n  let result;\r\n  let timeout: any = null;\r\n  let previous = 0;\r\n  const later = () => {\r\n    previous = new Date().getTime();\r\n    timeout = null;\r\n    result = func.apply(context, args);\r\n    if (!timeout) {\r\n      context = args = null;\r\n    }\r\n  };\r\n  return function () {\r\n    const now = new Date().getTime();\r\n    const remaining = wait - (now - previous);\r\n    context = this;\r\n    // eslint-disable-next-line prefer-rest-params\r\n    args = arguments;\r\n    if (remaining <= 0 || remaining > wait) {\r\n      if (timeout) {\r\n        clearTimeout(timeout);\r\n        timeout = null;\r\n      }\r\n      previous = now;\r\n      result = func.apply(context, args);\r\n      if (!timeout) {\r\n        context = args = null;\r\n      }\r\n    } else if (!timeout) {\r\n      timeout = setTimeout(later, remaining);\r\n    }\r\n    return result;\r\n  };\r\n}\r\n\r\nexport function Throttle(delay: number) {\r\n  return (_, _2, desc: PropertyDescriptor) => {\r\n    desc.value = throttle(desc.value, delay);\r\n  };\r\n}\r\n","export function debugTime(label: string) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    console.time(label);\r\n  }\r\n}\r\n\r\nexport function debugTimeEnd(label: string) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    console.timeEnd(label);\r\n  }\r\n}\r\n","// source: https://github.com/andreypopp/memoize-decorator\r\nconst SENTINEL = {};\r\n\r\nexport function memoize<T>(target: any, name: string, descriptor: TypedPropertyDescriptor<T>) {\r\n  if (typeof descriptor.value === 'function') {\r\n    return _memoizeMethod(target, name, descriptor) as any as TypedPropertyDescriptor<T>;\r\n  } else if (typeof descriptor.get === 'function') {\r\n    return _memoizeGetter(target, name, descriptor) as TypedPropertyDescriptor<T>;\r\n  } else {\r\n    throw new Error(\r\n      '@memoize decorator can be applied to methods or getters, got ' +\r\n        String(descriptor.value) +\r\n        ' instead',\r\n    );\r\n  }\r\n}\r\n\r\nfunction _memoizeGetter(target: any, name: string, descriptor: PropertyDescriptor) {\r\n  const memoizedName = `_memoized_${name}`;\r\n  const get = descriptor.get!;\r\n  target[memoizedName] = SENTINEL;\r\n  return {\r\n    ...descriptor,\r\n    get() {\r\n      if (this[memoizedName] === SENTINEL) {\r\n        this[memoizedName] = get.call(this);\r\n      }\r\n      return this[memoizedName];\r\n    },\r\n  };\r\n}\r\n\r\nfunction _memoizeMethod<T>(target: any, name: string, descriptor: TypedPropertyDescriptor<T>) {\r\n  if (!descriptor.value || (descriptor.value as any).length > 0) {\r\n    throw new Error('@memoize decorator can only be applied to methods of zero arguments');\r\n  }\r\n  const memoizedName = `_memoized_${name}`;\r\n  const value = descriptor.value;\r\n  target[memoizedName] = SENTINEL;\r\n  return {\r\n    ...descriptor,\r\n    value() {\r\n      if (this[memoizedName] === SENTINEL) {\r\n        this[memoizedName] = (value as any).call(this);\r\n      }\r\n      return this[memoizedName] as any;\r\n    },\r\n  };\r\n}\r\n","import { bind, debounce } from 'decko';\r\nimport { EventEmitter } from 'eventemitter3';\r\nimport { IS_BROWSER } from '../utils/';\r\n\r\nconst EVENT = 'hashchange';\r\n\r\nexport class HistoryService {\r\n  private _emiter;\r\n\r\n  constructor() {\r\n    this._emiter = new EventEmitter();\r\n    this.bind();\r\n  }\r\n\r\n  get currentId(): string {\r\n    return IS_BROWSER ? decodeURIComponent(window.location.hash.substring(1)) : '';\r\n  }\r\n\r\n  linkForId(id: string) {\r\n    if (!id) {\r\n      return '';\r\n    }\r\n    return '#' + id;\r\n  }\r\n\r\n  subscribe(cb): () => void {\r\n    const emmiter = this._emiter.addListener(EVENT, cb);\r\n    return () => emmiter.removeListener(EVENT, cb);\r\n  }\r\n\r\n  emit = () => {\r\n    this._emiter.emit(EVENT, this.currentId);\r\n  };\r\n\r\n  bind() {\r\n    if (IS_BROWSER) {\r\n      window.addEventListener('hashchange', this.emit, false);\r\n    }\r\n  }\r\n\r\n  dispose() {\r\n    if (IS_BROWSER) {\r\n      window.removeEventListener('hashchange', this.emit);\r\n    }\r\n  }\r\n\r\n  @bind\r\n  @debounce\r\n  replace(id: string | null, rewriteHistory: boolean = false) {\r\n    if (!IS_BROWSER) {\r\n      return;\r\n    }\r\n\r\n    if (id == null || id === this.currentId) {\r\n      return;\r\n    }\r\n    if (rewriteHistory) {\r\n      window.history.replaceState(\r\n        null,\r\n        '',\r\n        window.location.href.split('#')[0] + this.linkForId(id),\r\n      );\r\n\r\n      return;\r\n    }\r\n    window.history.pushState(null, '', window.location.href.split('#')[0] + this.linkForId(id));\r\n    this.emit();\r\n  }\r\n}\r\n\r\nexport const history = new HistoryService();\r\n\r\nif (module.hot) {\r\n  module.hot.dispose(() => {\r\n    history.dispose();\r\n  });\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"mark.js\");;","import * as Mark from 'mark.js';\r\n\r\nexport class MarkerService {\r\n  map: Map<Element, Mark> = new Map();\r\n\r\n  private prevTerm: string = '';\r\n\r\n  add(el: HTMLElement) {\r\n    this.map.set(el, new Mark(el));\r\n  }\r\n\r\n  delete(el: Element) {\r\n    this.map.delete(el);\r\n  }\r\n\r\n  addOnly(elements: Element[]) {\r\n    this.map.forEach((inst, elem) => {\r\n      if (elements.indexOf(elem) === -1) {\r\n        inst.unmark();\r\n        this.map.delete(elem);\r\n      }\r\n    });\r\n\r\n    for (const el of elements) {\r\n      if (!this.map.has(el)) {\r\n        this.map.set(el, new Mark(el as HTMLElement));\r\n      }\r\n    }\r\n  }\r\n\r\n  clearAll() {\r\n    this.unmark();\r\n    this.map.clear();\r\n  }\r\n\r\n  mark(term?: string) {\r\n    if (!term && !this.prevTerm) {\r\n      return;\r\n    }\r\n    this.map.forEach(val => {\r\n      val.unmark();\r\n      val.mark(term || this.prevTerm);\r\n    });\r\n    this.prevTerm = term || this.prevTerm;\r\n  }\r\n\r\n  unmark() {\r\n    this.map.forEach(val => val.unmark());\r\n    this.prevTerm = '';\r\n  }\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/initializerDefineProperty\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"marked\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/initializerWarningHelper\");;","import * as marked from 'marked';\r\n\r\nimport { highlight, safeSlugify, unescapeHTMLChars } from '../utils';\r\nimport { AppStore } from './AppStore';\r\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\r\n\r\nconst renderer = new marked.Renderer();\r\n\r\nmarked.setOptions({\r\n  renderer,\r\n  highlight: (str, lang) => {\r\n    return highlight(str, lang);\r\n  },\r\n});\r\n\r\nexport const LEGACY_REGEXP = '^ {0,3}<!-- ReDoc-Inject:\\\\s+?<({component}).*?/?>\\\\s+?-->\\\\s*$';\r\n\r\n// prettier-ignore\r\nexport const MDX_COMPONENT_REGEXP = '(?:^ {0,3}<({component})([\\\\s\\\\S]*?)>([\\\\s\\\\S]*?)</\\\\2>' // with children\r\n  + '|^ {0,3}<({component})([\\\\s\\\\S]*?)(?:/>|\\\\n{2,}))'; // self-closing\r\n\r\nexport const COMPONENT_REGEXP = '(?:' + LEGACY_REGEXP + '|' + MDX_COMPONENT_REGEXP + ')';\r\n\r\nexport interface MDXComponentMeta {\r\n  component: React.ComponentType;\r\n  propsSelector: (store?: AppStore) => any;\r\n  props?: object;\r\n}\r\n\r\nexport interface MarkdownHeading {\r\n  id: string;\r\n  name: string;\r\n  level: number;\r\n  items?: MarkdownHeading[];\r\n  description?: string;\r\n}\r\n\r\nexport function buildComponentComment(name: string) {\r\n  return `<!-- ReDoc-Inject: <${name}> -->`;\r\n}\r\n\r\nexport class MarkdownRenderer {\r\n  static containsComponent(rawText: string, componentName: string) {\r\n    const compRegexp = new RegExp(COMPONENT_REGEXP.replace(/{component}/g, componentName), 'gmi');\r\n    return compRegexp.test(rawText);\r\n  }\r\n\r\n  static getTextBeforeHading(md: string, heading: string): string {\r\n    const headingLinePos = md.search(new RegExp(`^##?\\\\s+${heading}`, 'm'));\r\n    if (headingLinePos > -1) {\r\n      return md.substring(0, headingLinePos);\r\n    }\r\n    return md;\r\n  }\r\n\r\n  headings: MarkdownHeading[] = [];\r\n  currentTopHeading: MarkdownHeading;\r\n\r\n  private headingEnhanceRenderer: marked.Renderer;\r\n  private originalHeadingRule: typeof marked.Renderer.prototype.heading;\r\n\r\n  constructor(public options?: RedocNormalizedOptions) {\r\n    this.headingEnhanceRenderer = new marked.Renderer();\r\n    this.originalHeadingRule = this.headingEnhanceRenderer.heading.bind(\r\n      this.headingEnhanceRenderer,\r\n    );\r\n    this.headingEnhanceRenderer.heading = this.headingRule;\r\n  }\r\n\r\n  saveHeading(\r\n    name: string,\r\n    level: number,\r\n    container: MarkdownHeading[] = this.headings,\r\n    parentId?: string,\r\n  ): MarkdownHeading {\r\n    name = unescapeHTMLChars(name);\r\n    const item = {\r\n      id: parentId ? `${parentId}/${safeSlugify(name)}` : `section/${safeSlugify(name)}`,\r\n      name,\r\n      level,\r\n      items: [],\r\n    };\r\n    container.push(item);\r\n    return item;\r\n  }\r\n\r\n  flattenHeadings(container?: MarkdownHeading[]): MarkdownHeading[] {\r\n    if (container === undefined) {\r\n      return [];\r\n    }\r\n    const res: MarkdownHeading[] = [];\r\n    for (const heading of container) {\r\n      res.push(heading);\r\n      res.push(...this.flattenHeadings(heading.items));\r\n    }\r\n    return res;\r\n  }\r\n\r\n  attachHeadingsDescriptions(rawText: string) {\r\n    const buildRegexp = (heading: MarkdownHeading) => {\r\n      return new RegExp(`##?\\\\s+${heading.name.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')}`);\r\n    };\r\n\r\n    const flatHeadings = this.flattenHeadings(this.headings);\r\n    if (flatHeadings.length < 1) {\r\n      return;\r\n    }\r\n    let prevHeading = flatHeadings[0];\r\n    let prevRegexp = buildRegexp(prevHeading);\r\n    let prevPos = rawText.search(prevRegexp);\r\n    for (let i = 1; i < flatHeadings.length; i++) {\r\n      const heading = flatHeadings[i];\r\n      const regexp = buildRegexp(heading);\r\n      const currentPos = rawText.substr(prevPos + 1).search(regexp) + prevPos + 1;\r\n      prevHeading.description = rawText\r\n        .substring(prevPos, currentPos)\r\n        .replace(prevRegexp, '')\r\n        .trim();\r\n\r\n      prevHeading = heading;\r\n      prevRegexp = regexp;\r\n      prevPos = currentPos;\r\n    }\r\n    prevHeading.description = rawText.substring(prevPos).replace(prevRegexp, '').trim();\r\n  }\r\n\r\n  headingRule = (\r\n    text: string,\r\n    level: 1 | 2 | 3 | 4 | 5 | 6,\r\n    raw: string,\r\n    slugger: marked.Slugger,\r\n  ) => {\r\n    if (level === 1) {\r\n      this.currentTopHeading = this.saveHeading(text, level);\r\n    } else if (level === 2) {\r\n      this.saveHeading(\r\n        text,\r\n        level,\r\n        this.currentTopHeading && this.currentTopHeading.items,\r\n        this.currentTopHeading && this.currentTopHeading.id,\r\n      );\r\n    }\r\n    return this.originalHeadingRule(text, level, raw, slugger);\r\n  };\r\n\r\n  renderMd(rawText: string, extractHeadings: boolean = false): string {\r\n    const opts = extractHeadings ? { renderer: this.headingEnhanceRenderer } : undefined;\r\n\r\n    const res = marked(rawText.toString(), opts);\r\n\r\n    return res;\r\n  }\r\n\r\n  extractHeadings(rawText: string): MarkdownHeading[] {\r\n    this.renderMd(rawText, true);\r\n    this.attachHeadingsDescriptions(rawText);\r\n    const res = this.headings;\r\n    this.headings = [];\r\n    return res;\r\n  }\r\n\r\n  // regexp-based 👎: remark is slow and too big so for now using marked + regexps soup\r\n  renderMdWithComponents(rawText: string): Array<string | MDXComponentMeta> {\r\n    const components = this.options && this.options.allowedMdComponents;\r\n    if (!components || Object.keys(components).length === 0) {\r\n      return [this.renderMd(rawText)];\r\n    }\r\n\r\n    const names = Object.keys(components).join('|');\r\n    const componentsRegexp = new RegExp(COMPONENT_REGEXP.replace(/{component}/g, names), 'mig');\r\n\r\n    const htmlParts: string[] = [];\r\n    const componentDefs: MDXComponentMeta[] = [];\r\n\r\n    let match = componentsRegexp.exec(rawText);\r\n    let lasxtIdx = 0;\r\n    while (match) {\r\n      htmlParts.push(rawText.substring(lasxtIdx, match.index));\r\n      lasxtIdx = componentsRegexp.lastIndex;\r\n      const compName = match[1] || match[2] || match[5];\r\n      const componentMeta = components[compName];\r\n\r\n      const props = match[3] || match[6];\r\n      const children = match[4];\r\n\r\n      if (componentMeta) {\r\n        componentDefs.push({\r\n          component: componentMeta.component,\r\n          propsSelector: componentMeta.propsSelector,\r\n          props: { ...parseProps(props), ...componentMeta.props, children },\r\n        });\r\n      }\r\n      match = componentsRegexp.exec(rawText);\r\n    }\r\n    htmlParts.push(rawText.substring(lasxtIdx));\r\n\r\n    const res: any[] = [];\r\n    for (let i = 0; i < htmlParts.length; i++) {\r\n      const htmlPart = htmlParts[i];\r\n      if (htmlPart) {\r\n        res.push(this.renderMd(htmlPart));\r\n      }\r\n      if (componentDefs[i]) {\r\n        res.push(componentDefs[i]);\r\n      }\r\n    }\r\n    return res;\r\n  }\r\n}\r\n\r\nfunction parseProps(props: string): object {\r\n  if (!props) {\r\n    return {};\r\n  }\r\n\r\n  const regex = /([\\w-]+)\\s*=\\s*(?:{([^}]+?)}|\"([^\"]+?)\")/gim;\r\n  const parsed = {};\r\n  let match;\r\n  // tslint:disable-next-line\r\n  while ((match = regex.exec(props)) !== null) {\r\n    if (match[3]) {\r\n      // string prop match (in double quotes)\r\n      parsed[match[1]] = match[3];\r\n    } else if (match[2]) {\r\n      // jsx prop match (in curly braces)\r\n      let val;\r\n      try {\r\n        val = JSON.parse(match[2]);\r\n      } catch (e) {\r\n        /* noop */\r\n      }\r\n      parsed[match[1]] = val;\r\n    }\r\n  }\r\n\r\n  return parsed;\r\n}\r\n","import { OpenAPIContact, OpenAPIInfo, OpenAPILicense } from '../../types';\r\nimport { IS_BROWSER } from '../../utils/';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\n\r\nexport class ApiInfoModel implements OpenAPIInfo {\r\n  title: string;\r\n  version: string;\r\n\r\n  description: string;\r\n  summary: string;\r\n  termsOfService?: string;\r\n  contact?: OpenAPIContact;\r\n  license?: OpenAPILicense;\r\n\r\n  downloadLink?: string;\r\n  downloadFileName?: string;\r\n\r\n  constructor(private parser: OpenAPIParser) {\r\n    Object.assign(this, parser.spec.info);\r\n    this.description = parser.spec.info.description || '';\r\n    this.summary = parser.spec.info.summary || '';\r\n\r\n    const firstHeadingLinePos = this.description.search(/^##?\\s+/m);\r\n    if (firstHeadingLinePos > -1) {\r\n      this.description = this.description.substring(0, firstHeadingLinePos);\r\n    }\r\n\r\n    this.downloadLink = this.getDownloadLink();\r\n    this.downloadFileName = this.getDownloadFileName();\r\n  }\r\n\r\n  private getDownloadLink(): string | undefined {\r\n    if (this.parser.specUrl) {\r\n      return this.parser.specUrl;\r\n    }\r\n\r\n    if (IS_BROWSER && window.Blob && window.URL && window.URL.createObjectURL) {\r\n      const blob = new Blob([JSON.stringify(this.parser.spec, null, 2)], {\r\n        type: 'application/json',\r\n      });\r\n      return window.URL.createObjectURL(blob);\r\n    }\r\n  }\r\n\r\n  private getDownloadFileName(): string | undefined {\r\n    if (!this.parser.specUrl) {\r\n      return 'swagger.json';\r\n    }\r\n    return undefined;\r\n  }\r\n}\r\n","import { OpenAPISecurityRequirement, OpenAPISecurityScheme } from '../../types';\r\nimport { SECURITY_SCHEMES_SECTION_PREFIX } from '../../utils/openapi';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\n\r\nexport interface SecurityScheme extends OpenAPISecurityScheme {\r\n  id: string;\r\n  sectionId: string;\r\n  scopes: string[];\r\n}\r\n\r\nexport class SecurityRequirementModel {\r\n  schemes: SecurityScheme[];\r\n\r\n  constructor(requirement: OpenAPISecurityRequirement, parser: OpenAPIParser) {\r\n    const schemes = (parser.spec.components && parser.spec.components.securitySchemes) || {};\r\n\r\n    this.schemes = Object.keys(requirement || {})\r\n      .map(id => {\r\n        const scheme = parser.deref(schemes[id]);\r\n        const scopes = requirement[id] || [];\r\n\r\n        if (!scheme) {\r\n          console.warn(`Non existing security scheme referenced: ${id}. Skipping`);\r\n          return undefined;\r\n        }\r\n\r\n        return {\r\n          ...scheme,\r\n          id,\r\n          sectionId: SECURITY_SCHEMES_SECTION_PREFIX + id,\r\n          scopes,\r\n        };\r\n      })\r\n      .filter(scheme => scheme !== undefined) as SecurityScheme[];\r\n  }\r\n}\r\n","import { action, observable, makeObservable } from 'mobx';\r\n\r\nimport { OpenAPICallback, Referenced } from '../../types';\r\nimport { isOperationName, JsonPointer } from '../../utils';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { OperationModel } from './Operation';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\n\r\nexport class CallbackModel {\r\n  @observable\r\n  expanded: boolean = false;\r\n\r\n  name: string;\r\n  operations: OperationModel[] = [];\r\n\r\n  constructor(\r\n    parser: OpenAPIParser,\r\n    name: string,\r\n    infoOrRef: Referenced<OpenAPICallback>,\r\n    pointer: string,\r\n    options: RedocNormalizedOptions,\r\n  ) {\r\n    makeObservable(this);\r\n\r\n    this.name = name;\r\n    const paths = parser.deref<OpenAPICallback>(infoOrRef);\r\n    parser.exitRef(infoOrRef);\r\n\r\n    for (const pathName of Object.keys(paths)) {\r\n      const path = paths[pathName];\r\n      const operations = Object.keys(path).filter(isOperationName);\r\n      for (const operationName of operations) {\r\n        const operationInfo = path[operationName];\r\n\r\n        const operation = new OperationModel(\r\n          parser,\r\n          {\r\n            ...operationInfo,\r\n            pathName,\r\n            pointer: JsonPointer.compile([pointer, name, pathName, operationName]),\r\n            httpVerb: operationName,\r\n            pathParameters: path.parameters || [],\r\n            pathServers: path.servers,\r\n          },\r\n          undefined,\r\n          options,\r\n          true,\r\n        );\r\n\r\n        this.operations.push(operation);\r\n      }\r\n    }\r\n  }\r\n\r\n  @action\r\n  toggle() {\r\n    this.expanded = !this.expanded;\r\n  }\r\n}\r\n","import { action, observable, makeObservable } from 'mobx';\r\n\r\nimport { OpenAPIExternalDocumentation, OpenAPISchema, Referenced } from '../../types';\r\n\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\nimport { FieldModel } from './Field';\r\n\r\nimport { MergedOpenAPISchema } from '../';\r\nimport {\r\n  detectType,\r\n  extractExtensions,\r\n  humanizeConstraints,\r\n  isNamedDefinition,\r\n  isPrimitiveType,\r\n  JsonPointer,\r\n  pluralizeType,\r\n  sortByField,\r\n  sortByRequired,\r\n} from '../../utils/';\r\n\r\nimport { l } from '../Labels';\r\n\r\n// TODO: refactor this model, maybe use getters instead of copying all the values\r\nexport class SchemaModel {\r\n  pointer: string;\r\n\r\n  type: string | string[];\r\n  displayType: string;\r\n  typePrefix: string = '';\r\n  title: string;\r\n  description: string;\r\n  externalDocs?: OpenAPIExternalDocumentation;\r\n\r\n  isPrimitive: boolean;\r\n  isCircular: boolean = false;\r\n\r\n  format?: string;\r\n  displayFormat?: string;\r\n  nullable: boolean;\r\n  deprecated: boolean;\r\n  pattern?: string;\r\n  example?: any;\r\n  enum: any[];\r\n  default?: any;\r\n  readOnly: boolean;\r\n  writeOnly: boolean;\r\n\r\n  constraints: string[];\r\n\r\n  fields?: FieldModel[];\r\n  items?: SchemaModel;\r\n\r\n  oneOf?: SchemaModel[];\r\n  oneOfType: string;\r\n  discriminatorProp: string;\r\n  @observable\r\n  activeOneOf: number = 0;\r\n\r\n  rawSchema: OpenAPISchema;\r\n  schema: MergedOpenAPISchema;\r\n  extensions?: Record<string, any>;\r\n  const: any;\r\n  contentEncoding?: string;\r\n  contentMediaType?: string;\r\n  minItems?: number;\r\n  maxItems?: number;\r\n\r\n  /**\r\n   * @param isChild if schema discriminator Child\r\n   * When true forces dereferencing in allOfs even if circular\r\n   */\r\n  constructor(\r\n    parser: OpenAPIParser,\r\n    schemaOrRef: Referenced<OpenAPISchema>,\r\n    pointer: string,\r\n    private options: RedocNormalizedOptions,\r\n    isChild: boolean = false,\r\n  ) {\r\n    makeObservable(this);\r\n\r\n    this.pointer = schemaOrRef.$ref || pointer || '';\r\n    this.rawSchema = parser.deref(schemaOrRef, false, true);\r\n    this.schema = parser.mergeAllOf(this.rawSchema, this.pointer, isChild);\r\n\r\n    this.init(parser, isChild);\r\n\r\n    parser.exitRef(schemaOrRef);\r\n    parser.exitParents(this.schema);\r\n\r\n    if (options.showExtensions) {\r\n      this.extensions = extractExtensions(this.schema, options.showExtensions);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set specified alternative schema as active\r\n   * @param idx oneOf index\r\n   */\r\n  @action\r\n  activateOneOf(idx: number) {\r\n    this.activeOneOf = idx;\r\n  }\r\n\r\n  hasType(type: string) {\r\n    return this.type === type || (Array.isArray(this.type) && this.type.includes(type));\r\n  }\r\n\r\n  init(parser: OpenAPIParser, isChild: boolean) {\r\n    const schema = this.schema;\r\n    this.isCircular = schema['x-circular-ref'];\r\n\r\n    this.title =\r\n      schema.title || (isNamedDefinition(this.pointer) && JsonPointer.baseName(this.pointer)) || '';\r\n    this.description = schema.description || '';\r\n    this.type = schema.type || detectType(schema);\r\n    this.format = schema.format;\r\n    this.enum = schema.enum || [];\r\n    this.example = schema.example;\r\n    this.deprecated = !!schema.deprecated;\r\n    this.pattern = schema.pattern;\r\n    this.externalDocs = schema.externalDocs;\r\n\r\n    this.constraints = humanizeConstraints(schema);\r\n    this.displayFormat = this.format;\r\n    this.isPrimitive = isPrimitiveType(schema, this.type);\r\n    this.default = schema.default;\r\n    this.readOnly = !!schema.readOnly;\r\n    this.writeOnly = !!schema.writeOnly;\r\n    this.const = schema.const || '';\r\n    this.contentEncoding = schema.contentEncoding;\r\n    this.contentMediaType = schema.contentMediaType;\r\n    this.minItems = schema.minItems;\r\n    this.maxItems = schema.maxItems;\r\n\r\n    if (!!schema.nullable || schema['x-nullable']) {\r\n      if (\r\n        Array.isArray(this.type) &&\r\n        !this.type.some(value => value === null || value === 'null')\r\n      ) {\r\n        this.type = [...this.type, 'null'];\r\n      } else if (!Array.isArray(this.type) && (this.type !== null || this.type !== 'null')) {\r\n        this.type = [this.type, 'null'];\r\n      }\r\n    }\r\n\r\n    this.displayType = Array.isArray(this.type)\r\n      ? this.type.map(item => (item === null ? 'null' : item)).join(' or ')\r\n      : this.type;\r\n\r\n    if (this.isCircular) {\r\n      return;\r\n    }\r\n\r\n    if (!isChild && getDiscriminator(schema) !== undefined) {\r\n      this.initDiscriminator(schema, parser);\r\n      return;\r\n    } else if (\r\n      isChild &&\r\n      Array.isArray(schema.oneOf) &&\r\n      schema.oneOf.find(s => s.$ref === this.pointer)\r\n    ) {\r\n      // we hit allOf of the schema with the parent discriminator\r\n      delete schema.oneOf;\r\n    }\r\n\r\n    if (schema.oneOf !== undefined) {\r\n      this.initOneOf(schema.oneOf, parser);\r\n      this.oneOfType = 'One of';\r\n      if (schema.anyOf !== undefined) {\r\n        console.warn(\r\n          `oneOf and anyOf are not supported on the same level. Skipping anyOf at ${this.pointer}`,\r\n        );\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (schema.anyOf !== undefined) {\r\n      this.initOneOf(schema.anyOf, parser);\r\n      this.oneOfType = 'Any of';\r\n      return;\r\n    }\r\n\r\n    if (this.hasType('object')) {\r\n      this.fields = buildFields(parser, schema, this.pointer, this.options);\r\n    } else if (this.hasType('array') && schema.items) {\r\n      this.items = new SchemaModel(parser, schema.items, this.pointer + '/items', this.options);\r\n      this.displayType = pluralizeType(this.items.displayType);\r\n      this.displayFormat = this.items.format;\r\n      this.typePrefix = this.items.typePrefix + l('arrayOf');\r\n      this.title = this.title || this.items.title;\r\n      this.isPrimitive = this.items.isPrimitive;\r\n      if (this.example === undefined && this.items.example !== undefined) {\r\n        this.example = [this.items.example];\r\n      }\r\n      if (this.items.isPrimitive) {\r\n        this.enum = this.items.enum;\r\n      }\r\n      if (Array.isArray(this.type)) {\r\n        const filteredType = this.type.filter(item => item !== 'array');\r\n        if (filteredType.length) this.displayType += ` or ${filteredType.join(' or ')}`;\r\n      }\r\n    }\r\n\r\n    if (this.enum.length && this.options.sortEnumValuesAlphabetically) {\r\n      this.enum.sort();\r\n    }\r\n  }\r\n\r\n  private initOneOf(oneOf: OpenAPISchema[], parser: OpenAPIParser) {\r\n    this.oneOf = oneOf!.map((variant, idx) => {\r\n      const derefVariant = parser.deref(variant, false, true);\r\n\r\n      const merged = parser.mergeAllOf(derefVariant, this.pointer + '/oneOf/' + idx);\r\n\r\n      // try to infer title\r\n      const title =\r\n        isNamedDefinition(variant.$ref) && !merged.title\r\n          ? JsonPointer.baseName(variant.$ref)\r\n          : `${merged.title || ''}${(merged.const && JSON.stringify(merged.const)) || ''}`;\r\n\r\n      const schema = new SchemaModel(\r\n        parser,\r\n        // merge base schema into each of oneOf's subschemas\r\n        {\r\n          // variant may already have allOf so merge it to not get overwritten\r\n          ...merged,\r\n          title,\r\n          allOf: [{ ...this.schema, oneOf: undefined, anyOf: undefined }],\r\n        } as OpenAPISchema,\r\n        this.pointer + '/oneOf/' + idx,\r\n        this.options,\r\n      );\r\n\r\n      parser.exitRef(variant);\r\n      // each oneOf should be independent so exiting all the parent refs\r\n      // otherwise it will cause false-positive recursive detection\r\n      parser.exitParents(merged);\r\n\r\n      return schema;\r\n    });\r\n\r\n    if (this.options.simpleOneOfTypeLabel) {\r\n      const types = collectUniqueOneOfTypesDeep(this);\r\n      this.displayType = types.join(' or ');\r\n    } else {\r\n      this.displayType = this.oneOf\r\n        .map(schema => {\r\n          let name =\r\n            schema.typePrefix +\r\n            (schema.title ? `${schema.title} (${schema.displayType})` : schema.displayType);\r\n          if (name.indexOf(' or ') > -1) {\r\n            name = `(${name})`;\r\n          }\r\n          return name;\r\n        })\r\n        .join(' or ');\r\n    }\r\n  }\r\n\r\n  private initDiscriminator(\r\n    schema: OpenAPISchema & {\r\n      parentRefs?: string[];\r\n    },\r\n    parser: OpenAPIParser,\r\n  ) {\r\n    const discriminator = getDiscriminator(schema)!;\r\n    this.discriminatorProp = discriminator.propertyName;\r\n    const implicitInversedMapping = parser.findDerived([\r\n      ...(schema.parentRefs || []),\r\n      this.pointer,\r\n    ]);\r\n\r\n    if (schema.oneOf) {\r\n      for (const variant of schema.oneOf) {\r\n        if (variant.$ref === undefined) {\r\n          continue;\r\n        }\r\n        const name = JsonPointer.baseName(variant.$ref);\r\n        implicitInversedMapping[variant.$ref] = name;\r\n      }\r\n    }\r\n\r\n    const mapping = discriminator.mapping || {};\r\n\r\n    // Defines if the mapping is exhaustive. This avoids having references\r\n    // that overlap with the mapping entries\r\n    let isLimitedToMapping = discriminator['x-explicitMappingOnly'] || false;\r\n    // if there are no mappings, assume non-exhaustive\r\n    if (Object.keys(mapping).length === 0) {\r\n      isLimitedToMapping = false;\r\n    }\r\n\r\n    const explicitInversedMapping = {};\r\n    for (const name in mapping) {\r\n      const $ref = mapping[name];\r\n\r\n      if (Array.isArray(explicitInversedMapping[$ref])) {\r\n        explicitInversedMapping[$ref].push(name);\r\n      } else {\r\n        // overrides implicit mapping here\r\n        explicitInversedMapping[$ref] = [name];\r\n      }\r\n    }\r\n\r\n    const inversedMapping = isLimitedToMapping\r\n      ? { ...explicitInversedMapping }\r\n      : { ...implicitInversedMapping, ...explicitInversedMapping };\r\n\r\n    let refs: Array<{ $ref; name }> = [];\r\n\r\n    for (const $ref of Object.keys(inversedMapping)) {\r\n      const names = inversedMapping[$ref];\r\n      if (Array.isArray(names)) {\r\n        for (const name of names) {\r\n          refs.push({ $ref, name });\r\n        }\r\n      } else {\r\n        refs.push({ $ref, name: names });\r\n      }\r\n    }\r\n\r\n    // Make the listing respects the mapping\r\n    // in case a mapping is defined, the user usually wants to have the order shown\r\n    // as it was defined in the yaml. This will sort the names given the provided\r\n    // mapping (if provided).\r\n    // The logic is:\r\n    // - If a name is among the mapping, promote it to first\r\n    // - Names among the mapping are sorted by their order in the mapping\r\n    // - Names outside the mapping are sorted alphabetically\r\n    const names = Object.keys(mapping);\r\n    if (names.length !== 0) {\r\n      refs = refs.sort((left, right) => {\r\n        const indexLeft = names.indexOf(left.name);\r\n        const indexRight = names.indexOf(right.name);\r\n\r\n        if (indexLeft < 0 && indexRight < 0) {\r\n          // out of mapping, order by name\r\n          return left.name.localeCompare(right.name);\r\n        } else if (indexLeft < 0) {\r\n          // the right is found, so mapping wins\r\n          return 1;\r\n        } else if (indexRight < 0) {\r\n          // left wins as it's in mapping\r\n          return -1;\r\n        } else {\r\n          return indexLeft - indexRight;\r\n        }\r\n      });\r\n    }\r\n\r\n    this.oneOf = refs.map(({ $ref, name }) => {\r\n      const innerSchema = new SchemaModel(parser, parser.byRef($ref)!, $ref, this.options, true);\r\n      innerSchema.title = name;\r\n      return innerSchema;\r\n    });\r\n  }\r\n}\r\n\r\nfunction buildFields(\r\n  parser: OpenAPIParser,\r\n  schema: OpenAPISchema,\r\n  $ref: string,\r\n  options: RedocNormalizedOptions,\r\n): FieldModel[] {\r\n  const props = schema.properties || {};\r\n  const additionalProps = schema.additionalProperties;\r\n  const defaults = schema.default;\r\n  let fields = Object.keys(props || []).map(fieldName => {\r\n    let field = props[fieldName];\r\n\r\n    if (!field) {\r\n      console.warn(\r\n        `Field \"${fieldName}\" is invalid, skipping.\\n Field must be an object but got ${typeof field} at \"${$ref}\"`,\r\n      );\r\n      field = {};\r\n    }\r\n\r\n    const required =\r\n      schema.required === undefined ? false : schema.required.indexOf(fieldName) > -1;\r\n\r\n    return new FieldModel(\r\n      parser,\r\n      {\r\n        name: fieldName,\r\n        required,\r\n        schema: {\r\n          ...field,\r\n          default: field.default === undefined && defaults ? defaults[fieldName] : field.default,\r\n        },\r\n      },\r\n      $ref + '/properties/' + fieldName,\r\n      options,\r\n    );\r\n  });\r\n\r\n  if (options.sortPropsAlphabetically) {\r\n    fields = sortByField(fields, 'name');\r\n  }\r\n  if (options.requiredPropsFirst) {\r\n    // if not sort alphabetically sort in the order from required keyword\r\n    fields = sortByRequired(fields, !options.sortPropsAlphabetically ? schema.required : undefined);\r\n  }\r\n\r\n  if (typeof additionalProps === 'object' || additionalProps === true) {\r\n    fields.push(\r\n      new FieldModel(\r\n        parser,\r\n        {\r\n          name: (typeof additionalProps === 'object'\r\n            ? additionalProps['x-additionalPropertiesName'] || 'property name'\r\n            : 'property name'\r\n          ).concat('*'),\r\n          required: false,\r\n          schema: additionalProps === true ? {} : additionalProps,\r\n          kind: 'additionalProperties',\r\n        },\r\n        $ref + '/additionalProperties',\r\n        options,\r\n      ),\r\n    );\r\n  }\r\n\r\n  return fields;\r\n}\r\n\r\nfunction getDiscriminator(schema: OpenAPISchema): OpenAPISchema['discriminator'] {\r\n  return schema.discriminator || schema['x-discriminator'];\r\n}\r\n\r\nfunction collectUniqueOneOfTypesDeep(schema: SchemaModel) {\r\n  const uniqueTypes = new Set();\r\n\r\n  function crawl(schema: SchemaModel) {\r\n    for (const oneOfType of schema.oneOf || []) {\r\n      if (oneOfType.oneOf) {\r\n        crawl(oneOfType);\r\n        continue;\r\n      }\r\n\r\n      if (oneOfType.type) {\r\n        uniqueTypes.add(oneOfType.type);\r\n      }\r\n    }\r\n  }\r\n\r\n  crawl(schema);\r\n  return Array.from(uniqueTypes.values());\r\n}\r\n","import { resolve as urlResolve } from 'url';\r\n\r\nimport { OpenAPIEncoding, OpenAPIExample, Referenced } from '../../types';\r\nimport { isFormUrlEncoded, isJsonLike, urlFormEncodePayload } from '../../utils/openapi';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\n\r\nconst externalExamplesCache: { [url: string]: Promise<any> } = {};\r\n\r\nexport class ExampleModel {\r\n  value: any;\r\n  summary?: string;\r\n  description?: string;\r\n  externalValueUrl?: string;\r\n\r\n  constructor(\r\n    parser: OpenAPIParser,\r\n    infoOrRef: Referenced<OpenAPIExample>,\r\n    public mime: string,\r\n    encoding?: { [field: string]: OpenAPIEncoding },\r\n  ) {\r\n    const example = parser.deref(infoOrRef);\r\n    this.value = example.value;\r\n    this.summary = example.summary;\r\n    this.description = example.description;\r\n    if (example.externalValue) {\r\n      this.externalValueUrl = urlResolve(parser.specUrl || '', example.externalValue);\r\n    }\r\n    parser.exitRef(infoOrRef);\r\n\r\n    if (isFormUrlEncoded(mime) && this.value && typeof this.value === 'object') {\r\n      this.value = urlFormEncodePayload(this.value, encoding);\r\n    }\r\n  }\r\n\r\n  getExternalValue(mimeType: string): Promise<any> {\r\n    if (!this.externalValueUrl) {\r\n      return Promise.resolve(undefined);\r\n    }\r\n\r\n    if (externalExamplesCache[this.externalValueUrl]) {\r\n      return externalExamplesCache[this.externalValueUrl];\r\n    }\r\n\r\n    externalExamplesCache[this.externalValueUrl] = fetch(this.externalValueUrl).then(res => {\r\n      return res.text().then(txt => {\r\n        if (!res.ok) {\r\n          return Promise.reject(new Error(txt));\r\n        }\r\n\r\n        if (isJsonLike(mimeType)) {\r\n          try {\r\n            return JSON.parse(txt);\r\n          } catch (e) {\r\n            return txt;\r\n          }\r\n        } else {\r\n          return txt;\r\n        }\r\n      });\r\n    });\r\n\r\n    return externalExamplesCache[this.externalValueUrl];\r\n  }\r\n}\r\n","import { action, observable, makeObservable } from 'mobx';\r\n\r\nimport {\r\n  OpenAPIParameter,\r\n  OpenAPIParameterLocation,\r\n  OpenAPIParameterStyle,\r\n  Referenced,\r\n} from '../../types';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\n\r\nimport { extractExtensions } from '../../utils/openapi';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { SchemaModel } from './Schema';\r\nimport { ExampleModel } from './Example';\r\nimport { mapValues } from '../../utils/helpers';\r\n\r\nconst DEFAULT_SERIALIZATION: Record<\r\n  OpenAPIParameterLocation,\r\n  { explode: boolean; style: OpenAPIParameterStyle }\r\n> = {\r\n  path: {\r\n    style: 'simple',\r\n    explode: false,\r\n  },\r\n  query: {\r\n    style: 'form',\r\n    explode: true,\r\n  },\r\n  header: {\r\n    style: 'simple',\r\n    explode: false,\r\n  },\r\n  cookie: {\r\n    style: 'form',\r\n    explode: true,\r\n  },\r\n};\r\n\r\n/**\r\n * Field or Parameter model ready to be used by components\r\n */\r\nexport class FieldModel {\r\n  @observable\r\n  expanded: boolean | undefined = false;\r\n\r\n  schema: SchemaModel;\r\n  name: string;\r\n  required: boolean;\r\n  description: string;\r\n  example?: string;\r\n  examples?: Record<string, ExampleModel>;\r\n  deprecated: boolean;\r\n  in?: OpenAPIParameterLocation;\r\n  kind: string;\r\n  extensions?: Record<string, any>;\r\n  explode: boolean;\r\n  style?: OpenAPIParameterStyle;\r\n  const?: any;\r\n\r\n  serializationMime?: string;\r\n\r\n  constructor(\r\n    parser: OpenAPIParser,\r\n    infoOrRef: Referenced<OpenAPIParameter> & { name?: string; kind?: string },\r\n    pointer: string,\r\n    options: RedocNormalizedOptions,\r\n  ) {\r\n    makeObservable(this);\r\n\r\n    const info = parser.deref<OpenAPIParameter>(infoOrRef);\r\n    this.kind = infoOrRef.kind || 'field';\r\n    this.name = infoOrRef.name || info.name;\r\n    this.in = info.in;\r\n    this.required = !!info.required;\r\n\r\n    let fieldSchema = info.schema;\r\n    let serializationMime = '';\r\n    if (!fieldSchema && info.in && info.content) {\r\n      serializationMime = Object.keys(info.content)[0];\r\n      fieldSchema = info.content[serializationMime] && info.content[serializationMime].schema;\r\n    }\r\n\r\n    this.schema = new SchemaModel(parser, fieldSchema || {}, pointer, options);\r\n    this.description =\r\n      info.description === undefined ? this.schema.description || '' : info.description;\r\n    this.example = info.example || this.schema.example;\r\n\r\n    if (info.examples !== undefined) {\r\n      this.examples = mapValues(\r\n        info.examples,\r\n        (example, name) => new ExampleModel(parser, example, name, info.encoding),\r\n      );\r\n    }\r\n\r\n    if (serializationMime) {\r\n      this.serializationMime = serializationMime;\r\n    } else if (info.style) {\r\n      this.style = info.style;\r\n    } else if (this.in) {\r\n      this.style = DEFAULT_SERIALIZATION[this.in]?.style ?? 'form'; // fallback to from in case \"in\" is invalid\r\n    }\r\n\r\n    if (info.explode === undefined && this.in) {\r\n      this.explode = DEFAULT_SERIALIZATION[this.in]?.explode ?? true;\r\n    } else {\r\n      this.explode = !!info.explode;\r\n    }\r\n\r\n    this.deprecated = info.deprecated === undefined ? !!this.schema.deprecated : info.deprecated;\r\n    parser.exitRef(infoOrRef);\r\n\r\n    if (options.showExtensions) {\r\n      this.extensions = extractExtensions(info, options.showExtensions);\r\n    }\r\n\r\n    this.const = this.schema?.const || info?.const || '';\r\n  }\r\n\r\n  @action\r\n  toggle() {\r\n    this.expanded = !this.expanded;\r\n  }\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"openapi-sampler\");;","import * as Sampler from 'openapi-sampler';\r\n\r\nimport { OpenAPIMediaType } from '../../types';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\nimport { SchemaModel } from './Schema';\r\n\r\nimport { isJsonLike, mapValues } from '../../utils';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { ExampleModel } from './Example';\r\n\r\nexport class MediaTypeModel {\r\n  examples?: { [name: string]: ExampleModel };\r\n  schema?: SchemaModel;\r\n  name: string;\r\n  isRequestType: boolean;\r\n  onlyRequiredInSamples: boolean;\r\n  generatedPayloadSamplesMaxDepth: number;\r\n\r\n  /**\r\n   * @param isRequestType needed to know if skipe RO/RW fields in objects\r\n   */\r\n  constructor(\r\n    parser: OpenAPIParser,\r\n    name: string,\r\n    isRequestType: boolean,\r\n    info: OpenAPIMediaType,\r\n    options: RedocNormalizedOptions,\r\n  ) {\r\n    this.name = name;\r\n    this.isRequestType = isRequestType;\r\n    this.schema = info.schema && new SchemaModel(parser, info.schema, '', options);\r\n    this.onlyRequiredInSamples = options.onlyRequiredInSamples;\r\n    this.generatedPayloadSamplesMaxDepth = options.generatedPayloadSamplesMaxDepth;\r\n    if (info.examples !== undefined) {\r\n      this.examples = mapValues(\r\n        info.examples,\r\n        example => new ExampleModel(parser, example, name, info.encoding),\r\n      );\r\n    } else if (info.example !== undefined) {\r\n      this.examples = {\r\n        default: new ExampleModel(\r\n          parser,\r\n          { value: parser.shallowDeref(info.example) },\r\n          name,\r\n          info.encoding,\r\n        ),\r\n      };\r\n    } else if (isJsonLike(name)) {\r\n      this.generateExample(parser, info);\r\n    }\r\n  }\r\n\r\n  generateExample(parser: OpenAPIParser, info: OpenAPIMediaType) {\r\n    const samplerOptions = {\r\n      skipReadOnly: this.isRequestType,\r\n      skipWriteOnly: !this.isRequestType,\r\n      skipNonRequired: this.isRequestType && this.onlyRequiredInSamples,\r\n      maxSampleDepth: this.generatedPayloadSamplesMaxDepth,\r\n    };\r\n    if (this.schema && this.schema.oneOf) {\r\n      this.examples = {};\r\n      for (const subSchema of this.schema.oneOf) {\r\n        const sample = Sampler.sample(subSchema.rawSchema as any, samplerOptions, parser.spec);\r\n\r\n        if (this.schema.discriminatorProp && typeof sample === 'object' && sample) {\r\n          sample[this.schema.discriminatorProp] = subSchema.title;\r\n        }\r\n\r\n        this.examples[subSchema.title] = new ExampleModel(\r\n          parser,\r\n          {\r\n            value: sample,\r\n          },\r\n          this.name,\r\n          info.encoding,\r\n        );\r\n      }\r\n    } else if (this.schema) {\r\n      this.examples = {\r\n        default: new ExampleModel(\r\n          parser,\r\n          {\r\n            value: Sampler.sample(info.schema as any, samplerOptions, parser.spec),\r\n          },\r\n          this.name,\r\n          info.encoding,\r\n        ),\r\n      };\r\n    }\r\n  }\r\n}\r\n","import { action, computed, observable, makeObservable } from 'mobx';\r\n\r\nimport { OpenAPIMediaType } from '../../types';\r\nimport { MediaTypeModel } from './MediaType';\r\n\r\nimport { mergeSimilarMediaTypes } from '../../utils';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\n\r\n/**\r\n * MediaContent model ready to be sued by React components\r\n * Contains multiple MediaTypes and keeps track of the currently active one\r\n */\r\nexport class MediaContentModel {\r\n  mediaTypes: MediaTypeModel[];\r\n\r\n  @observable\r\n  activeMimeIdx = 0;\r\n\r\n  /**\r\n   * @param isRequestType needed to know if skipe RO/RW fields in objects\r\n   */\r\n  constructor(\r\n    parser: OpenAPIParser,\r\n    info: Record<string, OpenAPIMediaType>,\r\n    public isRequestType: boolean,\r\n    options: RedocNormalizedOptions,\r\n  ) {\r\n    makeObservable(this);\r\n\r\n    if (options.unstable_ignoreMimeParameters) {\r\n      info = mergeSimilarMediaTypes(info);\r\n    }\r\n    this.mediaTypes = Object.keys(info).map(name => {\r\n      const mime = info[name];\r\n      // reset deref cache just in case something is left there\r\n      parser.resetVisited();\r\n      return new MediaTypeModel(parser, name, isRequestType, mime, options);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Set active media type by index\r\n   * @param idx media type index\r\n   */\r\n  @action\r\n  activate(idx: number) {\r\n    this.activeMimeIdx = idx;\r\n  }\r\n\r\n  @computed\r\n  get active() {\r\n    return this.mediaTypes[this.activeMimeIdx];\r\n  }\r\n\r\n  get hasSample(): boolean {\r\n    return this.mediaTypes.filter(mime => !!mime.examples).length > 0;\r\n  }\r\n}\r\n","import { OpenAPIRequestBody, Referenced } from '../../types';\r\n\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\nimport { MediaContentModel } from './MediaContent';\r\n\r\ntype RequestBodyProps = {\r\n  parser: OpenAPIParser;\r\n  infoOrRef: Referenced<OpenAPIRequestBody>;\r\n  options: RedocNormalizedOptions;\r\n  isEvent: boolean;\r\n};\r\n\r\nexport class RequestBodyModel {\r\n  description: string;\r\n  required: boolean;\r\n  content?: MediaContentModel;\r\n\r\n  constructor(props: RequestBodyProps) {\r\n    const { parser, infoOrRef, options, isEvent } = props;\r\n    const isRequest = isEvent ? false : true;\r\n    const info = parser.deref(infoOrRef);\r\n    this.description = info.description || '';\r\n    this.required = !!info.required;\r\n    parser.exitRef(infoOrRef);\r\n    if (info.content !== undefined) {\r\n      this.content = new MediaContentModel(parser, info.content, isRequest, options);\r\n    }\r\n  }\r\n}\r\n","import { action, observable, makeObservable } from 'mobx';\r\n\r\nimport { OpenAPIResponse, Referenced } from '../../types';\r\n\r\nimport { getStatusCodeType } from '../../utils';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\nimport { FieldModel } from './Field';\r\nimport { MediaContentModel } from './MediaContent';\r\n\r\ntype ResponseProps = {\r\n  parser: OpenAPIParser;\r\n  code: string;\r\n  defaultAsError: boolean;\r\n  infoOrRef: Referenced<OpenAPIResponse>;\r\n  options: RedocNormalizedOptions;\r\n  isEvent: boolean;\r\n};\r\n\r\nexport class ResponseModel {\r\n  @observable\r\n  expanded: boolean = false;\r\n\r\n  content?: MediaContentModel;\r\n  code: string;\r\n  summary: string;\r\n  description: string;\r\n  type: string;\r\n  headers: FieldModel[] = [];\r\n\r\n  constructor(props: ResponseProps) {\r\n    const { parser, code, defaultAsError, infoOrRef, options, isEvent } = props;\r\n    const isRequest = isEvent ? true : false;\r\n    makeObservable(this);\r\n\r\n    this.expanded = options.expandResponses === 'all' || options.expandResponses[code];\r\n\r\n    const info = parser.deref(infoOrRef);\r\n    parser.exitRef(infoOrRef);\r\n    this.code = code;\r\n    if (info.content !== undefined) {\r\n      this.content = new MediaContentModel(parser, info.content, isRequest, options);\r\n    }\r\n\r\n    if (info['x-summary'] !== undefined) {\r\n      this.summary = info['x-summary'];\r\n      this.description = info.description || '';\r\n    } else {\r\n      this.summary = info.description || '';\r\n      this.description = '';\r\n    }\r\n\r\n    this.type = getStatusCodeType(code, defaultAsError);\r\n\r\n    const headers = info.headers;\r\n    if (headers !== undefined) {\r\n      this.headers = Object.keys(headers).map(name => {\r\n        const header = headers[name];\r\n        return new FieldModel(parser, { ...header, name }, '', options);\r\n      });\r\n    }\r\n  }\r\n\r\n  @action\r\n  toggle() {\r\n    this.expanded = !this.expanded;\r\n  }\r\n}\r\n","import { action, observable, makeObservable } from 'mobx';\r\n\r\nimport { IMenuItem } from '../MenuStore';\r\nimport { GroupModel } from './Group.model';\r\nimport { SecurityRequirementModel } from './SecurityRequirement';\r\n\r\nimport { OpenAPIExternalDocumentation, OpenAPIServer, OpenAPIXCodeSample } from '../../types';\r\n\r\nimport {\r\n  extractExtensions,\r\n  getOperationSummary,\r\n  getStatusCodeType,\r\n  isStatusCode,\r\n  memoize,\r\n  mergeParams,\r\n  normalizeServers,\r\n  sortByField,\r\n  sortByRequired,\r\n} from '../../utils';\r\nimport { ContentItemModel, ExtendedOpenAPIOperation } from '../MenuBuilder';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\nimport { CallbackModel } from './Callback';\r\nimport { FieldModel } from './Field';\r\nimport { MediaContentModel } from './MediaContent';\r\nimport { RequestBodyModel } from './RequestBody';\r\nimport { ResponseModel } from './Response';\r\n\r\nexport interface XPayloadSample {\r\n  lang: 'payload';\r\n  label: string;\r\n  requestBodyContent: MediaContentModel;\r\n  source: string;\r\n}\r\n\r\nexport function isPayloadSample(\r\n  sample: XPayloadSample | OpenAPIXCodeSample,\r\n): sample is XPayloadSample {\r\n  return sample.lang === 'payload' && (sample as any).requestBodyContent;\r\n}\r\n\r\nexport const getPlayloadSample = (samples) => {\r\n  if (samples && samples.length > 0) {\r\n    return samples.filter((sample) => sample.lang === 'payload')[0]\r\n  }\r\n}\r\n\r\nlet isCodeSamplesWarningPrinted = false;\r\n\r\n/**\r\n * Operation model ready to be used by components\r\n */\r\nexport class OperationModel implements IMenuItem {\r\n  //#region IMenuItem fields\r\n  id: string;\r\n  absoluteIdx?: number;\r\n  name: string;\r\n  description?: string;\r\n  type = 'operation' as const;\r\n\r\n  parent?: GroupModel;\r\n  externalDocs?: OpenAPIExternalDocumentation;\r\n  items: ContentItemModel[] = [];\r\n\r\n  depth: number;\r\n\r\n  @observable\r\n  ready?: boolean = true;\r\n  @observable\r\n  active: boolean = false;\r\n  @observable\r\n  expanded: boolean = false;\r\n  //#endregion\r\n\r\n  pointer: string;\r\n  operationId?: string;\r\n  httpVerb: string;\r\n  deprecated: boolean;\r\n  path: string;\r\n  servers: OpenAPIServer[];\r\n  security: SecurityRequirementModel[];\r\n  extensions: Record<string, any>;\r\n  isCallback: boolean;\r\n  isWebhook: boolean;\r\n  isEvent: boolean;\r\n\r\n  constructor(\r\n    private parser: OpenAPIParser,\r\n    private operationSpec: ExtendedOpenAPIOperation,\r\n    parent: GroupModel | undefined,\r\n    private options: RedocNormalizedOptions,\r\n    isCallback: boolean = false,\r\n  ) {\r\n    makeObservable(this);\r\n\r\n    this.pointer = operationSpec.pointer;\r\n\r\n    this.description = operationSpec.description;\r\n    this.parent = parent;\r\n    this.externalDocs = operationSpec.externalDocs;\r\n\r\n    this.deprecated = !!operationSpec.deprecated;\r\n    this.httpVerb = operationSpec.httpVerb;\r\n    this.deprecated = !!operationSpec.deprecated;\r\n    this.operationId = operationSpec.operationId;\r\n    this.path = operationSpec.pathName;\r\n    this.isCallback = isCallback;\r\n    this.isWebhook = operationSpec.isWebhook;\r\n    this.isEvent = this.isCallback || this.isWebhook;\r\n\r\n    this.name = getOperationSummary(operationSpec);\r\n\r\n    if (this.isCallback) {\r\n      // NOTE: Callbacks by default should not inherit the specification's global `security` definition.\r\n      // Can be defined individually per-callback in the specification. Defaults to none.\r\n      this.security = (operationSpec.security || []).map(\r\n        security => new SecurityRequirementModel(security, parser),\r\n      );\r\n\r\n      // TODO: update getting pathInfo for overriding servers on path level\r\n      this.servers = normalizeServers('', operationSpec.servers || operationSpec.pathServers || []);\r\n    } else {\r\n      this.id =\r\n        operationSpec.operationId !== undefined\r\n          ? 'operation/' + operationSpec.operationId\r\n          : parent !== undefined\r\n            ? parent.id + this.pointer\r\n            : this.pointer;\r\n\r\n      this.security = (operationSpec.security || parser.spec.security || []).map(\r\n        security => new SecurityRequirementModel(security, parser),\r\n      );\r\n\r\n      this.servers = normalizeServers(\r\n        parser.specUrl,\r\n        operationSpec.servers || operationSpec.pathServers || parser.spec.servers || [],\r\n      );\r\n    }\r\n\r\n    if (options.showExtensions) {\r\n      this.extensions = extractExtensions(operationSpec, options.showExtensions);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * set operation as active (used by side menu)\r\n   */\r\n  @action\r\n  activate() {\r\n    this.active = true;\r\n  }\r\n\r\n  /**\r\n   * set operation as inactive (used by side menu)\r\n   */\r\n  @action\r\n  deactivate() {\r\n    this.active = false;\r\n  }\r\n\r\n  /**\r\n   * Toggle expansion in middle panel (for callbacks, which are operations)\r\n   */\r\n  @action\r\n  toggle() {\r\n    this.expanded = !this.expanded;\r\n  }\r\n\r\n  expand() {\r\n    if (this.parent) {\r\n      this.parent.expand();\r\n    }\r\n  }\r\n\r\n  collapse() {\r\n    /* do nothing */\r\n  }\r\n\r\n  @memoize\r\n  get requestBody() {\r\n    return (\r\n      this.operationSpec.requestBody &&\r\n      new RequestBodyModel({\r\n        parser: this.parser,\r\n        infoOrRef: this.operationSpec.requestBody,\r\n        options: this.options,\r\n        isEvent: this.isEvent,\r\n      })\r\n    );\r\n  }\r\n\r\n  @memoize\r\n  get codeSamples() {\r\n    let samples: Array<OpenAPIXCodeSample | XPayloadSample> =\r\n      this.operationSpec['x-codeSamples'] || this.operationSpec['x-code-samples'] || [];\r\n\r\n    if (this.operationSpec['x-code-samples'] && !isCodeSamplesWarningPrinted) {\r\n      isCodeSamplesWarningPrinted = true;\r\n      console.warn('\"x-code-samples\" is deprecated. Use \"x-codeSamples\" instead');\r\n    }\r\n\r\n    const requestBodyContent = this.requestBody && this.requestBody.content;\r\n    if (requestBodyContent && requestBodyContent.hasSample) {\r\n      const insertInx = Math.min(samples.length, this.options.payloadSampleIdx);\r\n\r\n      samples = [\r\n        ...samples.slice(0, insertInx),\r\n        {\r\n          lang: 'payload',\r\n          label: 'Payload',\r\n          source: '',\r\n          requestBodyContent,\r\n        },\r\n        ...samples.slice(insertInx),\r\n      ];\r\n    }\r\n\r\n    return samples;\r\n  }\r\n\r\n  @memoize\r\n  get parameters() {\r\n    const _parameters = mergeParams(\r\n      this.parser,\r\n      this.operationSpec.pathParameters,\r\n      this.operationSpec.parameters,\r\n      // TODO: fix pointer\r\n    ).map(paramOrRef => new FieldModel(this.parser, paramOrRef, this.pointer, this.options));\r\n\r\n    if (this.options.sortPropsAlphabetically) {\r\n      return sortByField(_parameters, 'name');\r\n    }\r\n    if (this.options.requiredPropsFirst) {\r\n      return sortByRequired(_parameters);\r\n    }\r\n\r\n    return _parameters;\r\n  }\r\n\r\n  @memoize\r\n  get responses() {\r\n    let hasSuccessResponses = false;\r\n    return Object.keys(this.operationSpec.responses || [])\r\n      .filter(code => {\r\n        if (code === 'default') {\r\n          return true;\r\n        }\r\n\r\n        if (getStatusCodeType(code) === 'success') {\r\n          hasSuccessResponses = true;\r\n        }\r\n\r\n        return isStatusCode(code);\r\n      }) // filter out other props (e.g. x-props)\r\n      .map(code => {\r\n        return new ResponseModel({\r\n          parser: this.parser,\r\n          code,\r\n          defaultAsError: hasSuccessResponses,\r\n          infoOrRef: this.operationSpec.responses[code],\r\n          options: this.options,\r\n          isEvent: this.isEvent,\r\n        });\r\n      });\r\n  }\r\n\r\n  @memoize\r\n  get callbacks() {\r\n    return Object.keys(this.operationSpec.callbacks || []).map(callbackEventName => {\r\n      return new CallbackModel(\r\n        this.parser,\r\n        callbackEventName,\r\n        this.operationSpec.callbacks![callbackEventName],\r\n        this.pointer,\r\n        this.options,\r\n      );\r\n    });\r\n  }\r\n}\r\n","import { OpenAPIPath, Referenced } from '../../types';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\nimport { OperationModel } from './Operation';\r\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\r\nimport { isOperationName } from '../..';\r\n\r\nexport class WebhookModel {\r\n  operations: OperationModel[] = [];\r\n\r\n  constructor(\r\n    parser: OpenAPIParser,\r\n    options: RedocNormalizedOptions,\r\n    infoOrRef?: Referenced<OpenAPIPath>,\r\n  ) {\r\n    const webhooks = parser.deref<OpenAPIPath>(infoOrRef || {});\r\n    parser.exitRef(infoOrRef);\r\n    this.initWebhooks(parser, webhooks, options);\r\n  }\r\n\r\n  initWebhooks(parser: OpenAPIParser, webhooks: OpenAPIPath, options: RedocNormalizedOptions) {\r\n    for (const webhookName of Object.keys(webhooks)) {\r\n      const webhook = webhooks[webhookName];\r\n      const operations = Object.keys(webhook).filter(isOperationName);\r\n      for (const operationName of operations) {\r\n        const operationInfo = webhook[operationName];\r\n        if (webhook.$ref) {\r\n          const resolvedWebhook = parser.deref<OpenAPIPath>(webhook || {});\r\n          this.initWebhooks(parser, { [operationName]: resolvedWebhook }, options);\r\n        }\r\n\r\n        if (!operationInfo) continue;\r\n        const operation = new OperationModel(\r\n          parser,\r\n          {\r\n            ...operationInfo,\r\n            httpVerb: operationName,\r\n          },\r\n          undefined,\r\n          options,\r\n          false,\r\n        );\r\n\r\n        this.operations.push(operation);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { OpenAPISecurityScheme, Referenced } from '../../types';\r\nimport { SECURITY_SCHEMES_SECTION_PREFIX } from '../../utils/openapi';\r\nimport { OpenAPIParser } from '../OpenAPIParser';\r\n\r\nexport class SecuritySchemeModel {\r\n  id: string;\r\n  sectionId: string;\r\n  type: OpenAPISecurityScheme['type'];\r\n  description: string;\r\n  apiKey?: {\r\n    name: string;\r\n    in: OpenAPISecurityScheme['in'];\r\n  };\r\n\r\n  http?: {\r\n    scheme: string;\r\n    bearerFormat?: string;\r\n  };\r\n\r\n  flows: OpenAPISecurityScheme['flows'];\r\n  openId?: {\r\n    connectUrl: string;\r\n  };\r\n\r\n  constructor(parser: OpenAPIParser, id: string, scheme: Referenced<OpenAPISecurityScheme>) {\r\n    const info = parser.deref(scheme);\r\n    this.id = id;\r\n    this.sectionId = SECURITY_SCHEMES_SECTION_PREFIX + id;\r\n    this.type = info.type;\r\n    this.description = info.description || '';\r\n    if (info.type === 'apiKey') {\r\n      this.apiKey = {\r\n        name: info.name!,\r\n        in: info.in,\r\n      };\r\n    }\r\n\r\n    if (info.type === 'http') {\r\n      this.http = {\r\n        scheme: info.scheme!,\r\n        bearerFormat: info.bearerFormat,\r\n      };\r\n    }\r\n\r\n    if (info.type === 'openIdConnect') {\r\n      this.openId = {\r\n        connectUrl: info.openIdConnectUrl!,\r\n      };\r\n    }\r\n\r\n    if (info.type === 'oauth2' && info.flows) {\r\n      this.flows = info.flows;\r\n    }\r\n  }\r\n}\r\n\r\nexport class SecuritySchemesModel {\r\n  schemes: SecuritySchemeModel[];\r\n\r\n  constructor(parser: OpenAPIParser) {\r\n    const schemes = (parser.spec.components && parser.spec.components.securitySchemes) || {};\r\n    this.schemes = Object.keys(schemes).map(\r\n      name => new SecuritySchemeModel(parser, name, schemes[name]),\r\n    );\r\n  }\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/objectWithoutProperties\");;","import { resolve as urlResolve } from 'url';\r\n\r\nimport { OpenAPIRef, OpenAPISchema, OpenAPISpec, Referenced } from '../types';\r\n\r\nimport { appendToMdHeading, IS_BROWSER } from '../utils/';\r\nimport { JsonPointer } from '../utils/JsonPointer';\r\nimport {\r\n  getDefinitionName,\r\n  isNamedDefinition,\r\n  SECURITY_DEFINITIONS_COMPONENT_NAME,\r\n  SECURITY_DEFINITIONS_JSX_NAME,\r\n} from '../utils/openapi';\r\nimport { buildComponentComment, MarkdownRenderer } from './MarkdownRenderer';\r\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\r\n\r\nexport type MergedOpenAPISchema = OpenAPISchema & { parentRefs?: string[] };\r\n\r\n/**\r\n * Helper class to keep track of visited references to avoid\r\n * endless recursion because of circular refs\r\n */\r\nclass RefCounter {\r\n  _counter = {};\r\n\r\n  reset(): void {\r\n    this._counter = {};\r\n  }\r\n\r\n  visit(ref: string): void {\r\n    this._counter[ref] = this._counter[ref] ? this._counter[ref] + 1 : 1;\r\n  }\r\n\r\n  exit(ref: string): void {\r\n    this._counter[ref] = this._counter[ref] && this._counter[ref] - 1;\r\n  }\r\n\r\n  visited(ref: string): boolean {\r\n    return !!this._counter[ref];\r\n  }\r\n}\r\n\r\n/**\r\n * Loads and keeps spec. Provides raw spec operations\r\n */\r\nexport class OpenAPIParser {\r\n  specUrl?: string;\r\n  spec: OpenAPISpec;\r\n\r\n  private _refCounter: RefCounter = new RefCounter();\r\n  private allowMergeRefs: boolean = false;\r\n\r\n  constructor(\r\n    spec: OpenAPISpec,\r\n    specUrl?: string,\r\n    private options: RedocNormalizedOptions = new RedocNormalizedOptions({}),\r\n  ) {\r\n    this.validate(spec);\r\n    this.preprocess(spec);\r\n\r\n    this.spec = spec;\r\n    this.allowMergeRefs = spec.openapi.startsWith('3.1');\r\n\r\n    const href = IS_BROWSER ? window.location.href : '';\r\n    if (typeof specUrl === 'string') {\r\n      this.specUrl = urlResolve(href, specUrl);\r\n    }\r\n  }\r\n\r\n  validate(spec: any) {\r\n    if (spec.openapi === undefined) {\r\n      throw new Error('Document must be valid OpenAPI 3.0.0 definition');\r\n    }\r\n  }\r\n\r\n  preprocess(spec: OpenAPISpec) {\r\n    if (\r\n      !this.options.noAutoAuth &&\r\n      spec.info &&\r\n      spec.components &&\r\n      spec.components.securitySchemes\r\n    ) {\r\n      // Automatically inject Authentication section with SecurityDefinitions component\r\n      const description = spec.info.description || '';\r\n      if (\r\n        !MarkdownRenderer.containsComponent(description, SECURITY_DEFINITIONS_COMPONENT_NAME) &&\r\n        !MarkdownRenderer.containsComponent(description, SECURITY_DEFINITIONS_JSX_NAME)\r\n      ) {\r\n        const comment = buildComponentComment(SECURITY_DEFINITIONS_COMPONENT_NAME);\r\n        spec.info.description = appendToMdHeading(description, 'Authentication', comment);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get spec part by JsonPointer ($ref)\r\n   */\r\n  byRef = <T extends any = any>(ref: string): T | undefined => {\r\n    let res;\r\n    if (!this.spec) {\r\n      return;\r\n    }\r\n    if (ref.charAt(0) !== '#') {\r\n      ref = '#' + ref;\r\n    }\r\n    ref = decodeURIComponent(ref);\r\n    try {\r\n      res = JsonPointer.get(this.spec, ref);\r\n    } catch (e) {\r\n      // do nothing\r\n    }\r\n    return res || {};\r\n  };\r\n\r\n  /**\r\n   * checks if the object is OpenAPI reference (contains $ref property)\r\n   */\r\n  isRef(obj: any): obj is OpenAPIRef {\r\n    if (!obj) {\r\n      return false;\r\n    }\r\n    return obj.$ref !== undefined && obj.$ref !== null;\r\n  }\r\n\r\n  /**\r\n   * resets visited endpoints. should be run after\r\n   */\r\n  resetVisited() {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      // check in dev mode\r\n      for (const k in this._refCounter._counter) {\r\n        if (this._refCounter._counter[k] > 0) {\r\n          console.warn('Not exited reference: ' + k);\r\n        }\r\n      }\r\n    }\r\n    this._refCounter = new RefCounter();\r\n  }\r\n\r\n  exitRef<T>(ref: Referenced<T>) {\r\n    if (!this.isRef(ref)) {\r\n      return;\r\n    }\r\n    this._refCounter.exit(ref.$ref);\r\n  }\r\n\r\n  /**\r\n   * Resolve given reference object or return as is if it is not a reference\r\n   * @param obj object to dereference\r\n   * @param forceCircular whether to dereference even if it is circular ref\r\n   */\r\n  deref<T extends object>(obj: OpenAPIRef | T, forceCircular = false, mergeAsAllOf = false): T {\r\n    if (this.isRef(obj)) {\r\n      const schemaName = getDefinitionName(obj.$ref);\r\n      if (schemaName && this.options.ignoreNamedSchemas.has(schemaName)) {\r\n        return { type: 'object', title: schemaName } as T;\r\n      }\r\n\r\n      const resolved = this.byRef<T>(obj.$ref)!;\r\n      const visited = this._refCounter.visited(obj.$ref);\r\n      this._refCounter.visit(obj.$ref);\r\n      if (visited && !forceCircular) {\r\n        // circular reference detected\r\n        // tslint:disable-next-line\r\n        return Object.assign({}, resolved, { 'x-circular-ref': true });\r\n      }\r\n      // deref again in case one more $ref is here\r\n      let result = resolved;\r\n      if (this.isRef(resolved)) {\r\n        result = this.deref(resolved, false, mergeAsAllOf);\r\n        this.exitRef(resolved);\r\n      }\r\n      return this.allowMergeRefs ? this.mergeRefs(obj, resolved, mergeAsAllOf) : result;\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  shallowDeref<T extends unknown>(obj: OpenAPIRef | T): T {\r\n    if (this.isRef(obj)) {\r\n      const schemaName = getDefinitionName(obj.$ref);\r\n      if (schemaName && this.options.ignoreNamedSchemas.has(schemaName)) {\r\n        return { type: 'object', title: schemaName } as T;\r\n      }\r\n      const resolved = this.byRef<T>(obj.$ref);\r\n      return this.allowMergeRefs ? this.mergeRefs(obj, resolved, false) : (resolved as T);\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  mergeRefs(ref, resolved, mergeAsAllOf: boolean) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const { $ref, ...rest } = ref;\r\n    const keys = Object.keys(rest);\r\n    if (keys.length === 0) {\r\n      return resolved;\r\n    }\r\n    if (\r\n      mergeAsAllOf &&\r\n      keys.some(k => k !== 'description' && k !== 'title' && k !== 'externalDocs')\r\n    ) {\r\n      return {\r\n        allOf: [rest, resolved],\r\n      };\r\n    } else {\r\n      // small optimization\r\n      return {\r\n        ...resolved,\r\n        ...rest,\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Merge allOf constraints.\r\n   * @param schema schema with allOF\r\n   * @param $ref pointer of the schema\r\n   * @param forceCircular whether to dereference children even if it is a circular ref\r\n   */\r\n  mergeAllOf(\r\n    schema: OpenAPISchema,\r\n    $ref?: string,\r\n    forceCircular: boolean = false,\r\n    used$Refs = new Set<string>(),\r\n  ): MergedOpenAPISchema {\r\n    if ($ref) {\r\n      used$Refs.add($ref);\r\n    }\r\n\r\n    schema = this.hoistOneOfs(schema);\r\n\r\n    if (schema.allOf === undefined) {\r\n      return schema;\r\n    }\r\n\r\n    let receiver: MergedOpenAPISchema = {\r\n      ...schema,\r\n      allOf: undefined,\r\n      parentRefs: [],\r\n      title: schema.title || getDefinitionName($ref),\r\n    };\r\n\r\n    // avoid mutating inner objects\r\n    if (receiver.properties !== undefined && typeof receiver.properties === 'object') {\r\n      receiver.properties = { ...receiver.properties };\r\n    }\r\n    if (receiver.items !== undefined && typeof receiver.items === 'object') {\r\n      receiver.items = { ...receiver.items };\r\n    }\r\n\r\n    const allOfSchemas = schema.allOf\r\n      .map(subSchema => {\r\n        if (subSchema && subSchema.$ref && used$Refs.has(subSchema.$ref)) {\r\n          return undefined;\r\n        }\r\n\r\n        const resolved = this.deref(subSchema, forceCircular, true);\r\n        const subRef = subSchema.$ref || undefined;\r\n        const subMerged = this.mergeAllOf(resolved, subRef, forceCircular, used$Refs);\r\n        receiver.parentRefs!.push(...(subMerged.parentRefs || []));\r\n        return {\r\n          $ref: subRef,\r\n          schema: subMerged,\r\n        };\r\n      })\r\n      .filter(child => child !== undefined) as Array<{\r\n      $ref: string | undefined;\r\n      schema: MergedOpenAPISchema;\r\n    }>;\r\n\r\n    for (const { $ref: subSchemaRef, schema: subSchema } of allOfSchemas) {\r\n      if (\r\n        receiver.type !== subSchema.type &&\r\n        receiver.type !== undefined &&\r\n        subSchema.type !== undefined\r\n      ) {\r\n        console.warn(\r\n          `Incompatible types in allOf at \"${$ref}\": \"${receiver.type}\" and \"${subSchema.type}\"`,\r\n        );\r\n      }\r\n\r\n      if (subSchema.type !== undefined) {\r\n        receiver.type = subSchema.type;\r\n      }\r\n\r\n      if (subSchema.properties !== undefined) {\r\n        receiver.properties = receiver.properties || {};\r\n        for (const prop in subSchema.properties) {\r\n          if (!receiver.properties[prop]) {\r\n            receiver.properties[prop] = subSchema.properties[prop];\r\n          } else {\r\n            // merge inner properties\r\n            const mergedProp = this.mergeAllOf(\r\n              { allOf: [receiver.properties[prop], subSchema.properties[prop]] },\r\n              $ref + '/properties/' + prop,\r\n            );\r\n            receiver.properties[prop] = mergedProp;\r\n            this.exitParents(mergedProp); // every prop resolution should have separate recursive stack\r\n          }\r\n        }\r\n      }\r\n\r\n      if (subSchema.items !== undefined) {\r\n        receiver.items = receiver.items || {};\r\n        // merge inner properties\r\n        receiver.items = this.mergeAllOf(\r\n          { allOf: [receiver.items, subSchema.items] },\r\n          $ref + '/items',\r\n        );\r\n      }\r\n\r\n      if (subSchema.required !== undefined) {\r\n        receiver.required = (receiver.required || []).concat(subSchema.required);\r\n      }\r\n\r\n      // merge rest of constraints\r\n      // TODO: do more intelligent merge\r\n      receiver = { ...subSchema, ...receiver };\r\n\r\n      if (subSchemaRef) {\r\n        receiver.parentRefs!.push(subSchemaRef);\r\n        if (receiver.title === undefined && isNamedDefinition(subSchemaRef)) {\r\n          // this is not so correct behaviour. commented out for now\r\n          // ref: https://github.com/Redocly/redoc/issues/601\r\n          // receiver.title = JsonPointer.baseName(subSchemaRef);\r\n        }\r\n      }\r\n    }\r\n\r\n    return receiver;\r\n  }\r\n\r\n  /**\r\n   * Find all derived definitions among #/components/schemas from any of $refs\r\n   * returns map of definition pointer to definition name\r\n   * @param $refs array of references to find derived from\r\n   */\r\n  findDerived($refs: string[]): Record<string, string[] | string> {\r\n    const res: Record<string, string[]> = {};\r\n    const schemas = (this.spec.components && this.spec.components.schemas) || {};\r\n    for (const defName in schemas) {\r\n      const def = this.deref(schemas[defName]);\r\n      if (\r\n        def.allOf !== undefined &&\r\n        def.allOf.find(obj => obj.$ref !== undefined && $refs.indexOf(obj.$ref) > -1)\r\n      ) {\r\n        res['#/components/schemas/' + defName] = [def['x-discriminator-value'] || defName];\r\n      }\r\n    }\r\n    return res;\r\n  }\r\n\r\n  exitParents(shema: MergedOpenAPISchema) {\r\n    for (const parent$ref of shema.parentRefs || []) {\r\n      this.exitRef({ $ref: parent$ref });\r\n    }\r\n  }\r\n\r\n  private hoistOneOfs(schema: OpenAPISchema) {\r\n    if (schema.allOf === undefined) {\r\n      return schema;\r\n    }\r\n\r\n    const allOf = schema.allOf;\r\n    for (let i = 0; i < allOf.length; i++) {\r\n      const sub = allOf[i];\r\n      if (Array.isArray(sub.oneOf)) {\r\n        const beforeAllOf = allOf.slice(0, i);\r\n        const afterAllOf = allOf.slice(i + 1);\r\n        return {\r\n          oneOf: sub.oneOf.map(part => {\r\n            const merged = this.mergeAllOf({\r\n              allOf: [...beforeAllOf, part, ...afterAllOf],\r\n            });\r\n\r\n            // each oneOf should be independent so exiting all the parent refs\r\n            // otherwise it will cause false-positive recursive detection\r\n            this.exitParents(merged);\r\n            return merged;\r\n          }),\r\n        };\r\n      }\r\n    }\r\n\r\n    return schema;\r\n  }\r\n}\r\n","import { OpenAPIExternalDocumentation, OpenAPIPath, OpenAPISpec, Referenced } from '../types';\r\n\r\nimport { ContentItemModel, MenuBuilder } from './MenuBuilder';\r\nimport { ApiInfoModel } from './models/ApiInfo';\r\nimport { WebhookModel } from './models/Webhook';\r\nimport { SecuritySchemesModel } from './models/SecuritySchemes';\r\nimport { OpenAPIParser } from './OpenAPIParser';\r\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\r\n/**\r\n * Store that contains all the specification related information in the form of tree\r\n */\r\nexport class SpecStore {\r\n  parser: OpenAPIParser;\r\n\r\n  info: ApiInfoModel;\r\n  externalDocs?: OpenAPIExternalDocumentation;\r\n  contentItems: ContentItemModel[];\r\n  securitySchemes: SecuritySchemesModel;\r\n  webhooks?: WebhookModel;\r\n\r\n  constructor(\r\n    spec: OpenAPISpec,\r\n    specUrl: string | undefined,\r\n    private options: RedocNormalizedOptions,\r\n  ) {\r\n    this.parser = new OpenAPIParser(spec, specUrl, options);\r\n    this.info = new ApiInfoModel(this.parser);\r\n    this.externalDocs = this.parser.spec.externalDocs;\r\n    this.contentItems = MenuBuilder.buildStructure(this.parser, this.options);\r\n    this.securitySchemes = new SecuritySchemesModel(this.parser);\r\n    const webhookPath: Referenced<OpenAPIPath> = {\r\n      ...this.parser?.spec?.['x-webhooks'],\r\n      ...this.parser?.spec.webhooks,\r\n    };\r\n    this.webhooks = new WebhookModel(this.parser, options, webhookPath);\r\n  }\r\n}\r\n","import { action, observable, makeObservable } from 'mobx';\r\n\r\nimport { OpenAPIExternalDocumentation, OpenAPITag } from '../../types';\r\nimport { safeSlugify } from '../../utils';\r\nimport { MarkdownHeading, MarkdownRenderer } from '../MarkdownRenderer';\r\nimport { ContentItemModel } from '../MenuBuilder';\r\nimport { IMenuItem, MenuItemGroupType } from '../MenuStore';\r\n\r\n/**\r\n * Operations Group model ready to be used by components\r\n */\r\nexport class GroupModel implements IMenuItem {\r\n  //#region IMenuItem fields\r\n  id: string;\r\n  absoluteIdx?: number;\r\n  name: string;\r\n  description?: string;\r\n  type: MenuItemGroupType;\r\n\r\n  items: ContentItemModel[] = [];\r\n  parent?: GroupModel;\r\n  externalDocs?: OpenAPIExternalDocumentation;\r\n\r\n  @observable\r\n  active: boolean = false;\r\n  @observable\r\n  expanded: boolean = false;\r\n\r\n  depth: number;\r\n  level: number;\r\n  //#endregion\r\n\r\n  constructor(\r\n    type: MenuItemGroupType,\r\n    tagOrGroup: OpenAPITag | MarkdownHeading,\r\n    parent?: GroupModel,\r\n  ) {\r\n    makeObservable(this);\r\n\r\n    // markdown headings already have ids calculated as they are needed for heading anchors\r\n    this.id = (tagOrGroup as MarkdownHeading).id || type + '/' + safeSlugify(tagOrGroup.name);\r\n    this.type = type;\r\n    this.name = tagOrGroup['x-displayName'] || tagOrGroup.name;\r\n    this.level = (tagOrGroup as MarkdownHeading).level || 1;\r\n\r\n    // remove sections from markdown, same as in ApiInfo\r\n    this.description = tagOrGroup.description || '';\r\n\r\n    const items = (tagOrGroup as MarkdownHeading).items;\r\n    if (items && items.length) {\r\n      this.description = MarkdownRenderer.getTextBeforeHading(this.description, items[0].name);\r\n    }\r\n\r\n    this.parent = parent;\r\n    this.externalDocs = (tagOrGroup as OpenAPITag).externalDocs;\r\n\r\n    // groups are active (expanded) by default\r\n    if (this.type === 'group') {\r\n      this.expanded = true;\r\n    }\r\n  }\r\n\r\n  @action\r\n  activate() {\r\n    this.active = true;\r\n  }\r\n\r\n  @action\r\n  expand() {\r\n    if (this.parent) {\r\n      this.parent.expand();\r\n    }\r\n    this.expanded = true;\r\n  }\r\n\r\n  @action\r\n  collapse() {\r\n    // disallow collapsing groups\r\n    if (this.type === 'group') {\r\n      return;\r\n    }\r\n    this.expanded = false;\r\n  }\r\n\r\n  @action\r\n  deactivate() {\r\n    this.active = false;\r\n  }\r\n}\r\n","import {\r\n  OpenAPIOperation,\r\n  OpenAPIParameter,\r\n  OpenAPISpec,\r\n  OpenAPITag,\r\n  Referenced,\r\n  OpenAPIServer,\r\n  OpenAPIPaths,\r\n} from '../types';\r\nimport {\r\n  isOperationName,\r\n  SECURITY_DEFINITIONS_COMPONENT_NAME,\r\n  setSecuritySchemePrefix,\r\n  JsonPointer,\r\n} from '../utils';\r\nimport { MarkdownRenderer } from './MarkdownRenderer';\r\nimport { GroupModel, OperationModel } from './models';\r\nimport { OpenAPIParser } from './OpenAPIParser';\r\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\r\n\r\nexport type TagInfo = OpenAPITag & {\r\n  operations: ExtendedOpenAPIOperation[];\r\n  used?: boolean;\r\n};\r\n\r\nexport type ExtendedOpenAPIOperation = {\r\n  pointer: string;\r\n  pathName: string;\r\n  httpVerb: string;\r\n  pathParameters: Array<Referenced<OpenAPIParameter>>;\r\n  pathServers: Array<OpenAPIServer> | undefined;\r\n  isWebhook: boolean;\r\n} & OpenAPIOperation;\r\n\r\nexport type TagsInfoMap = Record<string, TagInfo>;\r\n\r\nexport interface TagGroup {\r\n  name: string;\r\n  tags: string[];\r\n}\r\n\r\nexport const GROUP_DEPTH = 0;\r\nexport type ContentItemModel = GroupModel | OperationModel;\r\n\r\nexport class MenuBuilder {\r\n  /**\r\n   * Builds page content structure based on tags\r\n   */\r\n  static buildStructure(\r\n    parser: OpenAPIParser,\r\n    options: RedocNormalizedOptions,\r\n  ): ContentItemModel[] {\r\n    const spec = parser.spec;\r\n\r\n    const items: ContentItemModel[] = [];\r\n    const tagsMap = MenuBuilder.getTagsWithOperations(parser, spec);\r\n    items.push(...MenuBuilder.addMarkdownItems(spec.info.description || '', undefined, 1, options));\r\n    if (spec['x-tagGroups'] && spec['x-tagGroups'].length > 0) {\r\n      items.push(\r\n        ...MenuBuilder.getTagGroupsItems(parser, undefined, spec['x-tagGroups'], tagsMap, options),\r\n      );\r\n    } else {\r\n      items.push(...MenuBuilder.getTagsItems(parser, tagsMap, undefined, undefined, options));\r\n    }\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * extracts items from markdown description\r\n   * @param description - markdown source\r\n   */\r\n  static addMarkdownItems(\r\n    description: string,\r\n    parent: GroupModel | undefined,\r\n    initialDepth: number,\r\n    options: RedocNormalizedOptions,\r\n  ): ContentItemModel[] {\r\n    const renderer = new MarkdownRenderer(options);\r\n    const headings = renderer.extractHeadings(description || '');\r\n\r\n    if (headings.length && parent && parent.description) {\r\n      parent.description = MarkdownRenderer.getTextBeforeHading(\r\n        parent.description,\r\n        headings[0].name,\r\n      );\r\n    }\r\n\r\n    const mapHeadingsDeep = (_parent, items, depth = 1) =>\r\n      items.map(heading => {\r\n        const group = new GroupModel('section', heading, _parent);\r\n        group.depth = depth;\r\n        if (heading.items) {\r\n          group.items = mapHeadingsDeep(group, heading.items, depth + 1);\r\n        }\r\n        if (\r\n          MarkdownRenderer.containsComponent(\r\n            group.description || '',\r\n            SECURITY_DEFINITIONS_COMPONENT_NAME,\r\n          )\r\n        ) {\r\n          setSecuritySchemePrefix(group.id + '/');\r\n        }\r\n        return group;\r\n      });\r\n\r\n    return mapHeadingsDeep(parent, headings, initialDepth);\r\n  }\r\n\r\n  /**\r\n   * Returns array of OperationsGroup items for the tag groups (x-tagGroups vendor extension)\r\n   * @param tags value of `x-tagGroups` vendor extension\r\n   */\r\n  static getTagGroupsItems(\r\n    parser: OpenAPIParser,\r\n    parent: GroupModel | undefined,\r\n    groups: TagGroup[],\r\n    tags: TagsInfoMap,\r\n    options: RedocNormalizedOptions,\r\n  ): GroupModel[] {\r\n    const res: GroupModel[] = [];\r\n    for (const group of groups) {\r\n      const item = new GroupModel('group', group, parent);\r\n      item.depth = GROUP_DEPTH;\r\n      item.items = MenuBuilder.getTagsItems(parser, tags, item, group, options);\r\n      res.push(item);\r\n    }\r\n    // TODO checkAllTagsUsedInGroups\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * Returns array of OperationsGroup items for the tags of the group or for all tags\r\n   * @param tagsMap tags info returned from `getTagsWithOperations`\r\n   * @param parent parent item\r\n   * @param group group which this tag belongs to. if not provided gets all tags\r\n   */\r\n  static getTagsItems(\r\n    parser: OpenAPIParser,\r\n    tagsMap: TagsInfoMap,\r\n    parent: GroupModel | undefined,\r\n    group: TagGroup | undefined,\r\n    options: RedocNormalizedOptions,\r\n  ): ContentItemModel[] {\r\n    let tagNames;\r\n\r\n    if (group === undefined) {\r\n      tagNames = Object.keys(tagsMap); // all tags\r\n    } else {\r\n      tagNames = group.tags;\r\n    }\r\n\r\n    const tags = tagNames.map(tagName => {\r\n      if (!tagsMap[tagName]) {\r\n        console.warn(`Non-existing tag \"${tagName}\" is added to the group \"${group!.name}\"`);\r\n        return null;\r\n      }\r\n      tagsMap[tagName].used = true;\r\n      return tagsMap[tagName];\r\n    });\r\n\r\n    const res: Array<GroupModel | OperationModel> = [];\r\n    for (const tag of tags) {\r\n      if (!tag) {\r\n        continue;\r\n      }\r\n      const item = new GroupModel('tag', tag, parent);\r\n      item.depth = GROUP_DEPTH + 1;\r\n\r\n      // don't put empty tag into content, instead put its operations\r\n      if (tag.name === '') {\r\n        const items = [\r\n          ...MenuBuilder.addMarkdownItems(tag.description || '', item, item.depth + 1, options),\r\n          ...this.getOperationsItems(parser, undefined, tag, item.depth + 1, options),\r\n        ];\r\n        res.push(...items);\r\n        continue;\r\n      }\r\n\r\n      item.items = [\r\n        ...MenuBuilder.addMarkdownItems(tag.description || '', item, item.depth + 1, options),\r\n        ...this.getOperationsItems(parser, item, tag, item.depth + 1, options),\r\n      ];\r\n\r\n      res.push(item);\r\n    }\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * Returns array of Operation items for the tag\r\n   * @param parent parent OperationsGroup\r\n   * @param tag tag info returned from `getTagsWithOperations`\r\n   * @param depth items depth\r\n   */\r\n  static getOperationsItems(\r\n    parser: OpenAPIParser,\r\n    parent: GroupModel | undefined,\r\n    tag: TagInfo,\r\n    depth: number,\r\n    options: RedocNormalizedOptions,\r\n  ): OperationModel[] {\r\n    if (tag.operations.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    const res: OperationModel[] = [];\r\n    for (const operationInfo of tag.operations) {\r\n      const operation = new OperationModel(parser, operationInfo, parent, options);\r\n      operation.depth = depth;\r\n      res.push(operation);\r\n    }\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * collects tags and maps each tag to list of operations belonging to this tag\r\n   */\r\n  static getTagsWithOperations(parser: OpenAPIParser, spec: OpenAPISpec): TagsInfoMap {\r\n    const tags: TagsInfoMap = {};\r\n    const webhooks = spec['x-webhooks'] || spec.webhooks;\r\n    for (const tag of spec.tags || []) {\r\n      tags[tag.name] = { ...tag, operations: [] };\r\n    }\r\n\r\n    if (webhooks) {\r\n      getTags(parser, webhooks, true);\r\n    }\r\n\r\n    if (spec.paths) {\r\n      getTags(parser, spec.paths);\r\n    }\r\n\r\n    function getTags(parser: OpenAPIParser, paths: OpenAPIPaths, isWebhook?: boolean) {\r\n      for (const pathName of Object.keys(paths)) {\r\n        const path = paths[pathName];\r\n        const operations = Object.keys(path).filter(isOperationName);\r\n        for (const operationName of operations) {\r\n          const operationInfo = path[operationName];\r\n          if (path.$ref) {\r\n            const resolvedPaths = parser.deref<OpenAPIPaths>(path as OpenAPIPaths);\r\n            getTags(parser, { [pathName]: resolvedPaths }, isWebhook);\r\n            continue;\r\n          }\r\n          let operationTags = operationInfo?.tags;\r\n\r\n          if (!operationTags || !operationTags.length) {\r\n            // empty tag\r\n            operationTags = [''];\r\n          }\r\n\r\n          for (const tagName of operationTags) {\r\n            let tag = tags[tagName];\r\n            if (tag === undefined) {\r\n              tag = {\r\n                name: tagName,\r\n                operations: [],\r\n              };\r\n              tags[tagName] = tag;\r\n            }\r\n            if (tag['x-traitTag']) {\r\n              continue;\r\n            }\r\n            tag.operations.push({\r\n              ...operationInfo,\r\n              pathName,\r\n              pointer: JsonPointer.compile(['paths', pathName, operationName]),\r\n              httpVerb: operationName,\r\n              pathParameters: path.parameters || [],\r\n              pathServers: path.servers,\r\n              isWebhook: !!isWebhook,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return tags;\r\n  }\r\n}\r\n","import { action, observable, makeObservable } from 'mobx';\r\nimport { querySelector } from '../utils/dom';\r\nimport { SpecStore } from './models';\r\n\r\nimport { history as historyInst, HistoryService } from './HistoryService';\r\nimport { ScrollService } from './ScrollService';\r\n\r\nimport { flattenByProp, SECURITY_SCHEMES_SECTION_PREFIX } from '../utils';\r\nimport { GROUP_DEPTH } from './MenuBuilder';\r\n\r\nexport type MenuItemGroupType = 'group' | 'tag' | 'section';\r\nexport type MenuItemType = MenuItemGroupType | 'operation';\r\n\r\n/** Generic interface for MenuItems */\r\nexport interface IMenuItem {\r\n  id: string;\r\n  absoluteIdx?: number;\r\n  name: string;\r\n  description?: string;\r\n  depth: number;\r\n  active: boolean;\r\n  expanded: boolean;\r\n  items: IMenuItem[];\r\n  parent?: IMenuItem;\r\n  deprecated?: boolean;\r\n  type: MenuItemType;\r\n\r\n  deactivate(): void;\r\n  activate(): void;\r\n\r\n  collapse(): void;\r\n  expand(): void;\r\n}\r\n\r\nexport const SECTION_ATTR = 'data-section-id';\r\n\r\n/**\r\n * Stores all side-menu related information\r\n */\r\nexport class MenuStore {\r\n  /**\r\n   * Statically try update scroll position\r\n   * Used before hydrating from server-side rendered html to scroll page faster\r\n   */\r\n  static updateOnHistory(id: string = historyInst.currentId, scroll: ScrollService) {\r\n    if (!id) {\r\n      return;\r\n    }\r\n    scroll.scrollIntoViewBySelector(`[${SECTION_ATTR}=\"${id}\"]`);\r\n  }\r\n\r\n  /**\r\n   * active item absolute index (when flattened). -1 means nothing is selected\r\n   */\r\n  @observable\r\n  activeItemIdx: number = -1;\r\n\r\n  /**\r\n   * whether sidebar with menu is opened or not\r\n   */\r\n  @observable\r\n  sideBarOpened: boolean = false;\r\n\r\n  items: IMenuItem[];\r\n  flatItems: IMenuItem[];\r\n\r\n  /**\r\n   * cached flattened menu items to support absolute indexing\r\n   */\r\n  private _unsubscribe: () => void;\r\n  private _hashUnsubscribe: () => void;\r\n\r\n  /**\r\n   *\r\n   * @param spec [SpecStore](#SpecStore) which contains page content structure\r\n   * @param scroll scroll service instance used by this menu\r\n   */\r\n  constructor(spec: SpecStore, public scroll: ScrollService, public history: HistoryService) {\r\n    makeObservable(this);\r\n\r\n    this.items = spec.contentItems;\r\n\r\n    this.flatItems = flattenByProp(this.items || [], 'items');\r\n    this.flatItems.forEach((item, idx) => (item.absoluteIdx = idx));\r\n\r\n    this.subscribe();\r\n  }\r\n\r\n  subscribe() {\r\n    this._unsubscribe = this.scroll.subscribe(this.updateOnScroll);\r\n    this._hashUnsubscribe = this.history.subscribe(this.updateOnHistory);\r\n  }\r\n\r\n  @action\r\n  toggleSidebar() {\r\n    this.sideBarOpened = this.sideBarOpened ? false : true;\r\n  }\r\n\r\n  @action\r\n  closeSidebar() {\r\n    this.sideBarOpened = false;\r\n  }\r\n\r\n  /**\r\n   * update active items on scroll\r\n   * @param isScrolledDown whether last scroll was downside\r\n   */\r\n  updateOnScroll = (isScrolledDown: boolean): void => {\r\n    const step = isScrolledDown ? 1 : -1;\r\n    let itemIdx = this.activeItemIdx;\r\n    while (true) {\r\n      if (itemIdx === -1 && !isScrolledDown) {\r\n        break;\r\n      }\r\n\r\n      if (itemIdx >= this.flatItems.length - 1 && isScrolledDown) {\r\n        break;\r\n      }\r\n\r\n      if (isScrolledDown) {\r\n        const el = this.getElementAtOrFirstChild(itemIdx + 1);\r\n        if (this.scroll.isElementBellow(el)) {\r\n          break;\r\n        }\r\n      } else {\r\n        const el = this.getElementAt(itemIdx);\r\n        if (this.scroll.isElementAbove(el)) {\r\n          break;\r\n        }\r\n      }\r\n      itemIdx += step;\r\n    }\r\n\r\n    this.activate(this.flatItems[itemIdx], true, true);\r\n  };\r\n\r\n  /**\r\n   * update active items on hash change\r\n   * @param id current hash\r\n   */\r\n  updateOnHistory = (id: string = this.history.currentId) => {\r\n    if (!id) {\r\n      return;\r\n    }\r\n    let item: IMenuItem | undefined;\r\n\r\n    item = this.flatItems.find(i => i.id === id);\r\n    if (item) {\r\n      this.activateAndScroll(item, false);\r\n    } else {\r\n      if (id.startsWith(SECURITY_SCHEMES_SECTION_PREFIX)) {\r\n        item = this.flatItems.find(i => SECURITY_SCHEMES_SECTION_PREFIX.startsWith(i.id));\r\n        this.activate(item);\r\n      }\r\n      this.scroll.scrollIntoViewBySelector(`[${SECTION_ATTR}=\"${id}\"]`);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * get section/operation DOM Node related to the item or null if it doesn't exist\r\n   * @param idx item absolute index\r\n   */\r\n  getElementAt(idx: number): Element | null {\r\n    const item = this.flatItems[idx];\r\n    return (item && querySelector(`[${SECTION_ATTR}=\"${item.id}\"]`)) || null;\r\n  }\r\n\r\n  /**\r\n   * get section/operation DOM Node related to the item or if it is group item, returns first item of the group\r\n   * @param idx item absolute index\r\n   */\r\n  getElementAtOrFirstChild(idx: number): Element | null {\r\n    let item = this.flatItems[idx];\r\n    if (item && item.type === 'group') {\r\n      item = item.items[0];\r\n    }\r\n    return (item && querySelector(`[${SECTION_ATTR}=\"${item.id}\"]`)) || null;\r\n  }\r\n\r\n  /**\r\n   * current active item\r\n   */\r\n  get activeItem(): IMenuItem {\r\n    return this.flatItems[this.activeItemIdx] || undefined;\r\n  }\r\n\r\n  getItemById = (id: string) => {\r\n    return this.flatItems.find(item => item.id === id);\r\n  };\r\n\r\n  /**\r\n   * activate menu item\r\n   * @param item item to activate\r\n   * @param updateLocation [true] whether to update location\r\n   * @param rewriteHistory [false] whether to rewrite browser history (do not create new entry)\r\n   */\r\n  @action\r\n  activate(\r\n    item: IMenuItem | undefined,\r\n    updateLocation: boolean = true,\r\n    rewriteHistory: boolean = false,\r\n  ) {\r\n    if ((this.activeItem && this.activeItem.id) === (item && item.id)) {\r\n      return;\r\n    }\r\n\r\n    if (item && item.type === 'group') {\r\n      return;\r\n    }\r\n\r\n    this.deactivate(this.activeItem);\r\n    if (!item) {\r\n      this.activeItemIdx = -1;\r\n      this.history.replace('', rewriteHistory);\r\n      return;\r\n    }\r\n\r\n    // do not allow activating group items\r\n    // TODO: control over options\r\n    if (item.depth <= GROUP_DEPTH) {\r\n      return;\r\n    }\r\n\r\n    this.activeItemIdx = item.absoluteIdx!;\r\n    if (updateLocation) {\r\n      this.history.replace(item.id, rewriteHistory);\r\n    }\r\n\r\n    item.activate();\r\n    item.expand();\r\n  }\r\n\r\n  /**\r\n   * makes item and all the parents not active\r\n   * @param item item to deactivate\r\n   */\r\n  deactivate(item: IMenuItem | undefined) {\r\n    if (item === undefined) {\r\n      return;\r\n    }\r\n    item.deactivate();\r\n    while (item !== undefined) {\r\n      item.collapse();\r\n      item = item.parent;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * activate menu item and scroll to it\r\n   * @see MenuStore.activate\r\n   */\r\n  @action.bound\r\n  activateAndScroll(\r\n    item: IMenuItem | undefined,\r\n    updateLocation?: boolean,\r\n    rewriteHistory?: boolean,\r\n  ) {\r\n    // item here can be a copy from search results so find corresponding item from menu\r\n    const menuItem = (item && this.getItemById(item.id)) || item;\r\n    this.activate(menuItem, updateLocation, rewriteHistory);\r\n    this.scrollToActive();\r\n    if (!menuItem || !menuItem.items.length) {\r\n      this.closeSidebar();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * scrolls to active section\r\n   */\r\n  scrollToActive(): void {\r\n    this.scroll.scrollIntoView(this.getElementAt(this.activeItemIdx));\r\n  }\r\n\r\n  dispose() {\r\n    this._unsubscribe();\r\n    this._hashUnsubscribe();\r\n  }\r\n}\r\n","import { bind } from 'decko';\r\nimport * as EventEmitter from 'eventemitter3';\r\n\r\nimport { IS_BROWSER, querySelector, Throttle } from '../utils';\r\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\r\n\r\nconst EVENT = 'scroll';\r\n\r\nexport class ScrollService {\r\n  private _scrollParent: Window | HTMLElement | undefined;\r\n  private _emiter: EventEmitter;\r\n  private _prevOffsetY = 0;\r\n  constructor(private options: RedocNormalizedOptions) {\r\n    this._scrollParent = IS_BROWSER ? window : undefined;\r\n    this._emiter = new EventEmitter();\r\n    this.bind();\r\n  }\r\n\r\n  bind() {\r\n    this._prevOffsetY = this.scrollY();\r\n    if (this._scrollParent) {\r\n      this._scrollParent.addEventListener('scroll', this.handleScroll);\r\n    }\r\n  }\r\n\r\n  dispose() {\r\n    if (this._scrollParent) {\r\n      this._scrollParent.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n    this._emiter.removeAllListeners(EVENT);\r\n  }\r\n\r\n  scrollY(): number {\r\n    if (typeof HTMLElement !== 'undefined' && this._scrollParent instanceof HTMLElement) {\r\n      return this._scrollParent.scrollTop;\r\n    } else if (this._scrollParent !== undefined) {\r\n      return (this._scrollParent as Window).pageYOffset;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  isElementBellow(el: Element | null) {\r\n    if (el === null) {\r\n      return;\r\n    }\r\n    return el.getBoundingClientRect().top > this.options.scrollYOffset();\r\n  }\r\n\r\n  isElementAbove(el: Element | null) {\r\n    if (el === null) {\r\n      return;\r\n    }\r\n    const top = el.getBoundingClientRect().top;\r\n    return (top > 0 ? Math.floor(top) : Math.ceil(top)) <= this.options.scrollYOffset();\r\n  }\r\n\r\n  subscribe(cb): () => void {\r\n    const emmiter = this._emiter.addListener(EVENT, cb);\r\n    return () => emmiter.removeListener(EVENT, cb);\r\n  }\r\n\r\n  scrollIntoView(element: Element | null) {\r\n    if (element === null) {\r\n      return;\r\n    }\r\n    element.scrollIntoView();\r\n    if (this._scrollParent && this._scrollParent.scrollBy) {\r\n      // adding 1 account rounding errors in case scrollYOffset is float-number\r\n      (this._scrollParent.scrollBy as any)(0, -this.options.scrollYOffset() + 1);\r\n    }\r\n  }\r\n\r\n  scrollIntoViewBySelector(selector: string) {\r\n    const element = querySelector(selector);\r\n    this.scrollIntoView(element);\r\n  }\r\n\r\n  @bind\r\n  @Throttle(100)\r\n  handleScroll() {\r\n    const scrollY = this.scrollY();\r\n    const isScrolledDown = scrollY - this._prevOffsetY > 0;\r\n    this._prevOffsetY = this.scrollY();\r\n    this._emiter.emit(EVENT, isScrolledDown);\r\n  }\r\n}\r\n","import { IS_BROWSER } from '../utils/';\r\nimport { IMenuItem } from './MenuStore';\r\nimport { OperationModel } from './models';\r\n\r\nimport Worker from './SearchWorker.worker';\r\n\r\nfunction getWorker() {\r\n  let worker: new () => Worker;\r\n  if (IS_BROWSER) {\r\n    try {\r\n      // tslint:disable-next-line\r\n      worker = require('workerize-loader?inline&fallback=false!./SearchWorker.worker');\r\n    } catch (e) {\r\n      worker = require('./SearchWorker.worker').default;\r\n    }\r\n  } else {\r\n    worker = require('./SearchWorker.worker').default;\r\n  }\r\n  return new worker();\r\n}\r\n\r\nexport class SearchStore<T> {\r\n  searchWorker = getWorker();\r\n\r\n  indexItems(groups: Array<IMenuItem | OperationModel>) {\r\n    const recurse = items => {\r\n      items.forEach(group => {\r\n        if (group.type !== 'group') {\r\n          this.add(group.name, group.description || '', group.id);\r\n        }\r\n        recurse(group.items);\r\n      });\r\n    };\r\n\r\n    recurse(groups);\r\n    this.searchWorker.done();\r\n  }\r\n\r\n  add(title: string, body: string, meta?: T) {\r\n    this.searchWorker.add(title, body, meta);\r\n  }\r\n\r\n  dispose() {\r\n    (this.searchWorker as any).terminate();\r\n    (this.searchWorker as any).dispose();\r\n  }\r\n\r\n  search(q: string) {\r\n    return this.searchWorker.search<T>(q);\r\n  }\r\n\r\n  async toJS() {\r\n    return this.searchWorker.toJS();\r\n  }\r\n\r\n  load(state: any) {\r\n    this.searchWorker.load(state);\r\n  }\r\n\r\n  fromExternalJS(path?: string, exportName?: string) {\r\n    if (path && exportName) {\r\n      this.searchWorker.fromExternalJS(path, exportName);\r\n    }\r\n  }\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/extends\");;","import { SECTION_ATTR } from '../services/MenuStore';\r\nimport styled, { media } from '../styled-components';\r\n\r\nexport const MiddlePanel = styled.div<{ compact?: boolean }>`\r\n  width: calc(100% - ${props => props.theme.rightPanel.width});\r\n  padding: 0 ${props => props.theme.spacing.sectionHorizontal}px;\r\n\r\n  ${({ compact, theme }) =>\r\n    media.lessThan('medium', true)`\r\n    width: 100%;\r\n    padding: ${`${compact ? 0 : theme.spacing.sectionVertical}px ${theme.spacing.sectionHorizontal\r\n      }px`};\r\n  `};\r\n`;\r\n\r\nexport const Section = styled.div.attrs(props => ({\r\n  [SECTION_ATTR]: props.id,\r\n})) <{ underlined?: boolean }>`\r\n  padding: ${props => props.theme.spacing.sectionVertical}px 0;\r\n  position: relative;\r\n\r\n  &:last-child {\r\n    min-height: calc(100vh + 1px);\r\n  }\r\n\r\n  & > &:last-child {\r\n    min-height: initial;\r\n  }\r\n\r\n  ${media.lessThan('medium', true)`\r\n    padding: 0;\r\n  `}\r\n    \r\n    &:not(:last-of-type):after {\r\n      position: absolute;\r\n      bottom: 0;\r\n      width: 100%;\r\n      display: ${({ underlined }) => underlined ? \"block\" : \"none\"};\r\n      content: '';\r\n      border-bottom: 1px solid ${({ theme }) => theme.colors.border.dark};\r\n    }\r\n`;\r\n\r\nexport const RightPanel = styled.div`\r\n  width: ${props => props.theme.rightPanel.width};\r\n  color: ${({ theme }) => theme.rightPanel.textColor};\r\n  background-color: ${props => props.theme.rightPanel.backgroundColor};\r\n  padding: 0 ${props => props.theme.spacing.sectionHorizontal}px;\r\n\r\n  ${media.lessThan('medium', true)`\r\n    width: 100%;\r\n    padding: ${props =>\r\n      `${props.theme.spacing.sectionVertical}px ${props.theme.spacing.sectionHorizontal}px`};\r\n  `};\r\n`;\r\n\r\nexport const DarkRightPanel = styled(RightPanel)`\r\n  background-color: ${props => props.theme.rightPanel.backgroundColor};\r\n`;\r\n\r\nexport const Row = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 0;\r\n\r\n  ${media.lessThan('medium', true)`\r\n    flex-direction: column;\r\n  `};\r\n`;\r\n","import styled, { css, extensionsHook } from '../styled-components';\r\n\r\nconst headerFontSize = {\r\n  1: '1.85714em',\r\n  2: '1.875rem',\r\n  3: '1.27em',\r\n};\r\n\r\nexport const headerCommonMixin = level => css`\r\n  font-family: ${({ theme }) => theme.typography.headings.fontFamily};\r\n  font-weight: ${({ theme }) => theme.typography.headings.fontWeight};\r\n  font-size: ${headerFontSize[level]};\r\n  line-height: ${({ theme }) => theme.typography.headings.lineHeight};\r\n`;\r\n\r\nexport const H1 = styled.h1`\r\n  ${headerCommonMixin(1)};\r\n\r\n  ${extensionsHook('H1')};\r\n`;\r\n\r\nexport const H2 = styled.h2`\r\n  ${headerCommonMixin(2)};\r\n  font-family: ${({ theme }) => theme.typography.fontFamilySecondary};\r\n  color: black;\r\n\r\n  ${extensionsHook('H2')};\r\n`;\r\n\r\nexport const H3 = styled.h2`\r\n  ${headerCommonMixin(3)};\r\n  color: black;\r\n\r\n  ${extensionsHook('H3')};\r\n`;\r\n\r\nexport const RightPanelHeader = styled.h3`\r\n  color: ${({ theme }) => theme.rightPanel.textColor};\r\n  ${extensionsHook('RightPanelHeader')};\r\n  font-weight: 400;\r\n  font-size: 1.25rem;\r\n`;\r\n\r\nexport const UnderlinedHeader = styled.h5`\r\n  margin: 1.6rem 0;\r\n  font-weight: normal;\r\n  font-size: 1rem;\r\n  line-height: 20px;\r\n  font-weight: 600;\r\n\r\n  > span {\r\n    font-weight: 400;\r\n  }\r\n\r\n  ${extensionsHook('UnderlinedHeader')};\r\n`;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/slicedToArray\");;","import * as React from 'react';\r\nimport { createContext } from 'react';\r\n\r\nimport { AppStore } from '../services/';\r\nimport { RedocRawOptions } from '../services/RedocNormalizedOptions';\r\nimport { loadAndBundleSpec } from '../utils';\r\n\r\nexport interface StoreBuilderProps {\r\n  specUrl?: string;\r\n  spec?: object;\r\n  store?: AppStore;\r\n\r\n  options?: RedocRawOptions;\r\n\r\n  onLoaded?: (e?: Error) => void;\r\n\r\n  children: (props: { loading: boolean; store: AppStore | null }) => any;\r\n}\r\n\r\nexport interface StoreBuilderState {\r\n  error?: Error;\r\n  loading: boolean;\r\n  resolvedSpec?: any;\r\n  prevSpec?: any;\r\n  prevSpecUrl?: string;\r\n}\r\n\r\nconst StoreContext = createContext<AppStore | undefined>(undefined);\r\nconst { Provider, Consumer } = StoreContext;\r\nexport { Provider as StoreProvider, Consumer as StoreConsumer, StoreContext };\r\n\r\nexport function StoreBuilder(props: StoreBuilderProps) {\r\n  const { spec, specUrl, options, onLoaded, children } = props;\r\n\r\n  const [resolvedSpec, setResolvedSpec] = React.useState<any>(null);\r\n\r\n  React.useEffect(() => {\r\n    async function load() {\r\n      if (!spec && !specUrl) {\r\n        return undefined;\r\n      }\r\n      setResolvedSpec(null);\r\n      const resolved = await loadAndBundleSpec(spec || specUrl!);\r\n      setResolvedSpec(resolved);\r\n    }\r\n    load();\r\n  }, [spec, specUrl]);\r\n\r\n  const store = React.useMemo(() => {\r\n    if (!resolvedSpec) return null;\r\n    try {\r\n      return new AppStore(resolvedSpec, specUrl, options);\r\n    } catch (e) {\r\n      if (onLoaded) {\r\n        onLoaded(e);\r\n      }\r\n      throw e;\r\n    }\r\n  }, [resolvedSpec, specUrl, options]);\r\n\r\n  React.useEffect(() => {\r\n    if (store && onLoaded) {\r\n      onLoaded();\r\n    }\r\n  }, [store, onLoaded]);\r\n\r\n  return children({\r\n    loading: !store,\r\n    store,\r\n  });\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { StoreContext } from '../components/StoreBuilder';\r\nimport styled, { css } from '../styled-components';\r\n\r\nimport { HistoryService } from '../services';\r\n\r\n// tslint:disable-next-line\r\nexport const linkifyMixin = className => css`\r\n  ${className} {\r\n    cursor: pointer;\r\n    margin-left: -20px;\r\n    padding: 0;\r\n    line-height: 1;\r\n    width: 20px;\r\n    display: inline-block;\r\n    outline: 0;\r\n  }\r\n  ${className}:before {\r\n    content: '';\r\n    width: 15px;\r\n    height: 15px;\r\n    background-size: contain;\r\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBmaWxsPSIjMDEwMTAxIiBkPSJNNDU5LjcgMjMzLjRsLTkwLjUgOTAuNWMtNTAgNTAtMTMxIDUwLTE4MSAwIC03LjktNy44LTE0LTE2LjctMTkuNC0yNS44bDQyLjEtNDIuMWMyLTIgNC41LTMuMiA2LjgtNC41IDIuOSA5LjkgOCAxOS4zIDE1LjggMjcuMiAyNSAyNSA2NS42IDI0LjkgOTAuNSAwbDkwLjUtOTAuNWMyNS0yNSAyNS02NS42IDAtOTAuNSAtMjQuOS0yNS02NS41LTI1LTkwLjUgMGwtMzIuMiAzMi4yYy0yNi4xLTEwLjItNTQuMi0xMi45LTgxLjYtOC45bDY4LjYtNjguNmM1MC01MCAxMzEtNTAgMTgxIDBDNTA5LjYgMTAyLjMgNTA5LjYgMTgzLjQgNDU5LjcgMjMzLjR6TTIyMC4zIDM4Mi4ybC0zMi4yIDMyLjJjLTI1IDI0LjktNjUuNiAyNC45LTkwLjUgMCAtMjUtMjUtMjUtNjUuNiAwLTkwLjVsOTAuNS05MC41YzI1LTI1IDY1LjUtMjUgOTAuNSAwIDcuOCA3LjggMTIuOSAxNy4yIDE1LjggMjcuMSAyLjQtMS40IDQuOC0yLjUgNi44LTQuNWw0Mi4xLTQyYy01LjQtOS4yLTExLjYtMTgtMTkuNC0yNS44IC01MC01MC0xMzEtNTAtMTgxIDBsLTkwLjUgOTAuNWMtNTAgNTAtNTAgMTMxIDAgMTgxIDUwIDUwIDEzMSA1MCAxODEgMGw2OC42LTY4LjZDMjc0LjYgMzk1LjEgMjQ2LjQgMzkyLjMgMjIwLjMgMzgyLjJ6Ii8+PC9zdmc+Cg==');\r\n    opacity: 0.5;\r\n    visibility: hidden;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  h1:hover > ${className}::before, h2:hover > ${className}::before, ${className}:hover::before {\r\n    visibility: visible;\r\n  }\r\n`;\r\n\r\nconst isModifiedEvent = event =>\r\n  !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\r\n\r\nexport function Link(props: { to: string; className?: string; children?: any }) {\r\n  const store = React.useContext(StoreContext);\r\n  const clickHandler = React.useCallback(\r\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\r\n      if (!store) return;\r\n      navigate(store.menu.history, event, props.to);\r\n    },\r\n    [store],\r\n  );\r\n\r\n  if (!store) return null;\r\n\r\n  return (\r\n    <a\r\n      className={props.className}\r\n      href={store!.menu.history.linkForId(props.to)}\r\n      onClick={clickHandler}\r\n      aria-label={props.to}\r\n    >\r\n      {props.children}\r\n    </a>\r\n  );\r\n}\r\n\r\nfunction navigate(history: HistoryService, event: React.MouseEvent<HTMLAnchorElement>, to: string) {\r\n  if (\r\n    !event.defaultPrevented && // onClick prevented default\r\n    event.button === 0 && // ignore everything but left clicks\r\n    !isModifiedEvent(event) // ignore clicks with modifier keys\r\n  ) {\r\n    event.preventDefault();\r\n    history.replace(to);\r\n  }\r\n}\r\n\r\nconst StyledShareLink = styled(Link)`\r\n  ${linkifyMixin('&')};\r\n`;\r\n\r\nexport function ShareLink(props: { to: string }) {\r\n  return <StyledShareLink to={props.to} />;\r\n}\r\n","import * as React from 'react';\r\nimport styled from '../styled-components';\r\n\r\nconst directionMap = {\r\n  left: '90deg',\r\n  right: '-90deg',\r\n  up: '-180deg',\r\n  down: '0',\r\n};\r\n\r\nclass IntShelfIcon extends React.PureComponent<{\r\n  className?: string;\r\n  float?: 'left' | 'right';\r\n  size?: string;\r\n  color?: string;\r\n  direction: 'left' | 'right' | 'up' | 'down';\r\n  style?: React.CSSProperties;\r\n}> {\r\n  render() {\r\n    return (\r\n      <svg\r\n        className={this.props.className}\r\n        style={this.props.style}\r\n        version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        x=\"0px\"\r\n        y=\"0px\"\r\n        width=\"11px\" \r\n        height=\"6.3px\" \r\n        viewBox=\"0 0 11 6.3\"\r\n      >\r\n       <path d=\"M0,0.5c0-0.1,0.1-0.3,0.2-0.4c0.2-0.2,0.5-0.2,0.7,0L5.5,5l4.6-4.9c0.2-0.2,0.5-0.2,0.7,0c0.2,0.2,0.2,0.5,0,0.7l-5,5.3C5.8,6.2,5.6,6.3,5.5,6.3S5.2,6.2,5.1,6.1l-5-5.3C0,0.7,0,0.6,0,0.5z\"/>\r\n      </svg>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport const ShelfIcon = styled(IntShelfIcon)`\r\n  height: ${props => props.size || '18px'};\r\n  width: ${props => props.size || '18px'};\r\n  vertical-align: middle;\r\n  float: ${props => props.float || ''};\r\n  transition: transform 0.2s ease-out;\r\n  transform: rotateZ(${props => directionMap[props.direction || 'down']});\r\n\r\n  polygon, path {\r\n    fill: ${({ color, theme }) =>\r\n    (color && theme.colors.responses[color] && theme.colors.responses[color].color) || color};\r\n  }\r\n`;\r\n\r\nexport const Badge = styled.span<{ type: string }>`\r\n  display: inline-block;\r\n  padding: 2px 8px;\r\n  margin: 0;\r\n  background-color: ${props => props.theme.colors[props.type].main};\r\n  color: ${props => props.theme.colors[props.type].contrastText};\r\n  font-size: ${props => props.theme.typography.code.fontSize};\r\n  vertical-align: middle;\r\n  line-height: 1.6;\r\n  border-radius: 4px;\r\n  font-weight: ${({ theme }) => theme.typography.fontWeightBold};\r\n  font-size: 12px;\r\n  + span[type] {\r\n    margin-left: 4px;\r\n  }\r\n`;\r\n","import { css } from '../styled-components';\r\n\r\nexport const deprecatedCss = css`\r\n  text-decoration: line-through;\r\n  color: #707070;\r\n`;\r\n","import styled, { extensionsHook, media } from '../styled-components';\r\nimport { deprecatedCss } from './mixins';\r\n\r\nexport const PropertiesTableCaption = styled.caption`\r\n  text-align: right;\r\n  font-size: 0.9em;\r\n  font-weight: normal;\r\n  color: ${props => props.theme.colors.text.secondary};\r\n`;\r\n\r\nexport const PropertyCell = styled.td<{ kind?: string }>`\r\n  border-left: 1px solid ${props => props.theme.schema.linesColor};\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  padding: 10px 10px 10px 0;\r\n\r\n  ${media.lessThan('small')`\r\n    display: block;\r\n    overflow: hidden;\r\n  `}\r\n\r\n  tr:first-of-type > &,\r\n  tr.last > & {\r\n    border-left-width: 0;\r\n    background-position: top left;\r\n    background-repeat: no-repeat;\r\n    background-size: 1px 100%;\r\n  }\r\n\r\n  tr:first-of-type > & {\r\n    background-image: linear-gradient(\r\n      to bottom,\r\n      transparent 0%,\r\n      transparent 22px,\r\n      ${props => props.theme.schema.linesColor} 22px,\r\n      ${props => props.theme.schema.linesColor} 100%\r\n    );\r\n  }\r\n\r\n  tr.last > & {\r\n    background-image: linear-gradient(\r\n      to bottom,\r\n      ${props => props.theme.schema.linesColor} 0%,\r\n      ${props => props.theme.schema.linesColor} 22px,\r\n      transparent 22px,\r\n      transparent 100%\r\n    );\r\n  }\r\n\r\n  tr.last + tr > & {\r\n    border-left-color: transparent;\r\n  }\r\n\r\n  tr.last:first-child > & {\r\n    background: none;\r\n    border-left-color: transparent;\r\n  }\r\n`;\r\n\r\nexport const PropertyCellWithInner = styled(PropertyCell)`\r\n  padding: 0;\r\n`;\r\n\r\nexport const PropertyNameCell = styled(PropertyCell)`\r\n  vertical-align: top;\r\n  line-height: 1.2;\r\n  white-space: nowrap;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  font-family: ${props => props.theme.typography.fontFamily};\r\n\r\n  &.deprecated {\r\n    ${deprecatedCss};\r\n  }\r\n\r\n  ${({ kind }) => (kind !== 'field' ? 'font-style: italic' : '')};\r\n\r\n  ${extensionsHook('PropertyNameCell')};\r\n`;\r\n\r\nexport const PropertyDetailsCell = styled.td`\r\n  border-bottom: 1px solid ${props => props.theme.colors.gray[200]};\r\n  padding: 10px 0;\r\n  width: ${props => props.theme.schema.defaultDetailsWidth};\r\n  box-sizing: border-box;\r\n\r\n  tr.expanded & {\r\n    border-bottom: none;\r\n  }\r\n\r\n  ${media.lessThan('small')`\r\n    padding: 0 20px;\r\n    border-bottom: none;\r\n    border-left: 1px solid ${props => props.theme.schema.linesColor};\r\n\r\n    tr.last > & {\r\n      border-left: none;\r\n    }\r\n  `}\r\n\r\n  ${extensionsHook('PropertyDetailsCell')};\r\n`;\r\n\r\nexport const PropertyBullet = styled.span`\r\n  color: ${props => props.theme.schema.linesColor};\r\n  font-family: ${props => props.theme.typography.code.fontFamily};\r\n  margin-right: 10px;\r\n\r\n  &::before {\r\n    content: '';\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 10px;\r\n    height: 1px;\r\n    background: ${props => props.theme.schema.linesColor};\r\n  }\r\n\r\n  &::after {\r\n    content: '';\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 1px;\r\n    background: ${props => props.theme.schema.linesColor};\r\n    height: 7px;\r\n  }\r\n`;\r\n\r\nexport const InnerPropertiesWrap = styled.div`\r\n  padding: ${({ theme }) => theme.schema.nestingSpacing};\r\n`;\r\n\r\nexport const PropertiesTable = styled.table`\r\n  border-collapse: separate;\r\n  border-radius: 3px;\r\n  font-size: ${props => props.theme.typography.fontSize};\r\n\r\n  border-spacing: 0;\r\n  width: 100%;\r\n\r\n  > tr {\r\n    vertical-align: middle;\r\n  }\r\n\r\n  ${media.lessThan('small')`\r\n    display: block;\r\n    > tr, > tbody > tr {\r\n      display: block;\r\n    }\r\n  `}\r\n\r\n  ${media.lessThan('small', false, ' and (-ms-high-contrast:none)')`\r\n    td {\r\n      float: left;\r\n      width: 100%;\r\n    }\r\n  `}\r\n\r\n  &\r\n    ${InnerPropertiesWrap},\r\n    &\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap},\r\n    &\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap} {\r\n    margin: ${({ theme }) => theme.schema.nestingSpacing};\r\n    margin-right: 0;\r\n    background: ${({ theme }) => theme.schema.nestedBackground};\r\n  }\r\n\r\n  &\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap},\r\n    &\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap},\r\n    &\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap}\r\n    ${InnerPropertiesWrap} {\r\n    background: #ffffff;\r\n  }\r\n`;\r\n\r\nexport const RowExecute = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 1rem;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nexport const ExecuteRequest = styled.div`\r\n  background-color: ${({ theme }) => theme.rightPanelInner.backgroundColor};\r\n  padding: 20px;\r\n`; \r\n\r\nexport const RowAuthorize = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 1.6rem ${({ theme }) => theme.spacing.unit * 4}px;\r\n  border-bottom: ${({ theme }) => theme.colors.gray[200]};\r\n`;","import styled from '../styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const OneOfList = styled.div`\r\n  margin: 0 0 3px 0;\r\n  display: inline-block;\r\n`;\r\n\r\nexport const OneOfLabel = styled.span`\r\n  font-size: 0.9em;\r\n  margin-right: 10px;\r\n  color: ${props => props.theme.colors.primary.main};\r\n  font-family: ${props => props.theme.typography.headings.fontFamily};\r\n}\r\n`;\r\n\r\nexport const OneOfButton = styled.button<{ active: boolean }>`\r\n  display: inline-block;\r\n  margin-right: 10px;\r\n  margin-bottom: 5px;\r\n  font-size: 0.8em;\r\n  cursor: pointer;\r\n  border: 1px solid ${props => props.theme.colors.primary.main};\r\n  padding: 2px 10px;\r\n  line-height: 1.5em;\r\n  outline: none;\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px ${props => props.theme.colors.primary.main};\r\n  }\r\n\r\n  ${props => {\r\n    if (props.active) {\r\n      return `\r\n      color: white;\r\n      background-color: ${props.theme.colors.primary.main};\r\n      &:focus {\r\n        box-shadow: none;\r\n        background-color: ${darken(0.15, props.theme.colors.primary.main)};\r\n      }\r\n      `;\r\n    } else {\r\n      return `\r\n        color: ${props.theme.colors.primary.main};\r\n        background-color: white;\r\n      `;\r\n    }\r\n  }}\r\n`;\r\n\r\nexport const ArrayOpenningLabel = styled.div`\r\n  font-size: 0.9em;\r\n  font-family: ${props => props.theme.typography.code.fontFamily};\r\n  &::after {\r\n    content: ' [';\r\n  }\r\n`;\r\n\r\nexport const ArrayClosingLabel = styled.div`\r\n  font-size: 0.9em;\r\n  font-family: ${props => props.theme.typography.code.fontFamily};\r\n  &::after {\r\n    content: ']';\r\n  }\r\n`;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@redocly/react-dropdown-aria\");;","import Dropdown from '@redocly/react-dropdown-aria';\r\n\r\nimport styled from '../styled-components';\r\n\r\nexport interface DropdownOption {\r\n  idx: number;\r\n  value: string;\r\n}\r\n\r\nexport interface DropdownProps {\r\n  options: DropdownOption[];\r\n  value: string;\r\n  onChange: (option: DropdownOption) => void;\r\n  ariaLabel: string;\r\n}\r\n\r\nexport const StyledDropdown = styled(Dropdown)`\r\n  && {\r\n    box-sizing: border-box;\r\n    min-width: 100px;\r\n    outline: none;\r\n    display: inline-block;\r\n    border-radius: 2px;\r\n    border: 1px solid rgba(38, 50, 56, 0.5);\r\n    vertical-align: bottom;\r\n    padding: 2px 0px 2px 6px;\r\n    position: relative;\r\n    width: auto;\r\n    background: white;\r\n    color: #263238;\r\n    font-family: ${props => props.theme.typography.headings.fontFamily};\r\n    font-size: 0.929em;\r\n    line-height: 1.5em;\r\n    cursor: pointer;\r\n    transition: border 0.25s ease, color 0.25s ease, box-shadow 0.25s ease;\r\n    &:hover,\r\n    &:focus-within {\r\n      border: 1px solid ${props => props.theme.colors.primary.main};\r\n      color: ${props => props.theme.colors.primary.main};\r\n      box-shadow: 0px 0px 0px 1px ${props => props.theme.colors.primary.main};\r\n    }\r\n    .dropdown-selector {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      padding: 0;\r\n      height: auto;\r\n      padding-right: 10px;\r\n      position: relative;\r\n      margin-bottom: 5px;\r\n    }\r\n    .dropdown-selector-value {\r\n      font-family: ${props => props.theme.typography.headings.fontFamily};\r\n      position: relative;\r\n      font-size: 0.929em;\r\n      width: 100%;\r\n      line-height: 1;\r\n      vertical-align: middle;\r\n      color: #263238;\r\n      left: 0;\r\n      transition: color 0.25s ease, text-shadow 0.25s ease;\r\n    }\r\n    .dropdown-arrow {\r\n      position: absolute;\r\n      right: 0;\r\n      top: calc(50% - 4.5px);\r\n      transform-origin: center center;\r\n      width: 12px;\r\n      height: 7px;\r\n      box-sizing: border-box;\r\n      background-image: url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='11px' height='6.2px' viewBox='0 0 11 6.2' style='enable-background:new 0 0 11 6.2;' xml:space='preserve'%3E%3Cpath style='fill:%23FFFFFF;' d='M5.5,6.2L5.5,6.2c-0.1,0-0.3-0.1-0.4-0.2l-5-5.3c-0.2-0.2-0.2-0.5,0-0.7c0.2-0.2,0.5-0.2,0.7,0L5.5,5 l4.6-4.9c0.2-0.2,0.5-0.2,0.7,0c0.2,0.2,0.2,0.5,0,0.7l-5,5.3C5.8,6.2,5.6,6.2,5.5,6.2z'/%3E%3C/svg%3E\");\r\n      background-position: center center;\r\n      background-repeat: no-repeat;\r\n      background-size: contain;\r\n      transition: transform 300ms ease;\r\n\r\n      svg {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    &[open] {\r\n      .dropdown-arrow {\r\n        transform: rotate(-180deg);\r\n      }\r\n    }\r\n\r\n    .dropdown-selector-content {\r\n      position: absolute;\r\n      margin-top: 2px;\r\n      left: -2px;\r\n      right: 0;\r\n\r\n      z-index: 10;\r\n      min-width: 100px;\r\n\r\n      background: white;\r\n      border: 1px solid rgba(38, 50, 56, 0.2);\r\n      box-shadow: 0px 2px 4px 0px rgba(34, 36, 38, 0.12), 0px 2px 10px 0px rgba(34, 36, 38, 0.08);\r\n\r\n      max-height: 220px;\r\n      overflow: auto;\r\n    }\r\n\r\n    .dropdown-option {\r\n      font-size: 0.9em;\r\n      color: #263238;\r\n      cursor: pointer;\r\n      padding: 0.4em;\r\n      background-color: #ffffff;\r\n\r\n      &[aria-selected='true'] {\r\n        background-color: rgba(0, 0, 0, 0.05);\r\n      }\r\n\r\n      &:hover {\r\n        background-color: rgba(38, 50, 56, 0.12);\r\n      }\r\n    }\r\n    input {\r\n      cursor: pointer;\r\n      height: 1px;\r\n      background-color: transparent;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SimpleDropdown = styled(StyledDropdown)`\r\n  && {\r\n    margin-left: 10px;\r\n    text-transform: none;\r\n    font-size: 0.969em;\r\n\r\n    font-size: 1em;\r\n    border: none;\r\n    padding: 0 1.2em 0 0;\r\n    background: transparent;\r\n\r\n    &:hover,\r\n    &:focus-within {\r\n      border: none;\r\n      box-shadow: none;\r\n      .dropdown-selector-value {\r\n        color: ${props => props.theme.colors.primary.main};\r\n        text-shadow: 0px 0px 0px ${props => props.theme.colors.primary.main};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const MimeLabel = styled.span`\r\n  margin-left: 10px;\r\n  text-transform: none;\r\n  font-size: 0.929em;\r\n  color: black;\r\n`;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-tabs\");;","import { darken } from 'polished';\r\nimport { Tabs as ReactTabs } from 'react-tabs';\r\n\r\nimport styled from '../styled-components';\r\n\r\nexport { Tab, TabList, TabPanel } from 'react-tabs';\r\n\r\nexport const Tabs = styled(ReactTabs)`\r\n  > ul {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    margin: 0 -5px;\r\n\r\n    > li {\r\n      padding: 5px 20px;\r\n      display: inline-block;\r\n\r\n      background-color: ${({ theme }) => theme.rightPanel.backgroundInner};\r\n      border-bottom: 1px solid rgba(0, 0, 0, 0.5);\r\n      cursor: pointer;\r\n      text-align: center;\r\n      outline: none;\r\n      color: ${({ theme }) => darken(theme.colors.tonalOffset, theme.rightPanel.textColor)};\r\n      margin: ${({ theme }) => `${theme.spacing.unit}px ${theme.spacing.unit}px ${theme.spacing.unit*2}px ${theme.spacing.unit}px`};\r\n      border: 1px solid ${({ theme }) => darken(0.05, theme.codeBlock.backgroundColor)};\r\n      border-radius: 20px;\r\n      min-width: 60px;\r\n      font-size: 0.875rem;\r\n      font-weight: 400;\r\n\r\n      &.react-tabs__tab--selected {\r\n        color: ${props => props.theme.colors.text.primary};\r\n        background: ${({ theme }) => theme.rightPanel.textColor};\r\n        &:focus {\r\n          outline: auto;\r\n        }\r\n      }\r\n\r\n      &.tab-success {\r\n        color: ${props => props.theme.colors.responses.success.tabTextColor};\r\n      }\r\n\r\n      &.tab-redirect {\r\n        color: ${props => props.theme.colors.responses.redirect.tabTextColor};\r\n      }\r\n\r\n      &.tab-info {\r\n        color: ${props => props.theme.colors.responses.info.tabTextColor};\r\n      }\r\n\r\n      &.tab-error {\r\n        color: ${props => props.theme.colors.responses.error.tabTextColor};\r\n      }\r\n    }\r\n  }\r\n  > .react-tabs__tab-panel {\r\n    background: ${({ theme }) => theme.codeBlock.backgroundColor};\r\n    & > div,\r\n    & > pre {\r\n      padding: ${props => props.theme.spacing.unit * 4}px;\r\n      margin: 0;\r\n    }\r\n\r\n    & > div > pre {\r\n      padding: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SmallTabs = styled(Tabs)`\r\n  > ul {\r\n    display: block;\r\n    > li {\r\n      padding: 2px 5px;\r\n      min-width: auto;\r\n      margin: 0 15px 0 0;\r\n      font-size: 13px;\r\n      font-weight: normal;\r\n      border-bottom: 1px dashed;\r\n      color: ${({ theme }) => darken(theme.colors.tonalOffset, theme.rightPanel.textColor)};\r\n      border-radius: 0;\r\n      background: none;\r\n\r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n\r\n      &.react-tabs__tab--selected {\r\n        color: ${({ theme }) => theme.rightPanel.textColor};\r\n        background: none;\r\n      }\r\n    }\r\n  }\r\n  > .react-tabs__tab-panel {\r\n    & > div,\r\n    & > pre {\r\n      padding: ${props => props.theme.spacing.unit * 2}px 0;\r\n    }\r\n  }\r\n`;\r\n","import styled, { extensionsHook } from '../styled-components';\r\n\r\nexport const PrismDiv = styled.div`\r\n  /**\r\n  * Based on prism-dark.css\r\n  */\r\n\r\n  code[class*='language-'],\r\n  pre[class*='language-'] {\r\n    /* color: white;\r\n    background: none; */\r\n    text-shadow: 0 -0.1em 0.2em black;\r\n    text-align: left;\r\n    white-space: pre;\r\n    word-spacing: normal;\r\n    word-break: normal;\r\n    word-wrap: normal;\r\n    line-height: 1.5;\r\n\r\n    -moz-tab-size: 4;\r\n    -o-tab-size: 4;\r\n    tab-size: 4;\r\n\r\n    -webkit-hyphens: none;\r\n    -moz-hyphens: none;\r\n    -ms-hyphens: none;\r\n    hyphens: none;\r\n  }\r\n\r\n  @media print {\r\n    code[class*='language-'],\r\n    pre[class*='language-'] {\r\n      text-shadow: none;\r\n    }\r\n  }\r\n\r\n  /* Code blocks */\r\n  pre[class*='language-'] {\r\n    padding: 1em;\r\n    margin: 0.5em 0;\r\n    overflow: auto;\r\n  }\r\n\r\n  .token.comment,\r\n  .token.prolog,\r\n  .token.doctype,\r\n  .token.cdata {\r\n    color: hsl(30, 20%, 50%);\r\n  }\r\n\r\n  .token.punctuation {\r\n    opacity: 0.7;\r\n  }\r\n\r\n  .namespace {\r\n    opacity: 0.7;\r\n  }\r\n\r\n  .token.property,\r\n  .token.tag,\r\n  .token.number,\r\n  .token.constant,\r\n  .token.symbol {\r\n    color: #DBD5F6;\r\n  }\r\n\r\n  .token.boolean {\r\n    color: #e64441;\r\n  }\r\n\r\n  .token.selector,\r\n  .token.attr-name,\r\n  .token.string,\r\n  .token.char,\r\n  .token.builtin,\r\n  .token.inserted {\r\n    color: #66CCCC;\r\n    & + a,\r\n    & + a:visited {\r\n      color: #4ed2ba;\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n\r\n  .token.property.string {\r\n    color: white;\r\n  }\r\n\r\n  .token.operator,\r\n  .token.entity,\r\n  .token.url,\r\n  .token.variable {\r\n    color: hsl(40, 90%, 60%);\r\n  }\r\n\r\n  .token.atrule,\r\n  .token.attr-value,\r\n  .token.keyword {\r\n    color: hsl(350, 40%, 70%);\r\n  }\r\n\r\n  .token.regex,\r\n  .token.important {\r\n    color: #e90;\r\n  }\r\n\r\n  .token.important,\r\n  .token.bold {\r\n    font-weight: bold;\r\n  }\r\n  .token.italic {\r\n    font-style: italic;\r\n  }\r\n\r\n  .token.entity {\r\n    cursor: help;\r\n  }\r\n\r\n  .token.deleted {\r\n    color: red;\r\n  }\r\n\r\n  ${extensionsHook('Prism')};\r\n`;\r\n","import styled from '../styled-components';\r\nimport { PrismDiv } from './PrismDiv';\r\n\r\nexport const SampleControls = styled.div`\r\n  opacity: 0.7;\r\n  transition: opacity 0.3s ease;\r\n  text-align: right;\r\n  &:focus-within {\r\n    opacity: 1;\r\n  }\r\n  > button {\r\n    background-color: transparent;\r\n    border: 0;\r\n    color: ${({ theme }) => theme.rightPanel.textColor};\r\n    padding: 2px 10px;\r\n    margin-left: 1rem;\r\n    font-family: ${({ theme }) => theme.typography.fontFamily};\r\n    font-size: 0.875rem;\r\n    text-decoration: underline;\r\n    line-height: ${({ theme }) => theme.typography.lineHeight};\r\n    cursor: pointer;\r\n    outline: 0;\r\n    transition: opacity 300ms ease;\r\n\r\n    :hover,\r\n    :focus {\r\n      background: transparent;\r\n      text-decoration: none;\r\n      opacity: 0.8;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SampleControlsWrap = styled.div`\r\n  &:hover ${SampleControls} {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const StyledPre = styled(PrismDiv.withComponent('pre'))`\r\n  font-family: ${props => props.theme.typography.code.fontFamily};\r\n  font-size: ${props => props.theme.typography.code.fontSize};\r\n  overflow-x: auto;\r\n  margin: 0;\r\n\r\n  white-space: ${({ theme }) => (theme.typography.code.wrap ? 'pre-wrap' : 'pre')};\r\n`;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"perfect-scrollbar\");;","import * as React from 'react';\r\n\r\nimport PerfectScrollbarType, * as PerfectScrollbarNamespace from 'perfect-scrollbar';\r\nimport psStyles from 'perfect-scrollbar/css/perfect-scrollbar.css';\r\n\r\nimport { OptionsContext } from '../components/OptionsProvider';\r\nimport styled, { createGlobalStyle } from '../styled-components';\r\n\r\n/*\r\n * perfect scrollbar umd bundle uses exports assignment while module uses default export\r\n * so when bundled with webpack default export works but with jest it crashes\r\n * That's why the following ugly fix is required\r\n */\r\nconst PerfectScrollbarConstructor =\r\n  PerfectScrollbarNamespace.default || (PerfectScrollbarNamespace as any as PerfectScrollbarType);\r\n\r\nconst PSStyling = createGlobalStyle`${psStyles && psStyles.toString()}`;\r\n\r\nconst StyledScrollWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport interface PerfectScrollbarProps {\r\n  options?: PerfectScrollbarType.Options;\r\n  className?: string;\r\n  updateFn?: (fn) => void;\r\n}\r\n\r\nexport class PerfectScrollbar extends React.Component<PerfectScrollbarProps> {\r\n  private _container: HTMLElement;\r\n  private inst: PerfectScrollbarType;\r\n\r\n  componentDidMount() {\r\n    const offset = (this._container.parentElement && this._container.parentElement.scrollTop) || 0;\r\n    this.inst = new PerfectScrollbarConstructor(this._container, this.props.options || {});\r\n    if (this._container.scrollTo) {\r\n      this._container.scrollTo(0, offset);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.inst.update();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.inst.destroy();\r\n  }\r\n\r\n  handleRef = ref => {\r\n    this._container = ref;\r\n  };\r\n\r\n  render() {\r\n    const { children, className, updateFn } = this.props;\r\n\r\n    if (updateFn) {\r\n      updateFn(this.componentDidUpdate.bind(this));\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <PSStyling />\r\n        <StyledScrollWrapper className={`scrollbar-container ${className}`} ref={this.handleRef}>\r\n          {children}\r\n        </StyledScrollWrapper>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport function PerfectScrollbarWrap(\r\n  props: PerfectScrollbarProps & { children: JSX.Element[] | JSX.Element },\r\n) {\r\n  return (\r\n    <OptionsContext.Consumer>\r\n      {options =>\r\n        !options.nativeScrollbars ? (\r\n          <PerfectScrollbar {...props}>{props.children}</PerfectScrollbar>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              overflow: 'auto',\r\n              overscrollBehavior: 'contain',\r\n              msOverflowStyle: '-ms-autohiding-scrollbar',\r\n            }}\r\n          >\r\n            {props.children}\r\n          </div>\r\n        )\r\n      }\r\n    </OptionsContext.Consumer>\r\n  );\r\n}\r\n","import styled from '../styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const RightPanelButton = styled.button`\r\n      padding: 0 20px;\r\n      height: 40px;\r\n      display: inline-flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-bottom: 1px solid rgba(0, 0, 0, 0.5);\r\n      cursor: pointer;\r\n      text-align: center;\r\n      outline: none;\r\n      border: 1px solid ${({ theme }) => darken(0.05, theme.codeBlock.backgroundColor)};\r\n      border-radius: 20px;\r\n      min-width: 60px;\r\n      font-size: 1rem;\r\n      font-weight: 400;\r\n      width: 100%;\r\n      color: ${props => props.theme.colors.text.fixed};\r\n      background: ${({ theme }) => theme.rightPanel.textColor};\r\n      transition: color 300ms ease;\r\n\r\n      &[disabled] {\r\n        pointer-events: none;\r\n        opacity: 0.7;\r\n      }\r\n\r\n      &:hover {\r\n        color: ${props => props.theme.colors.primary.main};;\r\n      }\r\n\r\n      &.primary {\r\n        background: ${({ theme }) => theme.typography.code.backgroundColor};\r\n\r\n        &:hover {\r\n          color: ${props => props.theme.colors.success.main};;\r\n        }\r\n      }\r\n     \r\n      &:focus, &:active {\r\n          outline: auto;\r\n        }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n      padding: 20px;\r\n      height: 40px;\r\n      display: inline-flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      cursor: pointer;\r\n      text-align: center;\r\n      outline: none !important;\r\n      border: 1px solid ${({ theme }) => theme.colors.secondary.main};\r\n      border-radius: 25px;\r\n      min-width: 60px;\r\n      font-size: 1rem;\r\n      font-weight: 400;\r\n      color: ${({ theme }) => theme.colors.secondary.contrastText};\r\n      background: ${({ theme }) => theme.colors.secondary.main};\r\n      transition: all 300ms ease;\r\n\r\n      &:hover {\r\n        background-color: transparent;\r\n        color: ${({ theme }) => theme.colors.secondary.main};\r\n      }\r\n\r\n      &[disabled] {\r\n        pointer-events: none;\r\n        opacity: 0.6;\r\n      }\r\n\r\n      &.primary {\r\n        background: ${({ theme }) => theme.typography.code.backgroundColor};\r\n        border-color: ${({ theme }) => theme.typography.code.backgroundColor};\r\n      }\r\n\r\n      &.secondary {\r\n        background: ${({ theme }) => theme.colors.secondary.main};\r\n        border-color: ${({ theme }) => theme.colors.secondary.main};\r\n        color: ${({ theme }) => theme.colors.secondary.contrastText};\r\n      }\r\n\r\n      &.outline {\r\n        background-color: transparent;\r\n\r\n        &.secondary {\r\n          border-color: ${({ theme }) => theme.colors.secondary.main};\r\n          color: ${({ theme }) => theme.colors.secondary.main};\r\n        }\r\n\r\n        &:hover {\r\n          &.secondary {\r\n            background-color: ${({ theme }) => theme.colors.secondary.main};\r\n            color: ${({ theme }) => theme.colors.secondary.contrastText};\r\n          }\r\n        }\r\n      }\r\n     \r\n      &:focus, &:active {\r\n          outline: auto;\r\n        }\r\n`;","import styled from '../styled-components';\r\n\r\nexport const CodeArea = styled.textarea`\r\n      padding: 10px 20px;\r\n      outline: none;\r\n      border-radius: 5px;\r\n      min-width: 60px;\r\n      font-size: 0.9em;\r\n      width: 100%;\r\n      line-height: 1.6em;\r\n      color: ${({ theme }) => theme.rightPanelInner.codeBlockText};\r\n      background: ${({ theme }) => theme.rightPanelInner.codeBlock};\r\n     \r\n      &:focus, &:active {\r\n          outline: 1px solid ${({ theme }) => theme.rightPanel.textColor};\r\n        }\r\n`;","import * as React from 'react';\r\nimport styled from '../styled-components';\r\nimport { FunctionComponent } from 'react';\r\n\r\ninterface componentInterface {\r\n  style: object;\r\n  isLocked?: boolean;\r\n}\r\n\r\nexport const IconLock: FunctionComponent<componentInterface> = ({ style, isLocked }) => {\r\n\r\n  return <IconStyled style={{ ...style }}>\r\n    {isLocked ?\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\r\n        <path d=\"M18,9h-8V5c0-2.8-2.2-5-5-5S0,2.2,0,5v2c0,0.6,0.4,1,1,1s1-0.4,1-1V5c0-1.7,1.3-3,3-3s3,1.3,3,3v4c-1.1,0-2,0.9-2,2v7c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2v-7C20,9.9,19.1,9,18,9z M13.3,13.9L13.3,13.9L13,14.1l-0.3-0.1C12.3,13.8,12,13.4,12,13c0-0.6,0.4-1,1-1s1,0.4,1,1C14,13.4,13.7,13.8,13.3,13.9z\" />\r\n      </svg>\r\n      :\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"20px\" viewBox=\"0 0 14 20\">\r\n        <path d=\"M12,9V5c0-2.8-2.2-5-5-5S2,2.2,2,5v4c-1.1,0-2,0.9-2,2v7c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2v-7C14,9.9,13.1,9,12,9z M7.3,13.9L7,14.1l-0.3-0.1C6.3,13.8,6,13.4,6,13c0-0.6,0.4-1,1-1s1,0.4,1,1C8,13.4,7.7,13.8,7.3,13.9z M4,9V5c0-1.7,1.3-3,3-3s3,1.3,3,3v4H4z\" />\r\n      </svg>\r\n    }\r\n  </IconStyled>\r\n}\r\n\r\nconst IconStyled = styled.div`\r\n\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  svg {\r\n    height: 24px;\r\n    width: auto;\r\n  }\r\n\r\n  path {\r\n    fill: ${({ theme }) => theme.colors.text.primary};\r\n  }\r\n`;","import styled from '../styled-components';\r\n\r\nexport const OperationBadge = styled.span.attrs((props: { type: string }) => ({\r\n  className: `operation-type ${props.type}`,\r\n})) <{ type: string }>`\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 10px;\r\n  background-color: #333;\r\n  border-radius: 20px;\r\n  background-repeat: no-repeat;\r\n  background-position: 6px 4px;\r\n  font-size: 0.75rem;\r\n  font-family: ${props => props.theme.typography.fontFamily};\r\n  color: ${props => props.theme.colors.badge.primary};\r\n  margin-right: 10px;\r\n  text-transform: capitalize;\r\n\r\n  &.get {\r\n    background-color: ${props => props.theme.colors.http.get};\r\n  }\r\n\r\n  &.post {\r\n    background-color: ${props => props.theme.colors.http.post};\r\n  }\r\n\r\n  &.put {\r\n    background-color: ${props => props.theme.colors.http.put};\r\n  }\r\n\r\n  &.options {\r\n    background-color: ${props => props.theme.colors.http.options};\r\n  }\r\n\r\n  &.patch {\r\n    background-color: ${props => props.theme.colors.http.patch};\r\n  }\r\n\r\n  &.delete {\r\n    background-color: ${props => props.theme.colors.http.delete};\r\n  }\r\n\r\n  &.basic {\r\n    background-color: ${props => props.theme.colors.http.basic};\r\n  }\r\n\r\n  &.link {\r\n    background-color: ${props => props.theme.colors.http.link};\r\n  }\r\n\r\n  &.head {\r\n    background-color: ${props => props.theme.colors.http.head};\r\n  }\r\n\r\n  &.hook {\r\n    background-color: ${props => props.theme.colors.primary.main};\r\n  }\r\n`;","import * as React from 'react';\r\n\r\nimport { DropdownProps, MimeLabel, SimpleDropdown } from '../../common-elements/dropdown';\r\n\r\nexport interface DropdownOrLabelProps extends DropdownProps {\r\n  Label?: React.ComponentClass;\r\n  Dropdown?: React.ComponentClass;\r\n}\r\n\r\nexport function DropdownOrLabel(props: DropdownOrLabelProps): JSX.Element {\r\n  const { Label = MimeLabel, Dropdown = SimpleDropdown } = props;\r\n  if (props.options.length === 1) {\r\n    return <Label>{props.options[0].value}</Label>;\r\n  }\r\n  return <Dropdown {...props} searchable={false} />;\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"dompurify\");;","import { headerCommonMixin, linkifyMixin } from '../../common-elements';\r\nimport { PrismDiv } from '../../common-elements/PrismDiv';\r\nimport styled, { css, extensionsHook, ResolvedThemeInterface } from '../../styled-components';\r\n\r\nimport { StyledComponent } from 'styled-components';\r\n\r\nexport const linksCss = css`\r\n  a {\r\n    text-decoration: underline;\r\n    color: ${props => props.theme.typography.links.color};\r\n\r\n    &:visited {\r\n      color: ${props => props.theme.typography.links.visited};\r\n    }\r\n\r\n    &:hover {\r\n      text-decoration: none;\r\n      color: ${props => props.theme.typography.links.hover};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StyledMarkdownBlock = styled(\r\n  PrismDiv as StyledComponent<\r\n    'div',\r\n    ResolvedThemeInterface,\r\n    { compact?: boolean; inline?: boolean }\r\n  >,\r\n)`\r\n  font-family: ${props => props.theme.typography.fontFamily};\r\n  font-weight: ${props => props.theme.typography.fontWeightRegular};\r\n  line-height: ${props => props.theme.typography.lineHeight};\r\n\r\n  p {\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  ${({ compact }) =>\r\n    compact &&\r\n    `\r\n    p:first-child {\r\n      margin-top: 0;\r\n    }\r\n    p:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  `}\r\n\r\n  ${({ inline }) =>\r\n    inline &&\r\n    ` p {\r\n    display: inline-block;\r\n  }`}\r\n\r\n  h1 {\r\n    ${headerCommonMixin(1)};\r\n    color: ${props => props.theme.colors.primary.main};\r\n    margin-top: 0;\r\n  }\r\n\r\n  h2 {\r\n    ${headerCommonMixin(2)};\r\n    color: ${props => props.theme.colors.text.primary};\r\n  }\r\n\r\n  code {\r\n    color: ${({ theme }) => theme.typography.code.color};\r\n    background-color: ${({ theme }) => theme.typography.code.backgroundColor};\r\n    font-family: ${props => props.theme.typography.code.fontFamily};\r\n    border: none;\r\n    border-radius: 20px;\r\n    padding: ${({ theme }) => theme.spacing.unit*1.5}px ${({ theme }) => theme.spacing.unit*3}px;\r\n    font-size: ${props => props.theme.typography.code.fontSize};\r\n    font-weight: ${({ theme }) => theme.typography.code.fontWeight};\r\n    word-break: break-word;\r\n  }\r\n\r\n  pre {\r\n    font-family: ${props => props.theme.typography.code.fontFamily};\r\n    white-space: ${({ theme }) => (theme.typography.code.wrap ? 'pre-wrap' : 'pre')};\r\n    background-color: ${({ theme }) => theme.codeBlock.backgroundColor};\r\n    color: white;\r\n    padding: ${props => props.theme.spacing.unit * 4}px;\r\n    overflow-x: auto;\r\n    line-height: normal;\r\n    border-radius: 0px;\r\n    border: 1px solid rgba(38, 50, 56, 0.1);\r\n\r\n    code {\r\n      background-color: transparent;\r\n      color: white;\r\n      padding: 0;\r\n\r\n      &:before,\r\n      &:after {\r\n        content: none;\r\n      }\r\n    }\r\n  }\r\n\r\n  blockquote {\r\n    margin: 0;\r\n    margin-bottom: 1em;\r\n    padding: 0 15px;\r\n    color: #777;\r\n    border-left: 4px solid #ddd;\r\n  }\r\n\r\n  img {\r\n    max-width: 100%;\r\n    box-sizing: content-box;\r\n  }\r\n\r\n  ul,\r\n  ol {\r\n    padding-left: 2em;\r\n    margin: 0;\r\n    margin-bottom: 1em;\r\n\r\n    ul,\r\n    ol {\r\n      margin-bottom: 0;\r\n      margin-top: 0;\r\n    }\r\n  }\r\n  \r\n  ul {\r\n    li {\r\n      padding-top: 7px;\r\n      padding-bottom: 7px;\r\n    }\r\n  }\r\n\r\n  table {\r\n    display: block;\r\n    width: 100%;\r\n    overflow: auto;\r\n    word-break: normal;\r\n    word-break: keep-all;\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n    margin-top: 1.5em;\r\n    margin-bottom: 1.5em;\r\n  }\r\n\r\n  table tr {\r\n    background-color: #fff;\r\n    border-top: 1px solid #ccc;\r\n\r\n    &:nth-child(2n) {\r\n      background-color: ${({ theme }) => theme.schema.nestedBackground};\r\n    }\r\n  }\r\n\r\n  table th,\r\n  table td {\r\n    padding: 6px 13px;\r\n    border: 1px solid #ddd;\r\n  }\r\n\r\n  table th {\r\n    text-align: left;\r\n    font-weight: bold;\r\n  }\r\n\r\n  ${linkifyMixin('.share-link')};\r\n\r\n  ${linksCss}\r\n\r\n  ${extensionsHook('Markdown')};\r\n`;\r\n","import * as DOMPurify from 'dompurify';\r\nimport * as React from 'react';\r\n\r\nimport { OptionsConsumer } from '../OptionsProvider';\r\nimport { StylingMarkdownProps } from './Markdown';\r\nimport { StyledMarkdownBlock } from './styled.elements';\r\n\r\nconst StyledMarkdownSpan = StyledMarkdownBlock.withComponent('span');\r\n\r\nconst sanitize = (untrustedSpec, html) => (untrustedSpec ? DOMPurify.sanitize(html) : html);\r\n\r\nexport function SanitizedMarkdownHTML(\r\n  props: StylingMarkdownProps & { html: string; className?: string; 'data-role'?: string },\r\n) {\r\n  const Wrap = props.inline ? StyledMarkdownSpan : StyledMarkdownBlock;\r\n\r\n  return (\r\n    <OptionsConsumer>\r\n      {options => (\r\n        <Wrap\r\n          className={'redoc-markdown ' + (props.className || '')}\r\n          dangerouslySetInnerHTML={{\r\n            __html: sanitize(options.untrustedSpec, props.html),\r\n          }}\r\n          data-role={props['data-role']}\r\n          {...props}\r\n        />\r\n      )}\r\n    </OptionsConsumer>\r\n  );\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { MarkdownRenderer } from '../../services';\r\nimport { SanitizedMarkdownHTML } from './SanitizedMdBlock';\r\n\r\nexport interface StylingMarkdownProps {\r\n  compact?: boolean;\r\n  inline?: boolean;\r\n}\r\n\r\nexport interface BaseMarkdownProps {\r\n  sanitize?: boolean;\r\n  source: string;\r\n}\r\n\r\nexport type MarkdownProps = BaseMarkdownProps &\r\n  StylingMarkdownProps & {\r\n    source: string;\r\n    className?: string;\r\n    'data-role'?: string;\r\n  };\r\n\r\nexport class Markdown extends React.Component<MarkdownProps> {\r\n  render() {\r\n    const { source, inline, compact, className, 'data-role': dataRole } = this.props;\r\n    const renderer = new MarkdownRenderer();\r\n    return (\r\n      <SanitizedMarkdownHTML\r\n        html={renderer.renderMd(source)}\r\n        inline={inline}\r\n        compact={compact}\r\n        className={className}\r\n        data-role={dataRole}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport styled from '../styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Tip = styled.div`\r\n  position: absolute;\r\n  min-width: 80px;\r\n  max-width: 500px;\r\n  background: #fff;\r\n  bottom: 100%;\r\n  left: 50%;\r\n  margin-bottom: 10px;\r\n  transform: translateX(-50%);\r\n\r\n  border-radius: 4px;\r\n  padding: 0.3em 0.6em;\r\n  text-align: center;\r\n  box-shadow: 0px 0px 5px 0px rgba(204, 204, 204, 1);\r\n`;\r\n\r\nconst Content = styled.div`\r\n  background: #fff;\r\n  color: #000;\r\n  display: inline;\r\n  font-size: 0.85em;\r\n  white-space: nowrap;\r\n`;\r\n\r\nconst Arrow = styled.div`\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n  bottom: -5px;\r\n  left: 50%;\r\n  margin-left: -5px;\r\n  border-left: solid transparent 5px;\r\n  border-right: solid transparent 5px;\r\n  border-top: solid #fff 5px;\r\n`;\r\n\r\nconst Gap = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 20px;\r\n  bottom: -20px;\r\n`;\r\n\r\nexport interface TooltipProps {\r\n  open: boolean;\r\n  title: string;\r\n}\r\n\r\nexport class Tooltip extends React.Component<TooltipProps> {\r\n  render() {\r\n    const { open, title, children } = this.props;\r\n    return (\r\n      <Wrapper>\r\n        {children}\r\n        {open && (\r\n          <Tip>\r\n            <Content>{title}</Content>\r\n            <Arrow />\r\n            <Gap />\r\n          </Tip>\r\n        )}\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n","const isSupported =\r\n  typeof document !== 'undefined' &&\r\n  document.queryCommandSupported &&\r\n  document.queryCommandSupported('copy');\r\n\r\nexport class ClipboardService {\r\n  static isSupported(): boolean {\r\n    return isSupported;\r\n  }\r\n\r\n  static selectElement(element: any): void {\r\n    let range;\r\n    let selection;\r\n    if ((document.body as any).createTextRange) {\r\n      range = (document.body as any).createTextRange();\r\n      range.moveToElementText(element);\r\n      range.select();\r\n    } else if (document.createRange && window.getSelection) {\r\n      selection = window.getSelection();\r\n      range = document.createRange();\r\n      range.selectNodeContents(element);\r\n      selection.removeAllRanges();\r\n      selection.addRange(range);\r\n    }\r\n  }\r\n\r\n  static deselect(): void {\r\n    if ((document as any).selection) {\r\n      (document as any).selection.empty();\r\n    } else if (window.getSelection) {\r\n      const selection = window.getSelection();\r\n      if (selection) {\r\n        selection.removeAllRanges();\r\n      }\r\n    }\r\n  }\r\n\r\n  static copySelected(): boolean {\r\n    let result;\r\n    try {\r\n      result = document.execCommand('copy');\r\n    } catch (err) {\r\n      result = false;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static copyElement(element: any): boolean {\r\n    ClipboardService.selectElement(element);\r\n    const res = ClipboardService.copySelected();\r\n    if (res) {\r\n      ClipboardService.deselect();\r\n    }\r\n    return res;\r\n  }\r\n\r\n  static copyCustom(text: string): boolean {\r\n    const textArea = document.createElement('textarea');\r\n    textArea.style.position = 'fixed';\r\n    textArea.style.top = '0';\r\n    textArea.style.left = '0';\r\n\r\n    // Ensure it has a small width and height. Setting to 1px / 1em\r\n    // doesn't work as this gives a negative w/h on some browsers.\r\n    textArea.style.width = '2em';\r\n    textArea.style.height = '2em';\r\n\r\n    // We don't need padding, reducing the size if it does flash render.\r\n    textArea.style.padding = '0';\r\n\r\n    // Clean up any borders.\r\n    textArea.style.border = 'none';\r\n    textArea.style.outline = 'none';\r\n    textArea.style.boxShadow = 'none';\r\n\r\n    // Avoid flash of white box if rendered for any reason.\r\n    textArea.style.background = 'transparent';\r\n\r\n    textArea.value = text;\r\n\r\n    document.body.appendChild(textArea);\r\n\r\n    textArea.select();\r\n\r\n    const res = ClipboardService.copySelected();\r\n\r\n    document.body.removeChild(textArea);\r\n    return res;\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { Tooltip } from '../common-elements/Tooltip';\r\n\r\nimport { ClipboardService } from '../services/ClipboardService';\r\n\r\nexport interface CopyButtonWrapperProps {\r\n  data: any;\r\n  children: (props: { renderCopyButton: () => React.ReactNode }) => React.ReactNode;\r\n}\r\n\r\nexport class CopyButtonWrapper extends React.PureComponent<\r\n  CopyButtonWrapperProps,\r\n  { tooltipShown: boolean }\r\n> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tooltipShown: false,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return this.props.children({ renderCopyButton: this.renderCopyButton });\r\n  }\r\n\r\n  copy = () => {\r\n    const content =\r\n      typeof this.props.data === 'string'\r\n        ? this.props.data\r\n        : JSON.stringify(this.props.data, null, 2);\r\n    ClipboardService.copyCustom(content);\r\n    this.showTooltip();\r\n  };\r\n\r\n  renderCopyButton = () => {\r\n    return (\r\n      <button onClick={this.copy}>\r\n        <Tooltip\r\n          title={ClipboardService.isSupported() ? 'Copied' : 'Not supported in your browser'}\r\n          open={this.state.tooltipShown}\r\n        >\r\n          Copy\r\n        </Tooltip>\r\n      </button>\r\n    );\r\n  };\r\n\r\n  showTooltip() {\r\n    this.setState({\r\n      tooltipShown: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.setState({\r\n        tooltipShown: false,\r\n      });\r\n    }, 1500);\r\n  }\r\n}\r\n","let level = 1;\r\n\r\nexport function jsonToHTML(json, maxExpandLevel) {\r\n  level = 1;\r\n  let output = '';\r\n  output += '<div class=\"redoc-json\">';\r\n  output += '<code>';\r\n  output += valueToHTML(json, maxExpandLevel);\r\n  output += '</code>';\r\n  output += '</div>';\r\n  return output;\r\n}\r\n\r\nfunction htmlEncode(t) {\r\n  return t !== undefined\r\n    ? t\r\n        .toString()\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n    : '';\r\n}\r\n\r\nfunction stringifyStringLiteral(str: string) {\r\n  return JSON.stringify(str).slice(1, -1);\r\n}\r\n\r\nfunction decorateWithSpan(value, className) {\r\n  return '<span class=\"' + className + '\">' + htmlEncode(value) + '</span>';\r\n}\r\n\r\nfunction punctuation(val) {\r\n  return '<span class=\"token punctuation\">' + val + '</span>';\r\n}\r\n\r\nfunction valueToHTML(value, maxExpandLevel: number) {\r\n  const valueType = typeof value;\r\n  let output = '';\r\n  if (value === undefined || value === null) {\r\n    output += decorateWithSpan('null', 'token keyword');\r\n  } else if (value && value.constructor === Array) {\r\n    level++;\r\n    output += arrayToHTML(value, maxExpandLevel);\r\n    level--;\r\n  } else if (value && value.constructor === Date) {\r\n    output += decorateWithSpan('\"' + value.toISOString() + '\"', 'token string');\r\n  } else if (valueType === 'object') {\r\n    level++;\r\n    output += objectToHTML(value, maxExpandLevel);\r\n    level--;\r\n  } else if (valueType === 'number') {\r\n    output += decorateWithSpan(value, 'token number');\r\n  } else if (valueType === 'string') {\r\n    if (/^(http|https):\\/\\/[^\\s]+$/.test(value)) {\r\n      output +=\r\n        decorateWithSpan('\"', 'token string') +\r\n        '<a href=\"' +\r\n        encodeURI(value) +\r\n        '\">' +\r\n        htmlEncode(stringifyStringLiteral(value)) +\r\n        '</a>' +\r\n        decorateWithSpan('\"', 'token string');\r\n    } else {\r\n      output += decorateWithSpan('\"' + stringifyStringLiteral(value) + '\"', 'token string');\r\n    }\r\n  } else if (valueType === 'boolean') {\r\n    output += decorateWithSpan(value, 'token boolean');\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction arrayToHTML(json, maxExpandLevel: number) {\r\n  const collapsed = level > maxExpandLevel ? 'collapsed' : '';\r\n  let output = `<button class=\"collapser\" aria-label=\"${\r\n    level > maxExpandLevel + 1 ? 'expand' : 'collapse'\r\n  }\"></button>${punctuation('[')}<span class=\"ellipsis\"></span><ul class=\"array collapsible\">`;\r\n  let hasContents = false;\r\n  const length = json.length;\r\n  for (let i = 0; i < length; i++) {\r\n    hasContents = true;\r\n    output += '<li><div class=\"hoverable ' + collapsed + '\">';\r\n    output += valueToHTML(json[i], maxExpandLevel);\r\n    if (i < length - 1) {\r\n      output += ',';\r\n    }\r\n    output += '</div></li>';\r\n  }\r\n  output += `</ul>${punctuation(']')}`;\r\n  if (!hasContents) {\r\n    output = punctuation('[ ]');\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction objectToHTML(json, maxExpandLevel: number) {\r\n  const collapsed = level > maxExpandLevel ? 'collapsed' : '';\r\n  const keys = Object.keys(json);\r\n  const length = keys.length;\r\n  let output = `<button class=\"collapser\" aria-label=\"${\r\n    level > maxExpandLevel + 1 ? 'expand' : 'collapse'\r\n  }\"></button>${punctuation('{')}<span class=\"ellipsis\"></span><ul class=\"obj collapsible\">`;\r\n  let hasContents = false;\r\n  for (let i = 0; i < length; i++) {\r\n    const key = keys[i];\r\n    hasContents = true;\r\n    output += '<li><div class=\"hoverable ' + collapsed + '\">';\r\n    output += '<span class=\"property token string\">\"' + htmlEncode(key) + '\"</span>: ';\r\n    output += valueToHTML(json[key], maxExpandLevel);\r\n    if (i < length - 1) {\r\n      output += punctuation(',');\r\n    }\r\n    output += '</div></li>';\r\n  }\r\n  output += `</ul>${punctuation('}')}`;\r\n  if (!hasContents) {\r\n    output = punctuation('{ }');\r\n  }\r\n  return output;\r\n}\r\n","import { css } from '../../styled-components';\r\n\r\nexport const jsonStyles = css`\r\n  .redoc-json code > .collapser {\r\n    display: none;\r\n    pointer-events: none;\r\n  }\r\n\r\n  font-family: ${props => props.theme.typography.code.fontFamily};\r\n  font-size: ${props => props.theme.typography.code.fontSize};\r\n\r\n  white-space: ${({ theme }) => (theme.typography.code.wrap ? 'pre-wrap' : 'pre')};\r\n  contain: content;\r\n  overflow-x: auto;\r\n\r\n  .callback-function {\r\n    color: gray;\r\n  }\r\n\r\n  .collapser:after {\r\n    content: '-';\r\n    cursor: pointer;\r\n  }\r\n\r\n  .collapsed > .collapser:after {\r\n    content: '+';\r\n    cursor: pointer;\r\n  }\r\n\r\n  .ellipsis:after {\r\n    content: ' … ';\r\n  }\r\n\r\n  .collapsible {\r\n    margin-left: 2em;\r\n  }\r\n\r\n  .hoverable {\r\n    padding-top: 1px;\r\n    padding-bottom: 1px;\r\n    padding-left: 2px;\r\n    padding-right: 2px;\r\n    border-radius: 2px;\r\n  }\r\n\r\n  .hovered {\r\n    background-color: rgba(235, 238, 249, 1);\r\n  }\r\n\r\n  .collapser {\r\n    background-color: transparent;\r\n    border: 0;\r\n    color: #fff;\r\n    font-family: ${props => props.theme.typography.code.fontFamily};\r\n    font-size: ${props => props.theme.typography.code.fontSize};\r\n    padding-right: 6px;\r\n    padding-left: 6px;\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 15px;\r\n    height: 15px;\r\n    position: absolute;\r\n    top: 4px;\r\n    left: -1.5em;\r\n    cursor: default;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    padding: 2px;\r\n    &:focus {\r\n      outline-color: #fff;\r\n      outline-style: dotted;\r\n      outline-width: 1px;\r\n    }\r\n  }\r\n\r\n  ul {\r\n    list-style-type: none;\r\n    padding: 0px;\r\n    margin: 0px 0px 0px 26px;\r\n  }\r\n\r\n  li {\r\n    position: relative;\r\n    display: block;\r\n  }\r\n\r\n  .hoverable {\r\n    display: inline-block;\r\n  }\r\n\r\n  .selected {\r\n    outline-style: solid;\r\n    outline-width: 1px;\r\n    outline-style: dotted;\r\n  }\r\n\r\n  .collapsed > .collapsible {\r\n    display: none;\r\n  }\r\n\r\n  .ellipsis {\r\n    display: none;\r\n  }\r\n\r\n  .collapsed > .ellipsis {\r\n    display: inherit;\r\n  }\r\n`;\r\n","import * as React from 'react';\r\nimport styled from '../../styled-components';\r\nimport { FunctionComponent, useRef, useState } from 'react';\r\nimport { SampleControls } from '../../common-elements';\r\nimport { CopyButtonWrapper } from '../../common-elements/CopyButtonWrapper';\r\nimport { PrismDiv } from '../../common-elements/PrismDiv';\r\nimport { CodeArea } from '../../common-elements';\r\nimport { jsonToHTML } from '../../utils/jsonToHtml';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport { jsonStyles } from './style';\r\nimport { useEffect } from 'react';\r\n\r\ninterface componentInterface {\r\n  data: any;\r\n  className?: string;\r\n  variant?: string;\r\n  onChange?: (e:string) => void\r\n}\r\n\r\nconst JsonViewerWrap = styled.div`\r\n  &:hover > ${SampleControls} {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const Json: FunctionComponent<componentInterface> = ({ data, className, variant, onChange }) => {\r\n\r\n  const node = useRef<HTMLDivElement>(null);\r\n  const [value, setValue] = useState(JSON.stringify(data, undefined, 2));\r\n\r\n  useEffect(()=>{\r\n    if(onChange) onChange(value)\r\n  }, [value])\r\n\r\n  useEffect(()=>{\r\n    setValue(JSON.stringify(data, undefined, 2))\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    if (variant != \"execute\" && null !== node.current) {\r\n      node.current.addEventListener('click', clickListener);\r\n      node.current.addEventListener('focus', focusListener);\r\n    }\r\n\r\n    return () => {\r\n      if (variant != \"execute\" && null !== node.current) {\r\n        node.current.removeEventListener('click', clickListener);\r\n        node.current.removeEventListener('focus', focusListener);\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const getJson = (v) => {\r\n    return v\r\n  }\r\n\r\n  const renderInnerExecute = () => {\r\n    return <CodeArea\r\n      rows={20}\r\n      onChange={e => setValue(e.target.value)}\r\n      value={getJson(value)}\r\n    ></CodeArea>\r\n  };\r\n\r\n  const renderInner = ({ renderCopyButton }) => (\r\n    <JsonViewerWrap>\r\n      <SampleControls>\r\n        {renderCopyButton()}\r\n        <button onClick={expandAll}> Expand all </button>\r\n        <button onClick={collapseAll}> Collapse all </button>\r\n      </SampleControls>\r\n      <OptionsContext.Consumer>\r\n        {options => (\r\n          <PrismDiv\r\n            className={className}\r\n            // tslint:disable-next-line\r\n            ref={node}\r\n            dangerouslySetInnerHTML={{\r\n              __html: jsonToHTML(data, options.jsonSampleExpandLevel),\r\n            }}\r\n          />\r\n        )}\r\n      </OptionsContext.Consumer>\r\n    </JsonViewerWrap>\r\n  );\r\n\r\n  const expandAll = () => {\r\n    if (null !== node.current) {\r\n      const elements = node.current.getElementsByClassName('collapsible');\r\n      for (const collapsed of Array.prototype.slice.call(elements)) {\r\n        const parentNode = collapsed.parentNode as Element;\r\n        parentNode.classList.remove('collapsed');\r\n        parentNode.querySelector('.collapser')!.setAttribute('aria-label', 'collapse');\r\n      }\r\n    }\r\n  };\r\n\r\n  const collapseAll = () => {\r\n    if (null !== node.current) {\r\n      const elements = node.current.getElementsByClassName('collapsible');\r\n      // skip first item to avoid collapsing whole object/array\r\n      const elementsArr = Array.prototype.slice.call(elements, 1);\r\n\r\n      for (const expanded of elementsArr) {\r\n        const parentNode = expanded.parentNode as Element;\r\n        parentNode.classList.add('collapsed');\r\n        parentNode.querySelector('.collapser')!.setAttribute('aria-label', 'expand');\r\n      }\r\n    }\r\n  };\r\n\r\n  const collapseElement = (target: HTMLElement) => {\r\n    let collapsed;\r\n    if (target.className === 'collapser') {\r\n      collapsed = target.parentElement!.getElementsByClassName('collapsible')[0];\r\n      if (collapsed.parentElement.classList.contains('collapsed')) {\r\n        collapsed.parentElement.classList.remove('collapsed');\r\n        target.setAttribute('aria-label', 'collapse');\r\n      } else {\r\n        collapsed.parentElement.classList.add('collapsed');\r\n        target.setAttribute('aria-label', 'expand');\r\n      }\r\n    }\r\n  };\r\n\r\n  const clickListener = (event: MouseEvent) => {\r\n    collapseElement(event.target as HTMLElement);\r\n  };\r\n\r\n  const focusListener = (event: KeyboardEvent) => {\r\n    if (event.key === 'Enter') {\r\n      collapseElement(event.target as HTMLElement);\r\n    }\r\n  };\r\n\r\n  return variant == \"execute\" ? renderInnerExecute() : <CopyButtonWrapper data={data}>{renderInner}</CopyButtonWrapper>;\r\n\r\n}\r\n\r\nexport const JsonViewer = styled(Json)`\r\n  ${jsonStyles};\r\n`;\r\n","import * as React from 'react';\r\nimport { highlight } from '../../utils';\r\n\r\nimport { SampleControls, SampleControlsWrap, StyledPre } from '../../common-elements';\r\nimport { CopyButtonWrapper } from '../../common-elements/CopyButtonWrapper';\r\n\r\nexport interface SourceCodeProps {\r\n  source: string;\r\n  lang: string;\r\n}\r\n\r\nexport class SourceCode extends React.PureComponent<SourceCodeProps> {\r\n  render() {\r\n    const { source, lang } = this.props;\r\n    return <StyledPre dangerouslySetInnerHTML={{ __html: highlight(source, lang) }} />;\r\n  }\r\n}\r\n\r\nexport class SourceCodeWithCopy extends React.Component<SourceCodeProps> {\r\n  render() {\r\n    return (\r\n      <CopyButtonWrapper data={this.props.source}>\r\n        {({ renderCopyButton }) => (\r\n          <SampleControlsWrap>\r\n            <SampleControls>{renderCopyButton()}</SampleControls>\r\n            <SourceCode lang={this.props.lang} source={this.props.source} />\r\n          </SampleControlsWrap>\r\n        )}\r\n      </CopyButtonWrapper>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { isJsonLike, langFromMime } from '../../utils/openapi';\r\nimport { JsonViewer } from '../JsonViewer/JsonViewer';\r\nimport { SourceCodeWithCopy } from '../SourceCode/SourceCode';\r\n\r\nexport interface ExampleValueProps {\r\n  value: any;\r\n  mimeType: string;\r\n  variant?: string;\r\n  onChange?: (e:string) => void\r\n}\r\n\r\nexport function ExampleValue({ value, mimeType, variant, onChange }: ExampleValueProps) {\r\n  if (isJsonLike(mimeType)) {\r\n    return <JsonViewer data={value} variant={variant} onChange={onChange}/>;\r\n  } else {\r\n    if (typeof value === 'object') {\r\n      // just in case example was cached as json but used as non-json\r\n      value = JSON.stringify(value, null, 2);\r\n    }\r\n    return <SourceCodeWithCopy lang={langFromMime(mimeType)} source={value} />;\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { StyledPre } from '../../common-elements/samples';\r\nimport { ExampleModel } from '../../services/models';\r\nimport { ExampleValue } from './ExampleValue';\r\nimport { useExternalExample } from './exernalExampleHook';\r\n\r\nexport interface ExampleProps {\r\n  example: ExampleModel;\r\n  mimeType: string;\r\n  variant?: string;\r\n  onChange?: (e:string) => void\r\n}\r\n\r\nexport function Example({ example, mimeType, variant, onChange }: ExampleProps) {\r\n  if (example.value === undefined && example.externalValueUrl) {\r\n    return <ExternalExample example={example} mimeType={mimeType} />;\r\n  } else {\r\n    return <ExampleValue variant={variant} value={example.value} mimeType={mimeType} onChange={onChange} />;\r\n  }\r\n}\r\n\r\nexport function ExternalExample({ example, mimeType }: ExampleProps) {\r\n  const value = useExternalExample(example, mimeType);\r\n\r\n  if (value === undefined) {\r\n    return <span>Loading...</span>;\r\n  }\r\n\r\n  if (value instanceof Error) {\r\n    return (\r\n      <StyledPre>\r\n        Error loading external example: <br />\r\n        <a\r\n          className={'token string'}\r\n          href={example.externalValueUrl}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          {example.externalValueUrl}\r\n        </a>\r\n      </StyledPre>\r\n    );\r\n  }\r\n\r\n  return <ExampleValue value={value} mimeType={mimeType} />;\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { ExampleModel } from '../../services/models/Example';\r\n\r\nexport function useExternalExample(example: ExampleModel, mimeType: string) {\r\n  const [, setIsLoading] = useState(true); // to trigger component reload\r\n\r\n  const value = useRef<any>(undefined);\r\n  const prevRef = useRef<ExampleModel | undefined>(undefined);\r\n\r\n  if (prevRef.current !== example) {\r\n    value.current = undefined;\r\n  }\r\n\r\n  prevRef.current = example;\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        value.current = await example.getExternalValue(mimeType);\r\n      } catch (e) {\r\n        value.current = e;\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n\r\n    load();\r\n  }, [example, mimeType]);\r\n\r\n  return value.current;\r\n}\r\n","import { transparentize } from 'polished';\r\nimport styled from '../../styled-components';\r\nimport { StyledDropdown } from '../../common-elements';\r\n\r\nexport const MimeLabel = styled.div`\r\n  padding: 7px 14px;\r\n  background-color: ${({ theme }) => theme.rightPanel.backgroundInner};\r\n  border-radius: 20px;\r\n  border: 1px solid ${({ theme }) => theme.colors.text.secondary};\r\n  margin: 0 0 10px 0;\r\n  display: block;\r\n  font-family: ${({ theme }) => theme.typography.fontFamily};\r\n  font-size: 1rem;\r\n`;\r\n\r\nexport const DropdownLabel = styled.div`\r\n  font-family: ${({ theme }) => theme.typography.fontFamily};\r\n  font-size: 1rem;\r\n  z-index: 1;\r\n  font-weight: 400;\r\n  margin-left: 10px;\r\n  margin-bottom: 5px;\r\n  color: ${({ theme }) => theme.rightPanel.textColor};\r\n`;\r\n\r\nexport const DropdownWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const InvertedSimpleDropdown = styled(StyledDropdown)`\r\n  && {\r\n    margin-left: 10px;\r\n    text-transform: none;\r\n    font-size: 1rem;\r\n    margin: 0 0 10px 0;\r\n    display: block;\r\n    background-color: ${({ theme }) => theme.rightPanel.backgroundInner};\r\n    font-size: 1rem;\r\n    border: 1px solid ${({ theme }) => theme.colors.text.secondary};\r\n    border-radius: 20px;\r\n    padding: 7px 14px;\r\n    box-shadow: none;\r\n\r\n    &:hover,\r\n    &:focus-within {\r\n      border: 1px solid ${({ theme }) => theme.colors.text.secondary};;\r\n      box-shadow: none;\r\n    }\r\n    &:focus-within {\r\n      background-color: ${({ theme }) => transparentize(0.3, theme.rightPanel.backgroundColor)};\r\n    }\r\n\r\n    .dropdown-selector-value {\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      color: ${({ theme }) => theme.rightPanel.textColor};\r\n    }\r\n\r\n    .dropdown-selector-content {\r\n      margin: 0;\r\n      margin-top: 2px;\r\n      .dropdown-option {\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const NoSampleLabel = styled.div`\r\n  font-family: ${props => props.theme.typography.code.fontFamily};\r\n  font-size: 12px;\r\n  color: #ee807f;\r\n`;\r\n","import * as React from 'react';\r\n\r\nimport styled from '../../styled-components';\r\n\r\nimport { DropdownProps } from '../../common-elements';\r\nimport { MediaTypeModel } from '../../services/models';\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport { Example } from './Example';\r\nimport { DropdownLabel, DropdownWrapper, NoSampleLabel } from './styled.elements';\r\n\r\nexport interface PayloadSamplesProps {\r\n  mediaType: MediaTypeModel;\r\n  variant?: string;\r\n  servers?: any;\r\n  renderDropdown: (props: DropdownProps) => JSX.Element;\r\n  onChange?: (e: string) => void;\r\n  onChangeServer?: (e: string) => void;\r\n}\r\n\r\ninterface MediaTypeSamplesState {\r\n  activeIdx: number;\r\n  activeServerIdx: number;\r\n}\r\n\r\nexport class MediaTypeSamples extends React.Component<PayloadSamplesProps, MediaTypeSamplesState> {\r\n  state = {\r\n    activeIdx: 0,\r\n    activeServerIdx: 0\r\n  };\r\n  switchMedia = ({ idx }) => {\r\n    this.setState({\r\n      activeIdx: idx,\r\n    });\r\n  };\r\n  switchServer = ({ idx, value }) => {\r\n    if(this.props.onChangeServer) this.props.onChangeServer(value)\r\n\r\n    this.setState({\r\n      activeServerIdx: idx,\r\n    });\r\n  };\r\n  render() {\r\n    const { activeIdx, activeServerIdx } = this.state;\r\n    const examples = this.props.mediaType.examples || {};\r\n    const mimeType = this.props.mediaType.name;\r\n    const variant = this.props.variant;\r\n    const servers = this.props.servers;\r\n    const onChange = this.props.onChange;\r\n    const serversList = (servers && servers.length > 1) ? servers.map((item, idx) => {\r\n      return {\r\n        value: item.url,\r\n        idx,\r\n      };\r\n    }) : [];\r\n    const noSample = <NoSampleLabel>No sample</NoSampleLabel>;\r\n\r\n    const examplesNames = Object.keys(examples);\r\n    if (examplesNames.length === 0) {\r\n      return noSample;\r\n    }\r\n\r\n    if (examplesNames.length > 1) {\r\n      const options = examplesNames.map((name, idx) => {\r\n        return {\r\n          value: examples[name].summary || name,\r\n          idx,\r\n        };\r\n      });\r\n\r\n      const example = examples[examplesNames[activeIdx]];\r\n      const description = example.description;\r\n\r\n      return (\r\n        <SamplesWrapper>\r\n          {servers && servers.length > 1 &&\r\n            <DropdownWrapper>\r\n              <DropdownLabel>Servers</DropdownLabel>\r\n              {this.props.renderDropdown({\r\n                value: serversList[activeServerIdx].value,\r\n                options:serversList,\r\n                onChange: this.switchServer,\r\n                ariaLabel: 'Server',\r\n              })}\r\n            </DropdownWrapper>\r\n          }\r\n          <DropdownWrapper>\r\n            <DropdownLabel>Example</DropdownLabel>\r\n            {this.props.renderDropdown({\r\n              value: options[activeIdx].value,\r\n              options,\r\n              onChange: this.switchMedia,\r\n              ariaLabel: 'Example',\r\n            })}\r\n          </DropdownWrapper>\r\n          <div>\r\n            {description && <Markdown source={description} />}\r\n            <Example variant={variant} example={example} mimeType={mimeType} onChange={onChange} />\r\n          </div>\r\n        </SamplesWrapper>\r\n      );\r\n    } else {\r\n      const example = examples[examplesNames[0]];\r\n      return (\r\n        <SamplesWrapper>\r\n          {example.description && <Markdown source={example.description} />}\r\n          <Example variant={variant} example={example} mimeType={mimeType} onChange={onChange} />\r\n        </SamplesWrapper>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst SamplesWrapper = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"mobx-react\");;","import { transparentize } from 'polished';\r\n\r\nimport styled, { extensionsHook } from '../styled-components';\r\nimport { PropertyNameCell } from './fields-layout';\r\nimport { ShelfIcon } from './shelfs';\r\n\r\nexport const ClickablePropertyNameCell = styled(PropertyNameCell)`\r\n  button {\r\n    background-color: transparent;\r\n    border: 0;\r\n    outline: 0;\r\n    font-size: 1rem;\r\n    font-weight: 600;\r\n    font-family: ${props => props.theme.typography.fontFamily};\r\n    cursor: pointer;\r\n    padding: 0;\r\n    color: ${props => props.theme.colors.text.primary};\r\n\r\n    &:focus {\r\n      font-weight: ${({ theme }) => theme.typography.fontWeightBold};\r\n    }\r\n  }\r\n  ${ShelfIcon} {\r\n    height: ${({ theme }) => theme.schema.arrow.size};\r\n    width: ${({ theme }) => theme.schema.arrow.size};\r\n    margin-left: 0.5rem;\r\n    \r\n    polygon, path {\r\n      fill: ${({ theme }) => theme.schema.arrow.color};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const FieldLabel = styled.span`\r\n  vertical-align: middle;\r\n  font-size: ${({ theme }) => theme.typography.code.fontSize};\r\n  line-height: 20px;\r\n`;\r\n\r\nexport const TypePrefix = styled(FieldLabel)`\r\n  color: ${props => transparentize(0.1, props.theme.schema.typeNameColor)};\r\n`;\r\n\r\nexport const TypeName = styled(FieldLabel)`\r\n  color: ${props => props.theme.schema.typeNameColor};\r\n`;\r\n\r\nexport const TypeTitle = styled(FieldLabel)`\r\n  color: ${props => props.theme.schema.typeTitleColor};\r\n  word-break: break-word;\r\n`;\r\n\r\nexport const TypeFormat = TypeName;\r\n\r\nexport const RequiredLabel = styled(FieldLabel.withComponent('div'))`\r\n  color: ${props => props.theme.schema.requireLabelColor};\r\n  font-size: ${props => props.theme.schema.labelsTextSize};\r\n  font-weight: normal;\r\n  margin-left: 20px;\r\n  line-height: 1;\r\n`;\r\n\r\nexport const RecursiveLabel = styled(FieldLabel)`\r\n  color: ${({ theme }) => theme.colors.warning.main};\r\n  font-size: 13px;\r\n`;\r\n\r\nexport const PatternLabel = styled(FieldLabel)`\r\n  color: #0e7c86;\r\n  &::before,\r\n  &::after {\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nexport const ExampleValue = styled(FieldLabel)`\r\n  border-radius: 2px;\r\n  ${({ theme }) => `\r\n    background-color: ${transparentize(0.95, theme.colors.text.primary)};\r\n    color: ${transparentize(0.1, theme.colors.text.primary)};\r\n\r\n    padding: 0 ${theme.spacing.unit}px;\r\n    border: 1px solid ${transparentize(0.9, theme.colors.text.primary)};\r\n    font-family: ${theme.typography.code.fontFamily};\r\n}`};\r\n  & + & {\r\n    margin-left: 0;\r\n  }\r\n  ${extensionsHook('ExampleValue')};\r\n`;\r\n\r\nexport const ExtensionValue = styled(ExampleValue)``;\r\n\r\nexport const ConstraintItem = styled(FieldLabel)`\r\n  border-radius: 2px;\r\n  ${({ theme }) => `\r\n    background-color: ${transparentize(0.95, theme.colors.primary.light)};\r\n    color: ${transparentize(0.1, theme.colors.primary.main)};\r\n\r\n    margin: 0 ${theme.spacing.unit}px;\r\n    padding: 0 ${theme.spacing.unit}px;\r\n    border: 1px solid ${transparentize(0.9, theme.colors.primary.main)};\r\n    font-family: ${theme.typography.code.fontFamily};\r\n}`};\r\n  & + & {\r\n    margin-left: 0;\r\n  }\r\n  ${extensionsHook('ConstraintItem')};\r\n`;\r\n\r\nexport const ToggleButton = styled.button`\r\n  background-color: transparent;\r\n  border: 0;\r\n  color: ${({ theme }) => theme.colors.text.secondary};\r\n  margin-left: ${({ theme }) => theme.spacing.unit}px;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n  outline-color: ${({ theme }) => theme.colors.text.secondary};\r\n  font-size: 12px;\r\n`;\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport styled from '../../styled-components';\r\nimport { OpenAPIExternalDocumentation } from '../../types';\r\nimport { linksCss } from '../Markdown/styled.elements';\r\n\r\nconst LinkWrap = styled.div<{ compact?: boolean }>`\r\n  ${linksCss};\r\n  ${({ compact }) => (!compact ? 'margin: 1em 0' : '')}\r\n`;\r\n\r\n@observer\r\nexport class ExternalDocumentation extends React.Component<{\r\n  externalDocs: OpenAPIExternalDocumentation;\r\n  compact?: boolean;\r\n}> {\r\n  render() {\r\n    const { externalDocs } = this.props;\r\n    if (!externalDocs || !externalDocs.url) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <LinkWrap compact={this.props.compact}>\r\n        <a href={externalDocs.url}>{externalDocs.description || externalDocs.url}</a>\r\n      </LinkWrap>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { ExampleValue, FieldLabel } from '../../common-elements/fields';\r\n\r\nimport { l } from '../../services/Labels';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport styled from '../../styled-components';\r\nimport { RedocRawOptions } from '../../services/RedocNormalizedOptions';\r\n\r\nexport interface EnumValuesProps {\r\n  values: string[];\r\n  type: string | string[];\r\n}\r\n\r\nexport interface EnumValuesState {\r\n  collapsed: boolean;\r\n}\r\n\r\nexport class EnumValues extends React.PureComponent<EnumValuesProps, EnumValuesState> {\r\n  state: EnumValuesState = {\r\n    collapsed: true,\r\n  };\r\n\r\n  static contextType = OptionsContext;\r\n\r\n  private toggle() {\r\n    this.setState({ collapsed: !this.state.collapsed });\r\n  }\r\n\r\n  render() {\r\n    const { values, type } = this.props;\r\n    const { collapsed } = this.state;\r\n\r\n    // TODO: provide context interface in more elegant way\r\n    const { enumSkipQuotes, maxDisplayedEnumValues } = this.context as RedocRawOptions;\r\n\r\n    if (!values.length) {\r\n      return null;\r\n    }\r\n\r\n    const displayedItems =\r\n      this.state.collapsed && maxDisplayedEnumValues\r\n        ? values.slice(0, maxDisplayedEnumValues)\r\n        : values;\r\n\r\n    const showToggleButton = maxDisplayedEnumValues\r\n      ? values.length > maxDisplayedEnumValues\r\n      : false;\r\n\r\n    const toggleButtonText = maxDisplayedEnumValues\r\n      ? collapsed\r\n        ? `… ${values.length - maxDisplayedEnumValues} more`\r\n        : 'Hide'\r\n      : '';\r\n\r\n    return (\r\n      <div>\r\n        <FieldLabel>\r\n          {type === 'array' ? l('enumArray') : ''}{' '}\r\n          {values.length === 1 ? l('enumSingleValue') : l('enum')}:\r\n        </FieldLabel>{' '}\r\n        {displayedItems.map((value, idx) => {\r\n          const exampleValue = enumSkipQuotes ? String(value) : JSON.stringify(value);\r\n          return (\r\n            <React.Fragment key={idx}>\r\n              <ExampleValue>{exampleValue}</ExampleValue>{' '}\r\n            </React.Fragment>\r\n          );\r\n        })}\r\n        {showToggleButton ? (\r\n          <ToggleButton\r\n            onClick={() => {\r\n              this.toggle();\r\n            }}\r\n          >\r\n            {toggleButtonText}\r\n          </ToggleButton>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ToggleButton = styled.span`\r\n  color: ${props => props.theme.colors.primary.main};\r\n  vertical-align: middle;\r\n  font-size: 13px;\r\n  line-height: 20px;\r\n  padding: 0 5px;\r\n  cursor: pointer;\r\n`;\r\n","import * as React from 'react';\r\n\r\nimport { ExtensionValue, FieldLabel } from '../../common-elements/fields';\r\n\r\nimport styled from '../../styled-components';\r\n\r\nimport { OptionsContext } from '../OptionsProvider';\r\n\r\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\r\n\r\nconst Extension = styled(StyledMarkdownBlock)`\r\n  margin: 2px 0;\r\n`;\r\n\r\nexport interface ExtensionsProps {\r\n  extensions: {\r\n    [k: string]: any;\r\n  };\r\n}\r\n\r\nexport class Extensions extends React.PureComponent<ExtensionsProps> {\r\n  render() {\r\n    const exts = this.props.extensions;\r\n    return (\r\n      <OptionsContext.Consumer>\r\n        {options => (\r\n          <>\r\n            {options.showExtensions &&\r\n              Object.keys(exts).map(key => (\r\n                <Extension key={key}>\r\n                  <FieldLabel> {key.substring(2)}: </FieldLabel>{' '}\r\n                  <ExtensionValue>\r\n                    {typeof exts[key] === 'string' ? exts[key] : JSON.stringify(exts[key])}\r\n                  </ExtensionValue>\r\n                </Extension>\r\n              ))}\r\n          </>\r\n        )}\r\n      </OptionsContext.Consumer>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { ConstraintItem } from '../../common-elements/fields';\r\n\r\nexport interface ConstraintsViewProps {\r\n  constraints: string[];\r\n}\r\n\r\nexport class ConstraintsView extends React.PureComponent<ConstraintsViewProps> {\r\n  render() {\r\n    if (this.props.constraints.length === 0) {\r\n      return null;\r\n    }\r\n    return (\r\n      <span>\r\n        {' '}\r\n        {this.props.constraints.map(constraint => (\r\n          <ConstraintItem key={constraint}> {constraint} </ConstraintItem>\r\n        ))}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { ExampleValue, FieldLabel } from '../../common-elements/fields';\r\n\r\nexport interface FieldDetailProps {\r\n  value?: any;\r\n  label: string;\r\n  raw?: boolean;\r\n}\r\n\r\nexport class FieldDetail extends React.PureComponent<FieldDetailProps> {\r\n  render() {\r\n    if (this.props.value === undefined) {\r\n      return null;\r\n    }\r\n\r\n    const value = this.props.raw ? String(this.props.value) : JSON.stringify(this.props.value);\r\n\r\n    return (\r\n      <div>\r\n        <FieldLabel> {this.props.label} </FieldLabel> <ExampleValue>{value}</ExampleValue>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport {\r\n  PatternLabel,\r\n  RecursiveLabel,\r\n  TypeFormat,\r\n  TypeName,\r\n  TypePrefix,\r\n  TypeTitle,\r\n  ToggleButton,\r\n  FieldLabel,\r\n  ExampleValue,\r\n} from '../../common-elements/fields';\r\nimport { serializeParameterValue } from '../../utils/openapi';\r\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport { EnumValues } from './EnumValues';\r\nimport { Extensions } from './Extensions';\r\nimport { FieldProps } from './Field';\r\nimport { ConstraintsView } from './FieldContstraints';\r\nimport { FieldDetail } from './FieldDetail';\r\n\r\nimport { Badge } from '../../common-elements/';\r\n\r\nimport { l } from '../../services/Labels';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport { FieldModel } from '../../services/models/Field';\r\nimport styled from '../../styled-components';\r\n\r\nconst MAX_PATTERN_LENGTH = 45;\r\n\r\nexport class FieldDetails extends React.PureComponent<FieldProps, { patternShown: boolean }> {\r\n  state = {\r\n    patternShown: false,\r\n  };\r\n\r\n  static contextType = OptionsContext;\r\n\r\n  togglePattern = () => {\r\n    this.setState({\r\n      patternShown: !this.state.patternShown,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { showExamples, field, renderDiscriminatorSwitch } = this.props;\r\n    const { patternShown } = this.state;\r\n    const { enumSkipQuotes, hideSchemaTitles, hideSchemaPattern } = this.context;\r\n\r\n    const { schema, description, example, deprecated, examples } = field;\r\n\r\n    const rawDefault = !!enumSkipQuotes || field.in === 'header'; // having quotes around header field default values is confusing and inappropriate\r\n\r\n    let renderedExamples: JSX.Element | null = null;\r\n\r\n    if (showExamples && (example !== undefined || examples !== undefined)) {\r\n      if (examples !== undefined) {\r\n        renderedExamples = <Examples field={field} />;\r\n      } else {\r\n        const label = l('example') + ':';\r\n        const raw = !!field.in;\r\n        renderedExamples = (\r\n          <FieldDetail label={label} value={getSerializedValue(field, field.example)} raw={raw} />\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <TypePrefix>{schema.typePrefix}</TypePrefix>\r\n          <TypeName>{schema.displayType}</TypeName>\r\n          {schema.displayFormat && (\r\n            <TypeFormat>\r\n              {' '}\r\n              &lt;\r\n              {schema.displayFormat}\r\n              &gt;{' '}\r\n            </TypeFormat>\r\n          )}\r\n          {schema.contentEncoding && (\r\n            <TypeFormat>\r\n              {' '}\r\n              &lt;\r\n              {schema.contentEncoding}\r\n              &gt;{' '}\r\n            </TypeFormat>\r\n          )}\r\n          {schema.contentMediaType && (\r\n            <TypeFormat>\r\n              {' '}\r\n              &lt;\r\n              {schema.contentMediaType}\r\n              &gt;{' '}\r\n            </TypeFormat>\r\n          )}\r\n          {schema.title && !hideSchemaTitles && <TypeTitle> ({schema.title}) </TypeTitle>}\r\n          <ConstraintsView constraints={schema.constraints} />\r\n          {schema.pattern && !hideSchemaPattern && (\r\n            <>\r\n              <PatternLabel>\r\n                {patternShown || schema.pattern.length < MAX_PATTERN_LENGTH\r\n                  ? schema.pattern\r\n                  : `${schema.pattern.substr(0, MAX_PATTERN_LENGTH)}...`}\r\n              </PatternLabel>\r\n              {schema.pattern.length > MAX_PATTERN_LENGTH && (\r\n                <ToggleButton onClick={this.togglePattern}>\r\n                  {patternShown ? 'Hide pattern' : 'Show pattern'}\r\n                </ToggleButton>\r\n              )}\r\n            </>\r\n          )}\r\n          {schema.isCircular && <RecursiveLabel> {l('recursive')} </RecursiveLabel>}\r\n        </div>\r\n        {deprecated && (\r\n          <div>\r\n            <Badge type=\"warning\"> {l('deprecated')} </Badge>\r\n          </div>\r\n        )}\r\n        <FieldDetail raw={rawDefault} label={l('default') + ':'} value={schema.default} />\r\n        {!renderDiscriminatorSwitch && <EnumValues type={schema.type} values={schema.enum} />}{' '}\r\n        {renderedExamples}\r\n        {<Extensions extensions={{ ...field.extensions, ...schema.extensions }} />}\r\n        <div>\r\n          <Markdown compact={true} source={description} />\r\n        </div>\r\n        {schema.externalDocs && (\r\n          <ExternalDocumentation externalDocs={schema.externalDocs} compact={true} />\r\n        )}\r\n        {(renderDiscriminatorSwitch && renderDiscriminatorSwitch(this.props)) || null}\r\n        {(field.const && <FieldDetail label={l('const') + ':'} value={field.const} />) || null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction Examples({ field }: { field: FieldModel }) {\r\n  if (!field.examples) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <FieldLabel> {l('examples')}: </FieldLabel>\r\n      <ExamplesList>\r\n        {Object.values(field.examples).map((example, idx) => {\r\n          return (\r\n            <li key={idx}>\r\n              <ExampleValue>{getSerializedValue(field, example.value)}</ExampleValue> -{' '}\r\n              {example.summary || example.description}\r\n            </li>\r\n          );\r\n        })}\r\n      </ExamplesList>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction getSerializedValue(field: FieldModel, example: any) {\r\n  if (field.in) {\r\n    // decode for better readability in examples: see https://github.com/Redocly/redoc/issues/1138\r\n    return decodeURIComponent(serializeParameterValue(field, example));\r\n  } else {\r\n    return example;\r\n  }\r\n}\r\n\r\nconst ExamplesList = styled.ul`\r\n  margin-top: 1em;\r\n  padding-left: 0;\r\n  list-style-position: inside;\r\n`;\r\n","import * as React from 'react';\r\n\r\nimport { Schema, SchemaProps } from './Schema';\r\n\r\nimport { ArrayClosingLabel, ArrayOpenningLabel } from '../../common-elements';\r\nimport styled from '../../styled-components';\r\nimport { humanizeConstraints } from '../../utils';\r\nimport { TypeName } from '../../common-elements/fields';\r\n\r\nconst PaddedSchema = styled.div`\r\n  padding-left: ${({ theme }) => theme.spacing.unit * 2}px;\r\n`;\r\n\r\nexport class ArraySchema extends React.PureComponent<SchemaProps> {\r\n  render() {\r\n    const schema = this.props.schema;\r\n    const itemsSchema = schema.items;\r\n\r\n    const minMaxItems =\r\n      schema.minItems === undefined && schema.maxItems === undefined\r\n        ? ''\r\n        : `(${humanizeConstraints(schema)})`;\r\n\r\n    if (schema.displayType && !itemsSchema && !minMaxItems.length) {\r\n      return (\r\n        <div>\r\n          <TypeName>{schema.displayType}</TypeName>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <ArrayOpenningLabel> Array {minMaxItems}</ArrayOpenningLabel>\r\n        <PaddedSchema>\r\n          <Schema {...this.props} schema={itemsSchema} />\r\n        </PaddedSchema>\r\n        <ArrayClosingLabel />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { ClickablePropertyNameCell, RequiredLabel } from '../../common-elements/fields';\r\nimport { FieldDetails } from './FieldDetails';\r\n\r\nimport {\r\n  InnerPropertiesWrap,\r\n  PropertyBullet,\r\n  PropertyCellWithInner,\r\n  PropertyDetailsCell,\r\n  PropertyNameCell,\r\n} from '../../common-elements/fields-layout';\r\n\r\nimport { ShelfIcon } from '../../common-elements/';\r\n\r\nimport { FieldModel } from '../../services/models';\r\nimport { Schema, SchemaOptions } from '../Schema/Schema';\r\n\r\nexport interface FieldProps extends SchemaOptions {\r\n  className?: string;\r\n  isLast?: boolean;\r\n  showExamples?: boolean;\r\n\r\n  field: FieldModel;\r\n  expandByDefault?: boolean;\r\n\r\n  renderDiscriminatorSwitch?: (opts: FieldProps) => JSX.Element;\r\n}\r\n\r\n@observer\r\nexport class Field extends React.Component<FieldProps> {\r\n  toggle = () => {\r\n    if (this.props.field.expanded === undefined && this.props.expandByDefault) {\r\n      this.props.field.expanded = false;\r\n    } else {\r\n      this.props.field.toggle();\r\n    }\r\n  };\r\n\r\n  handleKeyPress = e => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      this.toggle();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { className, field, isLast, expandByDefault } = this.props;\r\n    const { name, deprecated, required, kind } = field;\r\n    const withSubSchema = !field.schema.isPrimitive && !field.schema.isCircular;\r\n\r\n    const expanded = field.expanded === undefined ? expandByDefault : field.expanded;\r\n\r\n    const paramName = withSubSchema ? (\r\n      <ClickablePropertyNameCell\r\n        className={deprecated ? 'deprecated' : ''}\r\n        kind={kind}\r\n        title={name}\r\n      >\r\n        <PropertyBullet />\r\n        <button\r\n          onClick={this.toggle}\r\n          onKeyPress={this.handleKeyPress}\r\n          aria-label=\"expand properties\"\r\n        >\r\n          <span>{name}</span>\r\n          <ShelfIcon direction={expanded ? 'down' : 'right'} />\r\n        </button>\r\n        {required && <RequiredLabel> required </RequiredLabel>}\r\n      </ClickablePropertyNameCell>\r\n    ) : (\r\n      <PropertyNameCell className={deprecated ? 'deprecated' : undefined} kind={kind} title={name}>\r\n        <PropertyBullet />\r\n        <span>{name}</span>\r\n        {required && <RequiredLabel> required </RequiredLabel>}\r\n      </PropertyNameCell>\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <tr className={isLast ? 'last ' + className : className}>\r\n          {paramName}\r\n          <PropertyDetailsCell>\r\n            <FieldDetails {...this.props} />\r\n          </PropertyDetailsCell>\r\n        </tr>\r\n        {expanded && withSubSchema && (\r\n          <tr key={field.name + 'inner'}>\r\n            <PropertyCellWithInner colSpan={2}>\r\n              <InnerPropertiesWrap>\r\n                <Schema\r\n                  schema={field.schema}\r\n                  skipReadOnly={this.props.skipReadOnly}\r\n                  skipWriteOnly={this.props.skipWriteOnly}\r\n                  showTitle={this.props.showTitle}\r\n                />\r\n              </InnerPropertiesWrap>\r\n            </PropertyCellWithInner>\r\n          </tr>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { DropdownOption, StyledDropdown } from '../../common-elements/dropdown';\r\nimport { SchemaModel } from '../../services/models';\r\n\r\n@observer\r\nexport class DiscriminatorDropdown extends React.Component<{\r\n  parent: SchemaModel;\r\n  enumValues: string[];\r\n}> {\r\n  sortOptions(options: DropdownOption[], enumValues: string[]): void {\r\n    if (enumValues.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const enumOrder = {};\r\n\r\n    enumValues.forEach((enumItem, idx) => {\r\n      enumOrder[enumItem] = idx;\r\n    });\r\n\r\n    options.sort((a, b) => {\r\n      return enumOrder[a.value] > enumOrder[b.value] ? 1 : -1;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { parent, enumValues } = this.props;\r\n    if (parent.oneOf === undefined) {\r\n      return null;\r\n    }\r\n\r\n    const options = parent.oneOf.map((subSchema, idx) => {\r\n      return {\r\n        value: subSchema.title,\r\n        idx,\r\n      };\r\n    });\r\n\r\n    const activeValue = options[parent.activeOneOf].value;\r\n\r\n    this.sortOptions(options, enumValues);\r\n\r\n    return (\r\n      <StyledDropdown\r\n        value={activeValue}\r\n        options={options}\r\n        onChange={this.changeActiveChild}\r\n        ariaLabel=\"Example\"\r\n      />\r\n    );\r\n  }\r\n\r\n  changeActiveChild = (option: DropdownOption) => {\r\n    this.props.parent.activateOneOf(option.idx);\r\n  };\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { SchemaModel } from '../../services/models';\r\n\r\nimport { PropertiesTable, PropertiesTableCaption } from '../../common-elements/fields-layout';\r\nimport { Field } from '../Fields/Field';\r\nimport { DiscriminatorDropdown } from './DiscriminatorDropdown';\r\nimport { SchemaProps } from './Schema';\r\n\r\nimport { mapWithLast } from '../../utils';\r\nimport { OptionsContext } from '../OptionsProvider';\r\n\r\nexport interface ObjectSchemaProps extends SchemaProps {\r\n  discriminator?: {\r\n    fieldName: string;\r\n    parentSchema: SchemaModel;\r\n  };\r\n}\r\n\r\n@observer\r\nexport class ObjectSchema extends React.Component<ObjectSchemaProps> {\r\n  static contextType = OptionsContext;\r\n\r\n  get parentSchema() {\r\n    return this.props.discriminator!.parentSchema;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      schema: { fields = [] },\r\n      showTitle,\r\n      discriminator,\r\n    } = this.props;\r\n\r\n    const needFilter = this.props.skipReadOnly || this.props.skipWriteOnly;\r\n\r\n    const filteredFields = needFilter\r\n      ? fields.filter(item => {\r\n          return !(\r\n            (this.props.skipReadOnly && item.schema.readOnly) ||\r\n            (this.props.skipWriteOnly && item.schema.writeOnly)\r\n          );\r\n        })\r\n      : fields;\r\n\r\n    const expandByDefault = this.context.expandSingleSchemaField && filteredFields.length === 1;\r\n\r\n    return (\r\n      <PropertiesTable>\r\n        {showTitle && <PropertiesTableCaption>{this.props.schema.title}</PropertiesTableCaption>}\r\n        <tbody>\r\n          {mapWithLast(filteredFields, (field, isLast) => {\r\n            return (\r\n              <Field\r\n                key={field.name}\r\n                isLast={isLast}\r\n                field={field}\r\n                expandByDefault={expandByDefault}\r\n                renderDiscriminatorSwitch={\r\n                  (discriminator &&\r\n                    discriminator.fieldName === field.name &&\r\n                    (() => (\r\n                      <DiscriminatorDropdown\r\n                        parent={this.parentSchema}\r\n                        enumValues={field.schema.enum}\r\n                      />\r\n                    ))) ||\r\n                  undefined\r\n                }\r\n                className={field.expanded ? 'expanded' : undefined}\r\n                showExamples={false}\r\n                skipReadOnly={this.props.skipReadOnly}\r\n                skipWriteOnly={this.props.skipWriteOnly}\r\n                showTitle={this.props.showTitle}\r\n              />\r\n            );\r\n          })}\r\n        </tbody>\r\n      </PropertiesTable>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport {\r\n  OneOfButton as StyledOneOfButton,\r\n  OneOfLabel,\r\n  OneOfList,\r\n} from '../../common-elements/schema';\r\nimport { SchemaModel } from '../../services/models';\r\nimport { Schema, SchemaProps } from './Schema';\r\n\r\nexport interface OneOfButtonProps {\r\n  subSchema: SchemaModel;\r\n  idx: number;\r\n  schema: SchemaModel;\r\n}\r\n\r\n@observer\r\nexport class OneOfButton extends React.Component<OneOfButtonProps> {\r\n  render() {\r\n    const { idx, schema, subSchema } = this.props;\r\n    return (\r\n      <StyledOneOfButton active={idx === schema.activeOneOf} onClick={this.activateOneOf}>\r\n        {subSchema.title || subSchema.typePrefix + subSchema.displayType}\r\n      </StyledOneOfButton>\r\n    );\r\n  }\r\n\r\n  activateOneOf = () => {\r\n    this.props.schema.activateOneOf(this.props.idx);\r\n  };\r\n}\r\n\r\n@observer\r\nexport class OneOfSchema extends React.Component<SchemaProps> {\r\n  render() {\r\n    const {\r\n      schema: { oneOf },\r\n      schema,\r\n    } = this.props;\r\n\r\n    if (oneOf === undefined) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div>\r\n        <OneOfLabel> {schema.oneOfType} </OneOfLabel>\r\n        <OneOfList>\r\n          {oneOf.map((subSchema, idx) => (\r\n            <OneOfButton key={subSchema.pointer} schema={schema} subSchema={subSchema} idx={idx} />\r\n          ))}\r\n        </OneOfList>\r\n        <Schema {...this.props} schema={oneOf[schema.activeOneOf]} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { RecursiveLabel, TypeName, TypeTitle } from '../../common-elements/fields';\r\nimport { FieldDetails } from '../Fields/FieldDetails';\r\n\r\nimport { FieldModel, SchemaModel } from '../../services/models';\r\n\r\nimport { ArraySchema } from './ArraySchema';\r\nimport { ObjectSchema } from './ObjectSchema';\r\nimport { OneOfSchema } from './OneOfSchema';\r\n\r\nimport { l } from '../../services/Labels';\r\n\r\nexport interface SchemaOptions {\r\n  showTitle?: boolean;\r\n  skipReadOnly?: boolean;\r\n  skipWriteOnly?: boolean;\r\n}\r\n\r\nexport interface SchemaProps extends SchemaOptions {\r\n  schema: SchemaModel;\r\n}\r\n\r\n@observer\r\nexport class Schema extends React.Component<Partial<SchemaProps>> {\r\n  render() {\r\n    const { schema } = this.props;\r\n    if (!schema) {\r\n      return <em> Schema not provided </em>;\r\n    }\r\n    const { type, oneOf, discriminatorProp, isCircular } = schema;\r\n\r\n    if (isCircular) {\r\n      return (\r\n        <div>\r\n          <TypeName>{schema.displayType}</TypeName>\r\n          {schema.title && <TypeTitle> {schema.title} </TypeTitle>}\r\n          <RecursiveLabel> {l('recursive')} </RecursiveLabel>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (discriminatorProp !== undefined) {\r\n      if (!oneOf || !oneOf.length) {\r\n        console.warn(\r\n          `Looks like you are using discriminator wrong: you don't have any definition inherited from the ${schema.title}`,\r\n        );\r\n        return null;\r\n      }\r\n      return (\r\n        <ObjectSchema\r\n          {...{ ...this.props, schema: oneOf![schema.activeOneOf] }}\r\n          discriminator={{\r\n            fieldName: discriminatorProp,\r\n            parentSchema: schema,\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    if (oneOf !== undefined) {\r\n      return <OneOfSchema schema={schema} {...this.props} />;\r\n    }\r\n\r\n    const types = Array.isArray(type) ? type : [type];\r\n    if (types.includes('object')) {\r\n      if (schema.fields?.length) {\r\n        return <ObjectSchema {...(this.props as any)} />;\r\n      }\r\n    } else if (types.includes('array')) {\r\n      return <ArraySchema {...(this.props as any)} />;\r\n    }\r\n\r\n    // TODO: maybe adjust FieldDetails to accept schema\r\n    const field = {\r\n      schema,\r\n      name: '',\r\n      required: false,\r\n      description: schema.description,\r\n      externalDocs: schema.externalDocs,\r\n      deprecated: false,\r\n      toggle: () => null,\r\n      expanded: false,\r\n    } as any as FieldModel; // cast needed for hot-loader to not fail\r\n\r\n    return (\r\n      <div>\r\n        <FieldDetails field={field} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { DarkRightPanel, MiddlePanel, MimeLabel, Row, Section } from '../../common-elements';\r\nimport { MediaTypeModel, OpenAPIParser, RedocNormalizedOptions } from '../../services';\r\nimport styled from '../../styled-components';\r\nimport { OpenAPIMediaType } from '../../types';\r\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\r\nimport { MediaTypeSamples } from '../PayloadSamples/MediaTypeSamples';\r\nimport { InvertedSimpleDropdown } from '../PayloadSamples/styled.elements';\r\nimport { Schema } from '../Schema';\r\n\r\nexport interface ObjectDescriptionProps {\r\n  schemaRef: string;\r\n  exampleRef?: string;\r\n  showReadOnly?: boolean;\r\n  showWriteOnly?: boolean;\r\n  parser: OpenAPIParser;\r\n  options: RedocNormalizedOptions;\r\n}\r\n\r\nexport class SchemaDefinition extends React.PureComponent<ObjectDescriptionProps> {\r\n  private static getMediaType(schemaRef: string, exampleRef?: string): OpenAPIMediaType {\r\n    if (!schemaRef) {\r\n      return {};\r\n    }\r\n\r\n    const info: OpenAPIMediaType = {\r\n      schema: { $ref: schemaRef },\r\n    };\r\n\r\n    if (exampleRef) {\r\n      info.examples = { example: { $ref: exampleRef } };\r\n    }\r\n\r\n    return info;\r\n  }\r\n\r\n  private _mediaModel: MediaTypeModel;\r\n\r\n  private get mediaModel() {\r\n    const { parser, schemaRef, exampleRef, options } = this.props;\r\n    if (!this._mediaModel) {\r\n      this._mediaModel = new MediaTypeModel(\r\n        parser,\r\n        'json',\r\n        false,\r\n        SchemaDefinition.getMediaType(schemaRef, exampleRef),\r\n        options,\r\n      );\r\n    }\r\n\r\n    return this._mediaModel;\r\n  }\r\n\r\n  render() {\r\n    const { showReadOnly = true, showWriteOnly = false } = this.props;\r\n    return (\r\n      <Section>\r\n        <Row>\r\n          <MiddlePanel>\r\n            <Schema\r\n              skipWriteOnly={!showWriteOnly}\r\n              skipReadOnly={!showReadOnly}\r\n              schema={this.mediaModel.schema}\r\n            />\r\n          </MiddlePanel>\r\n          <DarkRightPanel>\r\n            <MediaSamplesWrap>\r\n              <MediaTypeSamples renderDropdown={this.renderDropdown} mediaType={this.mediaModel} />\r\n            </MediaSamplesWrap>\r\n          </DarkRightPanel>\r\n        </Row>\r\n      </Section>\r\n    );\r\n  }\r\n\r\n  private renderDropdown = props => {\r\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\r\n  };\r\n}\r\n\r\nconst MediaSamplesWrap = styled.div`\r\n  background: ${({ theme }) => theme.codeBlock.backgroundColor};\r\n  & > div,\r\n  & > pre {\r\n    padding: ${props => props.theme.spacing.unit * 4}px;\r\n    margin: 0;\r\n  }\r\n\r\n  & > div > pre {\r\n    padding: 0;\r\n  }\r\n`;\r\n","import * as React from 'react';\r\n\r\nimport { SecuritySchemesModel } from '../../services/models';\r\n\r\nimport { H2, MiddlePanel, Row, Section, ShareLink } from '../../common-elements';\r\nimport { OpenAPISecurityScheme } from '../../types';\r\nimport { titleize } from '../../utils/helpers';\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\r\n\r\nconst AUTH_TYPES = {\r\n  oauth2: 'OAuth2',\r\n  apiKey: 'API Key',\r\n  http: 'HTTP',\r\n  openIdConnect: 'OpenID Connect',\r\n};\r\n\r\nexport interface OAuthFlowProps {\r\n  type: string;\r\n  flow: OpenAPISecurityScheme['flows'][keyof OpenAPISecurityScheme['flows']];\r\n}\r\n\r\nexport class OAuthFlow extends React.PureComponent<OAuthFlowProps> {\r\n  render() {\r\n    const { type, flow } = this.props;\r\n    return (\r\n      <tr>\r\n        <th> {type} OAuth Flow </th>\r\n        <td>\r\n          {type === 'implicit' || type === 'authorizationCode' ? (\r\n            <div>\r\n              <strong> Authorization URL: </strong>\r\n              {(flow as any).authorizationUrl}\r\n            </div>\r\n          ) : null}\r\n          {type === 'password' || type === 'clientCredentials' || type === 'authorizationCode' ? (\r\n            <div>\r\n              <strong> Token URL: </strong>\r\n              {(flow as any).tokenUrl}\r\n            </div>\r\n          ) : null}\r\n          {flow!.refreshUrl && (\r\n            <div>\r\n              <strong> Refresh URL: </strong>\r\n              {flow!.refreshUrl}\r\n            </div>\r\n          )}\r\n          <div>\r\n            <strong> Scopes: </strong>\r\n          </div>\r\n          <ul>\r\n            {Object.keys(flow!.scopes || {}).map(scope => (\r\n              <li key={scope}>\r\n                <code>{scope}</code> - <Markdown inline={true} source={flow!.scopes[scope] || ''} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport interface SecurityDefsProps {\r\n  securitySchemes: SecuritySchemesModel;\r\n}\r\n\r\nexport class SecurityDefs extends React.PureComponent<SecurityDefsProps> {\r\n  render() {\r\n    return this.props.securitySchemes.schemes.map(scheme => (\r\n      <Section id={scheme.sectionId} key={scheme.id}>\r\n        <Row>\r\n          <MiddlePanel>\r\n            <H2>\r\n              <ShareLink to={scheme.sectionId} />\r\n              {scheme.id}\r\n            </H2>\r\n            <Markdown source={scheme.description || ''} />\r\n            <StyledMarkdownBlock>\r\n              <table className=\"security-details\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th> Security Scheme Type </th>\r\n                    <td> {AUTH_TYPES[scheme.type] || scheme.type} </td>\r\n                  </tr>\r\n                  {scheme.apiKey ? (\r\n                    <tr>\r\n                      <th> {titleize(scheme.apiKey.in || '')} parameter name:</th>\r\n                      <td> {scheme.apiKey.name} </td>\r\n                    </tr>\r\n                  ) : scheme.http ? (\r\n                    [\r\n                      <tr key=\"scheme\">\r\n                        <th> HTTP Authorization Scheme </th>\r\n                        <td> {scheme.http.scheme} </td>\r\n                      </tr>,\r\n                      scheme.http.scheme === 'bearer' && scheme.http.bearerFormat && (\r\n                        <tr key=\"bearer\">\r\n                          <th> Bearer format </th>\r\n                          <td> &quot;{scheme.http.bearerFormat}&quot; </td>\r\n                        </tr>\r\n                      ),\r\n                    ]\r\n                  ) : scheme.openId ? (\r\n                    <tr>\r\n                      <th> Connect URL </th>\r\n                      <td>\r\n                        <a\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          href={scheme.openId.connectUrl}\r\n                        >\r\n                          {scheme.openId.connectUrl}\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                  ) : scheme.flows ? (\r\n                    Object.keys(scheme.flows).map(type => (\r\n                      <OAuthFlow key={type} type={type} flow={scheme.flows[type]} />\r\n                    ))\r\n                  ) : null}\r\n                </tbody>\r\n              </table>\r\n            </StyledMarkdownBlock>\r\n          </MiddlePanel>\r\n        </Row>\r\n      </Section>\r\n    ));\r\n  }\r\n}\r\n","import { Lambda, observe } from 'mobx';\r\n\r\nimport { OpenAPISpec } from '../types';\r\nimport { loadAndBundleSpec } from '../utils/loadAndBundleSpec';\r\nimport { history } from './HistoryService';\r\nimport { MarkerService } from './MarkerService';\r\nimport { MenuStore } from './MenuStore';\r\nimport { SpecStore } from './models';\r\nimport { RedocNormalizedOptions, RedocRawOptions } from './RedocNormalizedOptions';\r\nimport { ScrollService } from './ScrollService';\r\nimport { SearchStore } from './SearchStore';\r\n\r\nimport { SchemaDefinition } from '../components/SchemaDefinition/SchemaDefinition';\r\nimport { SecurityDefs } from '../components/SecuritySchemes/SecuritySchemes';\r\nimport {\r\n  SCHEMA_DEFINITION_JSX_NAME,\r\n  SECURITY_DEFINITIONS_COMPONENT_NAME,\r\n  SECURITY_DEFINITIONS_JSX_NAME,\r\n} from '../utils/openapi';\r\n\r\nimport { IS_BROWSER } from '../utils';\r\n\r\nexport interface StoreState {\r\n  menu: {\r\n    activeItemIdx: number;\r\n  };\r\n  spec: {\r\n    url?: string;\r\n    data: any;\r\n  };\r\n  searchIndex: any;\r\n  options: RedocRawOptions;\r\n}\r\n\r\nexport async function createStore(\r\n  spec: object,\r\n  specUrl: string | undefined,\r\n  options: RedocRawOptions = {},\r\n) {\r\n  const resolvedSpec = await loadAndBundleSpec(spec || specUrl);\r\n  return new AppStore(resolvedSpec, specUrl, options);\r\n}\r\n\r\nexport class AppStore {\r\n  /**\r\n   * deserialize store\r\n   * **SUPER HACKY AND NOT OPTIMAL IMPLEMENTATION**\r\n   */\r\n  // TODO:\r\n  static fromJS(state: StoreState): AppStore {\r\n    const inst = new AppStore(state.spec.data, state.spec.url, state.options, false);\r\n    inst.menu.activeItemIdx = state.menu.activeItemIdx || 0;\r\n    inst.menu.activate(inst.menu.flatItems[inst.menu.activeItemIdx]);\r\n    if (!inst.options.disableSearch) {\r\n      inst.search!.load(state.searchIndex);\r\n    }\r\n    return inst;\r\n  }\r\n\r\n  menu: MenuStore;\r\n  spec: SpecStore;\r\n  rawOptions: RedocRawOptions;\r\n  options: RedocNormalizedOptions;\r\n  search?: SearchStore<string>;\r\n  marker = new MarkerService();\r\n\r\n  private scroll: ScrollService;\r\n  private disposer: Lambda | null = null;\r\n\r\n  constructor(\r\n    spec: OpenAPISpec,\r\n    specUrl?: string,\r\n    options: RedocRawOptions = {},\r\n    createSearchIndex: boolean = true,\r\n  ) {\r\n    this.rawOptions = options;\r\n    this.options = new RedocNormalizedOptions(options, DEFAULT_OPTIONS);\r\n    this.scroll = new ScrollService(this.options);\r\n\r\n    // update position statically based on hash (in case of SSR)\r\n    MenuStore.updateOnHistory(history.currentId, this.scroll);\r\n\r\n    this.spec = new SpecStore(spec, specUrl, this.options);\r\n    this.menu = new MenuStore(this.spec, this.scroll, history);\r\n\r\n    if (!this.options.disableSearch) {\r\n      this.search = new SearchStore();\r\n      if (createSearchIndex) {\r\n        this.search.indexItems(this.menu.items);\r\n      }\r\n\r\n      this.disposer = observe(this.menu, 'activeItemIdx', change => {\r\n        this.updateMarkOnMenu(change.newValue as number);\r\n      });\r\n    }\r\n  }\r\n\r\n  onDidMount() {\r\n    this.menu.updateOnHistory();\r\n    this.updateMarkOnMenu(this.menu.activeItemIdx);\r\n  }\r\n\r\n  dispose() {\r\n    this.scroll.dispose();\r\n    this.menu.dispose();\r\n    if (this.search) {\r\n      this.search.dispose();\r\n    }\r\n    if (this.disposer != null) {\r\n      this.disposer();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * serializes store\r\n   * **SUPER HACKY AND NOT OPTIMAL IMPLEMENTATION**\r\n   */\r\n  // TODO: improve\r\n  async toJS(): Promise<StoreState> {\r\n    return {\r\n      menu: {\r\n        activeItemIdx: this.menu.activeItemIdx,\r\n      },\r\n      spec: {\r\n        url: this.spec.parser.specUrl,\r\n        data: this.spec.parser.spec,\r\n      },\r\n      searchIndex: this.search ? await this.search.toJS() : undefined,\r\n      options: this.rawOptions,\r\n    };\r\n  }\r\n\r\n  private updateMarkOnMenu(idx: number) {\r\n    const start = Math.max(0, idx);\r\n    const end = Math.min(this.menu.flatItems.length, start + 5);\r\n\r\n    const elements: Element[] = [];\r\n    for (let i = start; i < end; i++) {\r\n      const elem = this.menu.getElementAt(i);\r\n      if (!elem) {\r\n        continue;\r\n      }\r\n      elements.push(elem);\r\n    }\r\n\r\n    if (idx === -1 && IS_BROWSER) {\r\n      const $description = document.querySelector('[data-role=\"redoc-description\"]');\r\n      const $summary = document.querySelector('[data-role=\"redoc-summary\"]');\r\n\r\n      if ($description) elements.push($description);\r\n      if ($summary) elements.push($summary);\r\n    }\r\n\r\n    this.marker.addOnly(elements);\r\n    this.marker.mark();\r\n  }\r\n}\r\n\r\nconst DEFAULT_OPTIONS: RedocRawOptions = {\r\n  allowedMdComponents: {\r\n    [SECURITY_DEFINITIONS_COMPONENT_NAME]: {\r\n      component: SecurityDefs,\r\n      propsSelector: (store: AppStore) => ({\r\n        securitySchemes: store.spec.securitySchemes,\r\n      }),\r\n    },\r\n    [SECURITY_DEFINITIONS_JSX_NAME]: {\r\n      component: SecurityDefs,\r\n      propsSelector: (store: AppStore) => ({\r\n        securitySchemes: store.spec.securitySchemes,\r\n      }),\r\n    },\r\n    [SCHEMA_DEFINITION_JSX_NAME]: {\r\n      component: SchemaDefinition,\r\n      propsSelector: (store: AppStore) => ({\r\n        parser: store.spec.parser,\r\n        options: store.options,\r\n      }),\r\n    },\r\n  },\r\n};\r\n","import { H1, MiddlePanel } from '../../common-elements';\r\nimport styled, { extensionsHook } from '../../styled-components';\r\n\r\nconst delimiterWidth = 15;\r\n\r\nexport const ApiInfoWrap = MiddlePanel;\r\n\r\nexport const ApiHeader = styled(H1)`\r\n  margin-top: 0;\r\n  margin-bottom: 0.5em;\r\n\r\n  ${extensionsHook('ApiHeader')};\r\n`;\r\n\r\nexport const DownloadButton = styled.a`\r\n  border: 1px solid ${props => props.theme.colors.primary.main};\r\n  color: ${props => props.theme.colors.primary.main};\r\n  font-weight: normal;\r\n  margin-left: 0.5em;\r\n  padding: 4px 14px;\r\n  border-radius: 20px;\r\n  display: inline-block;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  transition: all 300ms ease;\r\n\r\n  &:hover {\r\n    background-color: ${({theme}) => theme.colors.primary.main};\r\n    color:  ${({theme}) => theme.colors.light.main};\r\n  }\r\n\r\n  ${extensionsHook('DownloadButton')};\r\n`;\r\n\r\nexport const InfoSpan = styled.span`\r\n  &::before {\r\n    content: '|';\r\n    display: inline-block;\r\n    opacity: 0.5;\r\n    width: ${delimiterWidth}px;\r\n    text-align: center;\r\n  }\r\n\r\n  &:last-child::after {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const InfoSpanBoxWrap = styled.div`\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const InfoSpanBox = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  // hide separator on new lines: idea from https://stackoverflow.com/a/31732902/1749888\r\n  margin-left: -${delimiterWidth}px;\r\n`;\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { AppStore } from '../../services/AppStore';\r\n\r\nimport { MiddlePanel, Row, Section } from '../../common-elements/';\r\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\r\nimport {\r\n  ApiHeader,\r\n  DownloadButton,\r\n  InfoSpan,\r\n  InfoSpanBox,\r\n  InfoSpanBoxWrap,\r\n} from './styled.elements';\r\nimport { l } from '../../services/Labels';\r\n\r\nexport interface ApiInfoProps {\r\n  store: AppStore;\r\n}\r\n\r\n@observer\r\nexport class ApiInfo extends React.Component<ApiInfoProps> {\r\n  handleDownloadClick = e => {\r\n    if (!e.target.href) {\r\n      e.target.href = this.props.store.spec.info.downloadLink;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { store } = this.props;\r\n    const { info, externalDocs } = store.spec;\r\n    const hideDownloadButton = store.options.hideDownloadButton;\r\n\r\n    const downloadFilename = info.downloadFileName;\r\n    const downloadLink = info.downloadLink;\r\n\r\n    const license =\r\n      (info.license && (\r\n        <InfoSpan>\r\n          License:{' '}\r\n          {info.license.identifier ? (\r\n            info.license.identifier\r\n          ) : (\r\n            <a href={info.license.url}>{info.license.name}</a>\r\n          )}\r\n        </InfoSpan>\r\n      )) ||\r\n      null;\r\n\r\n    const website =\r\n      (info.contact && info.contact.url && (\r\n        <InfoSpan>\r\n          URL: <a href={info.contact.url}>{info.contact.url}</a>\r\n        </InfoSpan>\r\n      )) ||\r\n      null;\r\n\r\n    const email =\r\n      (info.contact && info.contact.email && (\r\n        <InfoSpan>\r\n          {info.contact.name || 'E-mail'}:{' '}\r\n          <a href={'mailto:' + info.contact.email}>{info.contact.email}</a>\r\n        </InfoSpan>\r\n      )) ||\r\n      null;\r\n\r\n    const terms =\r\n      (info.termsOfService && (\r\n        <InfoSpan>\r\n          <a href={info.termsOfService}>Terms of Service</a>\r\n        </InfoSpan>\r\n      )) ||\r\n      null;\r\n\r\n    const version = (info.version && <span>({info.version})</span>) || null;\r\n\r\n    return (\r\n      <Section>\r\n        <Row>\r\n          <MiddlePanel className=\"api-info\">\r\n            <ApiHeader>\r\n              {info.title} {version}\r\n            </ApiHeader>\r\n            {!hideDownloadButton && (\r\n              <p>\r\n                {l('downloadSpecification')}:\r\n                <DownloadButton\r\n                  download={downloadFilename || true}\r\n                  target=\"_blank\"\r\n                  href={downloadLink}\r\n                  onClick={this.handleDownloadClick}\r\n                >\r\n                  {l('download')}\r\n                </DownloadButton>\r\n              </p>\r\n            )}\r\n            <StyledMarkdownBlock>\r\n              {((info.license || info.contact || info.termsOfService) && (\r\n                <InfoSpanBoxWrap>\r\n                  <InfoSpanBox>\r\n                    {email} {website} {license} {terms}\r\n                  </InfoSpanBox>\r\n                </InfoSpanBoxWrap>\r\n              )) ||\r\n                null}\r\n            </StyledMarkdownBlock>\r\n            <Markdown source={store.spec.info.summary} data-role=\"redoc-summary\" />\r\n            <Markdown source={store.spec.info.description} data-role=\"redoc-description\" />\r\n            {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\r\n          </MiddlePanel>\r\n        </Row>\r\n      </Section>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { AppStore, MarkdownRenderer, RedocNormalizedOptions } from '../../services';\r\nimport { BaseMarkdownProps } from './Markdown';\r\nimport { SanitizedMarkdownHTML } from './SanitizedMdBlock';\r\n\r\nimport { OptionsConsumer } from '../OptionsProvider';\r\nimport { StoreConsumer } from '../StoreBuilder';\r\n\r\nexport interface AdvancedMarkdownProps extends BaseMarkdownProps {\r\n  htmlWrap?: (part: JSX.Element) => JSX.Element;\r\n}\r\n\r\nexport class AdvancedMarkdown extends React.Component<AdvancedMarkdownProps> {\r\n  render() {\r\n    return (\r\n      <OptionsConsumer>\r\n        {options => (\r\n          <StoreConsumer>{store => this.renderWithOptionsAndStore(options, store)}</StoreConsumer>\r\n        )}\r\n      </OptionsConsumer>\r\n    );\r\n  }\r\n\r\n  renderWithOptionsAndStore(options: RedocNormalizedOptions, store?: AppStore) {\r\n    const { source, htmlWrap = i => i } = this.props;\r\n    if (!store) {\r\n      throw new Error('When using components in markdown, store prop must be provided');\r\n    }\r\n\r\n    const renderer = new MarkdownRenderer(options);\r\n    const parts = renderer.renderMdWithComponents(source);\r\n\r\n    if (!parts.length) {\r\n      return null;\r\n    }\r\n\r\n    return parts.map((part, idx) => {\r\n      if (typeof part === 'string') {\r\n        return React.cloneElement(\r\n          htmlWrap(<SanitizedMarkdownHTML html={part} inline={false} compact={false} />),\r\n          { key: idx },\r\n        );\r\n      }\r\n      return <part.component key={idx} {...{ ...part.props, ...part.propsSelector(store) }} />;\r\n    });\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { darken } from 'polished';\r\nimport { ShelfIcon } from '../../common-elements';\r\nimport { OperationBadge } from '../../common-elements';\r\nimport { shortenHTTPVerb } from '../../utils/openapi';\r\nimport styled from '../../styled-components';\r\nimport { Badge } from '../../common-elements/';\r\nimport { l } from '../../services/Labels';\r\n\r\nexport interface CallbackTitleProps {\r\n  name: string;\r\n  opened?: boolean;\r\n  httpVerb: string;\r\n  deprecated?: boolean;\r\n  className?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport class CallbackTitle extends React.PureComponent<CallbackTitleProps> {\r\n  render() {\r\n    const { name, opened, className, onClick, httpVerb, deprecated } = this.props;\r\n\r\n    return (\r\n      <CallbackTitleWrapper className={className} onClick={onClick || undefined}>\r\n        <OperationBadgeStyled type={httpVerb}>{shortenHTTPVerb(httpVerb)}</OperationBadgeStyled>\r\n        <ShelfIcon size={'1em'} direction={opened ? 'down' : 'right'} float={'left'} />\r\n        <CallbackName deprecated={deprecated}>{name}</CallbackName>\r\n        {deprecated ? <Badge type=\"warning\"> {l('deprecated')} </Badge> : null}\r\n      </CallbackTitleWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nconst CallbackTitleWrapper = styled.button`\r\n  border: 0;\r\n  width: 100%;\r\n  text-align: left;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & > * {\r\n    vertical-align: middle;\r\n  }\r\n\r\n  svg {\r\n    margin-right: 0.5rem;\r\n  }\r\n\r\n  ${ShelfIcon} {\r\n    polygon, path {\r\n      fill: ${({ theme }) => darken(theme.colors.tonalOffset, theme.colors.gray[100])};\r\n    }\r\n  }\r\n`;\r\n\r\nconst CallbackName = styled.span<{ deprecated?: boolean }>`\r\n  text-decoration: ${props => (props.deprecated ? 'line-through' : 'none')};\r\n  margin-right: 8px;\r\n`;\r\n\r\nconst OperationBadgeStyled = styled(OperationBadge)`\r\n  margin: 0 5px 0 0;\r\n`;\r\n","import styled from '../../styled-components';\r\nimport { CallbackTitle } from './CallbackTitle';\r\nimport { darken } from 'polished';\r\n\r\nexport const StyledCallbackTitle = styled(CallbackTitle)`\r\n  padding: 10px;\r\n  border-radius: 2px;\r\n  margin-bottom: 4px;\r\n  line-height: 1.5em;\r\n  background-color: ${({ theme }) => theme.colors.gray[100]};\r\n  cursor: pointer;\r\n  outline-color: ${({ theme }) => darken(theme.colors.tonalOffset, theme.colors.gray[100])};\r\n`;\r\n\r\nexport const CallbackDetailsWrap = styled.div`\r\n  padding: 10px 25px;\r\n  background-color: ${({ theme }) => theme.colors.gray[50]};\r\n  margin-bottom: 5px;\r\n  margin-top: 5px;\r\n`;\r\n","import * as React from 'react';\r\n\r\nimport { ClipboardService } from '../../services';\r\n\r\nexport class SelectOnClick extends React.PureComponent {\r\n  private child: HTMLDivElement | null;\r\n  selectElement = () => {\r\n    ClipboardService.selectElement(this.child);\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <div\r\n        ref={el => (this.child = el)}\r\n        onClick={this.selectElement}\r\n        onFocus={this.selectElement}\r\n        tabIndex={0}\r\n        role=\"button\"\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import styled from '../../styled-components';\r\n\r\nexport const OperationEndpointWrap = styled.div`\r\n  cursor: pointer;\r\n  position: relative;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nexport const ServerRelativeURL = styled.span`\r\n  font-family: ${props => props.theme.typography.fontFamily};\r\n  font-size: 1rem;\r\n  margin-left: 10px;\r\n  flex: 1;\r\n  overflow-x: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const EndpointInfo = styled.button<{ expanded?: boolean; inverted?: boolean }>`\r\n  outline: 0;\r\n  color: inherit;\r\n  width: 100%;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  padding: 7px 30px 7px 7px;\r\n  border-radius: 20px;\r\n  background-color: transparent;\r\n  display: flex;\r\n  white-space: nowrap;\r\n  align-items: center;\r\n  border: ${({theme}) => `1px solid ${theme.colors.text.secondary}`};\r\n  transition: border-color 0.25s ease;\r\n\r\n  .${ServerRelativeURL} {\r\n    color: ${props => (props.inverted ? props.theme.colors.text.primary : '#ffffff')};\r\n  }\r\n`;\r\n\r\nexport const HttpVerb = styled.span.attrs((props: { type: string; compact?: boolean }) => ({\r\n  className: `http-verb ${props.type}`,\r\n}))<{ type: string; compact?: boolean }>`\r\n  font-size: 0.75rem;\r\n  background-color: ${props => props.theme.colors.http[props.type] || '#999999'};\r\n  color: ${({theme}) => theme.colors.text.fixed};\r\n  height: 24px;\r\n  display: flex;\r\n  border-radius: 20px;\r\n  align-items: center;\r\n  padding: 0 14px;\r\n  font-family: ${props => props.theme.typography.fontFamily};\r\n  margin: 0;\r\n`;\r\n\r\nexport const ServersOverlay = styled.div<{ expanded: boolean }>`\r\n  position: absolute;\r\n  width: 100%;\r\n  z-index: 100;\r\n  background: ${({theme}) => theme.colors.light.main};\r\n  color: #263238;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  border-radius: 14px;\r\n  transition: all 0.25s ease;\r\n  visibility: hidden;\r\n  ${props => (props.expanded ? 'visibility: visible;' : 'transform: translateY(-50%) scaleY(0);')}\r\n`;\r\n\r\nexport const ServerItem = styled.div`\r\n  padding: 10px;\r\n`;\r\n\r\nexport const ServerUrl = styled.div`\r\n  padding: 5px;\r\n  word-break: break-all;\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  color: ${props => props.theme.colors.primary.main};\r\n  \r\n  > span {\r\n    color: ${props => props.theme.colors.text.primary};\r\n  }\r\n`;\r\n","import * as React from 'react';\r\nimport { ShelfIcon } from '../../common-elements';\r\nimport { OperationModel } from '../../services';\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport { SelectOnClick } from '../SelectOnClick/SelectOnClick';\r\n\r\nimport { expandDefaultServerVariables, getBasePath } from '../../utils';\r\nimport {\r\n  EndpointInfo,\r\n  HttpVerb,\r\n  OperationEndpointWrap,\r\n  ServerItem,\r\n  ServerRelativeURL,\r\n  ServersOverlay,\r\n  ServerUrl,\r\n} from './styled.elements';\r\n\r\nexport interface EndpointProps {\r\n  operation: OperationModel;\r\n\r\n  hideHostname?: boolean;\r\n  inverted?: boolean;\r\n  compact?: boolean;\r\n}\r\n\r\nexport interface EndpointState {\r\n  expanded: boolean;\r\n}\r\n\r\nexport class Endpoint extends React.Component<EndpointProps, EndpointState> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: false,\r\n    };\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({ expanded: !this.state.expanded });\r\n  };\r\n\r\n  render() {\r\n    const { operation, inverted, hideHostname } = this.props;\r\n    const { expanded } = this.state;\r\n\r\n    // TODO: highlight server variables, e.g. https://{user}.test.com\r\n    return (\r\n      <OptionsContext.Consumer>\r\n        {options => (\r\n          <OperationEndpointWrap>\r\n            <EndpointInfo onClick={this.toggle} expanded={expanded} inverted={inverted}>\r\n              <HttpVerb type={operation.httpVerb} compact={this.props.compact}>\r\n                {operation.httpVerb}\r\n              </HttpVerb>\r\n              <ServerRelativeURL>{operation.path}</ServerRelativeURL>\r\n              <ShelfIcon\r\n                float={'right'}\r\n                color={inverted ? 'black' : 'white'}\r\n                size={'12px'}\r\n                direction={expanded ? 'up' : 'down'}\r\n                style={{ marginRight: '-15px' }}\r\n              />\r\n            </EndpointInfo>\r\n            <ServersOverlay expanded={expanded} aria-hidden={!expanded}>\r\n              {operation.servers.map(server => {\r\n                const normalizedUrl = options.expandDefaultServerVariables\r\n                  ? expandDefaultServerVariables(server.url, server.variables)\r\n                  : server.url;\r\n                const basePath = getBasePath(normalizedUrl);\r\n                return (\r\n                  <ServerItem key={normalizedUrl}>\r\n                    <Markdown source={server.description || ''} compact={true} />\r\n                    <SelectOnClick>\r\n                      <ServerUrl>\r\n                        <span>\r\n                          {hideHostname || options.hideHostname\r\n                            ? basePath === '/'\r\n                              ? ''\r\n                              : basePath\r\n                            : normalizedUrl}\r\n                        </span>\r\n                        {operation.path}\r\n                      </ServerUrl>\r\n                    </SelectOnClick>\r\n                  </ServerItem>\r\n                );\r\n              })}\r\n            </ServersOverlay>\r\n          </OperationEndpointWrap>\r\n        )}\r\n      </OptionsContext.Consumer>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { UnderlinedHeader } from '../../common-elements';\r\nimport { PropertiesTable } from '../../common-elements/fields-layout';\r\n\r\nimport { FieldModel } from '../../services/models';\r\nimport { Field } from '../Fields/Field';\r\n\r\nimport { mapWithLast } from '../../utils';\r\n\r\nexport interface ParametersGroupProps {\r\n  place: string;\r\n  parameters: FieldModel[];\r\n}\r\n\r\nexport class ParametersGroup extends React.PureComponent<ParametersGroupProps, any> {\r\n  render() {\r\n    const { place, parameters } = this.props;\r\n    if (!parameters || !parameters.length) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div key={place}>\r\n        <UnderlinedHeader>{place} Parameters</UnderlinedHeader>\r\n        <PropertiesTable>\r\n          <tbody>\r\n            {mapWithLast(parameters, (field, isLast) => (\r\n              <Field key={field.name} isLast={isLast} field={field} showExamples={true} />\r\n            ))}\r\n          </tbody>\r\n        </PropertiesTable>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { DropdownProps } from '../../common-elements/dropdown';\r\nimport { MediaContentModel, MediaTypeModel, SchemaModel } from '../../services/models';\r\nimport { DropdownLabel, DropdownWrapper } from '../PayloadSamples/styled.elements';\r\n\r\nexport interface MediaTypeChildProps {\r\n  schema: SchemaModel;\r\n  mime?: string;\r\n}\r\n\r\nexport interface MediaTypesSwitchProps {\r\n  content?: MediaContentModel;\r\n  withLabel?: boolean;\r\n\r\n  renderDropdown: (props: DropdownProps) => JSX.Element;\r\n  children: (activeMime: MediaTypeModel) => JSX.Element;\r\n}\r\n\r\n@observer\r\nexport class MediaTypesSwitch extends React.Component<MediaTypesSwitchProps> {\r\n  switchMedia = ({ idx }) => {\r\n    if (this.props.content) {\r\n      this.props.content.activate(idx);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { content } = this.props;\r\n    if (!content || !content.mediaTypes || !content.mediaTypes.length) {\r\n      return null;\r\n    }\r\n    const activeMimeIdx = content.activeMimeIdx;\r\n\r\n    const options = content.mediaTypes.map((mime, idx) => {\r\n      return {\r\n        value: mime.name,\r\n        idx,\r\n      };\r\n    });\r\n\r\n    const Wrapper = ({ children }) =>\r\n      this.props.withLabel ? (\r\n        <DropdownWrapper>\r\n          <DropdownLabel>Content type</DropdownLabel>\r\n          {children}\r\n        </DropdownWrapper>\r\n      ) : (\r\n        children\r\n      );\r\n\r\n    return (\r\n      <>\r\n        <Wrapper>\r\n          {this.props.renderDropdown({\r\n            value: options[activeMimeIdx].value,\r\n            options,\r\n            onChange: this.switchMedia,\r\n            ariaLabel: 'Content type',\r\n          })}\r\n        </Wrapper>\r\n        {this.props.children(content.active)}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\r\nimport { ParametersGroup } from './ParametersGroup';\r\n\r\nimport { UnderlinedHeader } from '../../common-elements';\r\n\r\nimport { MediaContentModel } from '../../services';\r\nimport { FieldModel, RequestBodyModel } from '../../services/models';\r\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\r\nimport { Schema } from '../Schema';\r\n\r\nimport { Markdown } from '../Markdown/Markdown';\r\n\r\nfunction safePush(obj, prop, item) {\r\n  if (!obj[prop]) {\r\n    obj[prop] = [];\r\n  }\r\n  obj[prop].push(item);\r\n}\r\n\r\nexport interface ParametersProps {\r\n  parameters?: FieldModel[];\r\n  body?: RequestBodyModel;\r\n}\r\n\r\nconst PARAM_PLACES = ['path', 'query', 'cookie', 'header'];\r\n\r\nexport class Parameters extends React.PureComponent<ParametersProps> {\r\n  orderParams(params: FieldModel[]): Record<string, FieldModel[]> {\r\n    const res = {};\r\n    params.forEach(param => {\r\n      safePush(res, param.in, param);\r\n    });\r\n    return res;\r\n  }\r\n\r\n  render() {\r\n    const { body, parameters = [] } = this.props;\r\n    if (body === undefined && parameters === undefined) {\r\n      return null;\r\n    }\r\n\r\n    const paramsMap = this.orderParams(parameters);\r\n\r\n    const paramsPlaces = parameters.length > 0 ? PARAM_PLACES : [];\r\n\r\n    const bodyContent = body && body.content;\r\n\r\n    const bodyDescription = body && body.description;\r\n\r\n    return (\r\n      <>\r\n        {paramsPlaces.map(place => (\r\n          <ParametersGroup key={place} place={place} parameters={paramsMap[place]} />\r\n        ))}\r\n        {bodyContent && <BodyContent content={bodyContent} description={bodyDescription} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction DropdownWithinHeader(props) {\r\n  return (\r\n    <UnderlinedHeader key=\"header\">\r\n      Request Body schema: <DropdownOrLabel {...props} />\r\n    </UnderlinedHeader>\r\n  );\r\n}\r\n\r\nexport function BodyContent(props: {\r\n  content: MediaContentModel;\r\n  description?: string;\r\n}): JSX.Element {\r\n  const { content, description } = props;\r\n  const { isRequestType } = content;\r\n  return (\r\n    <MediaTypesSwitch content={content} renderDropdown={DropdownWithinHeader}>\r\n      {({ schema }) => {\r\n        return (\r\n          <>\r\n            {description !== undefined && <Markdown source={description} />}\r\n            <Schema skipReadOnly={isRequestType} key=\"schema\" schema={schema} />\r\n          </>\r\n        );\r\n      }}\r\n    </MediaTypesSwitch>\r\n  );\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { Code } from './styled.elements';\r\nimport { ShelfIcon } from '../../common-elements';\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport {ResponseTitleArrow} from \"./styled.elements\"\r\n\r\nexport interface ResponseTitleProps {\r\n  code: string;\r\n  title: string;\r\n  type: string;\r\n  empty?: boolean;\r\n  opened?: boolean;\r\n  className?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport class ResponseTitle extends React.PureComponent<ResponseTitleProps> {\r\n  render() {\r\n    const { title, empty, code, opened, className, onClick } = this.props;\r\n    console.log(empty)\r\n    return (\r\n      <button\r\n        className={className}\r\n        onClick={(!empty && onClick) || undefined}\r\n        aria-expanded={opened}\r\n        disabled={empty}\r\n      >\r\n        {!empty && (\r\n          <ResponseTitleArrow>\r\n            <ShelfIcon\r\n              size={'1em'}\r\n              direction={opened ? 'down' : 'right'}\r\n              float={'left'}\r\n            />\r\n          </ResponseTitleArrow>\r\n        )}\r\n        <Code>{code} </Code>\r\n        <Markdown compact={true} inline={true} source={title} />\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import { UnderlinedHeader } from '../../common-elements';\r\nimport styled from '../../styled-components';\r\nimport { ResponseTitle } from './ResponseTitle';\r\n\r\nexport const StyledResponseTitle = styled(ResponseTitle)`\r\n  display: block;\r\n  border: 0;\r\n  width: 100%;\r\n  text-align: left;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  padding-left: 0;\r\n  border-radius: 2px;\r\n  margin-bottom: 4px;\r\n  line-height: 1.5em;\r\n  font-size: 1rem;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  outline: none;\r\n  color: ${({ theme }) => theme.colors.text.secondary};\r\n  box-shadow: ${props => props.opened ? `box-shadow: 0px 1px 0px 0px #000000` : \"none\"};\r\n  transition: color 300ms ease;\r\n\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.text.primary};\r\n  }\r\n\r\n  strong {\r\n    display: inline-flex;\r\n    border-radius: 20px;\r\n    font-size: 0.875rem;\r\n    color: ${props => props.theme.colors.responses[props.type].color};\r\n    padding: ${({ theme }) => theme.spacing.unit * 1.5}px ${({ theme }) => theme.spacing.unit * 3}px;\r\n    background-color: ${props => props.theme.colors.responses[props.type].backgroundColor};\r\n  }\r\n\r\n  & > * {\r\n    margin-right: 0.5rem;\r\n  }\r\n\r\n  ${props =>\r\n    (props.empty &&\r\n      `\r\ncursor: default;\r\n&::before {\r\n  content: \"—\";\r\n  font-weight: bold;\r\n  width: 1.5em;\r\n  text-align: center;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n}\r\n&:focus {\r\n  outline: 0;\r\n}\r\n`) ||\r\n    ''};\r\n`;\r\n\r\nexport const ResponseDetailsWrap = styled.div`\r\n  padding: 10px;\r\n`;\r\n\r\nexport const HeadersCaption = styled(UnderlinedHeader.withComponent('caption'))`\r\n  text-align: left;\r\n  margin-top: 1em;\r\n  caption-side: top;\r\n`;\r\n\r\nexport const Code = styled.strong`\r\n  vertical-align: top;\r\n`;\r\n\r\nexport const ResponseTitleArrow = styled.div`\r\nsvg {\r\n  polygon, path {\r\n    fill: ${({ theme }) =>  theme.colors.text.primary };\r\n  }\r\n}`;\r\n\r\n\r\n\r\n","import * as React from 'react';\r\nimport { PropertiesTable } from '../../common-elements/fields-layout';\r\n\r\nimport { FieldModel } from '../../services/models';\r\nimport { mapWithLast } from '../../utils';\r\nimport { Field } from '../Fields/Field';\r\nimport { HeadersCaption } from './styled.elements';\r\n\r\nexport interface ResponseHeadersProps {\r\n  headers?: FieldModel[];\r\n}\r\n\r\nexport class ResponseHeaders extends React.PureComponent<ResponseHeadersProps> {\r\n  render() {\r\n    const { headers } = this.props;\r\n    if (headers === undefined || headers.length === 0) {\r\n      return null;\r\n    }\r\n    return (\r\n      <PropertiesTable>\r\n        <HeadersCaption> Response Headers </HeadersCaption>\r\n        <tbody>\r\n          {mapWithLast(headers, (header, isLast) => (\r\n            <Field isLast={isLast} key={header.name} field={header} showExamples={true} />\r\n          ))}\r\n        </tbody>\r\n      </PropertiesTable>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { ResponseModel } from '../../services/models';\r\n\r\nimport { UnderlinedHeader } from '../../common-elements';\r\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\r\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\r\nimport { Schema } from '../Schema';\r\n\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport { ResponseHeaders } from './ResponseHeaders';\r\n\r\nexport class ResponseDetails extends React.PureComponent<{ response: ResponseModel }> {\r\n  render() {\r\n    const { description, headers, content } = this.props.response;\r\n    return (\r\n      <>\r\n        {description && <Markdown source={description} />}\r\n        <ResponseHeaders headers={headers} />\r\n        <MediaTypesSwitch content={content} renderDropdown={this.renderDropdown}>\r\n          {({ schema }) => {\r\n            return <Schema skipWriteOnly={true} key=\"schema\" schema={schema} />;\r\n          }}\r\n        </MediaTypesSwitch>\r\n      </>\r\n    );\r\n  }\r\n\r\n  private renderDropdown = props => {\r\n    return (\r\n      <UnderlinedHeader key=\"header\">\r\n        Response Schema: <DropdownOrLabel {...props} />\r\n      </UnderlinedHeader>\r\n    );\r\n  };\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { ResponseModel } from '../../services/models';\r\nimport { ResponseDetails } from './ResponseDetails';\r\nimport { ResponseDetailsWrap, StyledResponseTitle } from './styled.elements';\r\n\r\n@observer\r\nexport class ResponseView extends React.Component<{ response: ResponseModel }> {\r\n  toggle = () => {\r\n    this.props.response.toggle();\r\n  };\r\n\r\n  render() {\r\n    const { headers, type, summary, description, code, expanded, content } = this.props.response;\r\n    const mimes =\r\n      content === undefined ? [] : content.mediaTypes.filter(mime => mime.schema !== undefined);\r\n\r\n    const empty = headers.length === 0 && mimes.length === 0 && !description;\r\n\r\n    return (\r\n      <div>\r\n        <StyledResponseTitle\r\n          onClick={this.toggle}\r\n          type={type}\r\n          empty={empty}\r\n          title={summary || ''}\r\n          code={code}\r\n          opened={expanded}\r\n        />\r\n        {expanded && !empty && (\r\n          <ResponseDetailsWrap>\r\n            <ResponseDetails response={this.props.response} />\r\n          </ResponseDetailsWrap>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { l } from '../../services/Labels';\r\nimport { ResponseModel } from '../../services/models';\r\nimport styled from '../../styled-components';\r\nimport { ResponseView } from './Response';\r\n\r\nconst ResponsesHeader = styled.h3`\r\n  font-size: 1.3em;\r\n  padding: 0.2em 0;\r\n  margin: 3em 0 1.1em;\r\n  color: ${({ theme }) => theme.colors.text.primary};\r\n  font-weight: normal;\r\n`;\r\n\r\nexport interface ResponseListProps {\r\n  responses: ResponseModel[];\r\n  isCallback?: boolean;\r\n}\r\n\r\nexport class ResponsesList extends React.PureComponent<ResponseListProps> {\r\n  render() {\r\n    const { responses, isCallback } = this.props;\r\n\r\n    if (!responses || responses.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <ResponsesHeader>{isCallback ? l('callbackResponses') : l('responses')}</ResponsesHeader>\r\n        {responses.map(response => {\r\n          return <ResponseView key={response.code} response={response} />;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport styled, { media } from '../../styled-components';\r\n\r\nimport { Link, UnderlinedHeader } from '../../common-elements/';\r\nimport { SecurityRequirementModel } from '../../services/models/SecurityRequirement';\r\nimport { linksCss } from '../Markdown/styled.elements';\r\n\r\nconst ScopeName = styled.code`\r\n  font-size: ${props => props.theme.typography.code.fontSize};\r\n  font-family: ${props => props.theme.typography.code.fontFamily};\r\n  border: 1px solid ${({ theme }) => theme.colors.border.dark};\r\n  margin: 0 3px;\r\n  padding: 0.2em;\r\n  display: inline-block;\r\n  line-height: 1;\r\n\r\n  &:after {\r\n    content: ',';\r\n  }\r\n  &:last-child:after {\r\n    content: none;\r\n  }\r\n`;\r\n\r\nconst SecurityRequirementAndWrap = styled.span`\r\n  &:after {\r\n    content: ' AND ';\r\n    font-weight: bold;\r\n  }\r\n\r\n  &:last-child:after {\r\n    content: none;\r\n  }\r\n\r\n  ${linksCss};\r\n`;\r\n\r\nconst SecurityRequirementOrWrap = styled.span`\r\n  &:before {\r\n    content: '( ';\r\n    font-weight: bold;\r\n  }\r\n  &:after {\r\n    content: ' ) OR ';\r\n    font-weight: bold;\r\n  }\r\n  &:last-child:after {\r\n    content: ' )';\r\n  }\r\n\r\n  &:only-child:before,\r\n  &:only-child:after {\r\n    content: none;\r\n  }\r\n\r\n  ${linksCss};\r\n`;\r\n\r\nexport interface SecurityRequirementProps {\r\n  security: SecurityRequirementModel;\r\n}\r\n\r\nexport class SecurityRequirement extends React.PureComponent<SecurityRequirementProps> {\r\n  render() {\r\n    const security = this.props.security;\r\n    return (\r\n      <SecurityRequirementOrWrap>\r\n        {security.schemes.length ? (\r\n          security.schemes.map(scheme => {\r\n            return (\r\n              <SecurityRequirementAndWrap key={scheme.id}>\r\n                <Link to={scheme.sectionId}>{scheme.id}</Link>\r\n                {scheme.scopes.length > 0 && ' ('}\r\n                {scheme.scopes.map(scope => (\r\n                  <ScopeName key={scope}>{scope}</ScopeName>\r\n                ))}\r\n                {scheme.scopes.length > 0 && ') '}\r\n              </SecurityRequirementAndWrap>\r\n            );\r\n          })\r\n        ) : (\r\n          <SecurityRequirementAndWrap>None</SecurityRequirementAndWrap>\r\n        )}\r\n      </SecurityRequirementOrWrap>\r\n    );\r\n  }\r\n}\r\n\r\nconst AuthHeaderColumn = styled.div`\r\n  flex: 1 1 auto;\r\n`;\r\n\r\nconst SecuritiesColumn = styled.div`\r\n  width: ${props => props.theme.schema.defaultDetailsWidth};\r\n  ${media.lessThan('small')`\r\n    margin-top: 10px;\r\n  `}\r\n`;\r\n\r\nconst AuthHeader = styled(UnderlinedHeader)`\r\n  display: inline-block;\r\n  margin: 0;\r\n`;\r\n\r\nconst Wrap = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  margin: 1em 0;\r\n\r\n  ${media.lessThan('small')`\r\n    flex-direction: column;\r\n  `}\r\n`;\r\n\r\nexport interface SecurityRequirementsProps {\r\n  securities: SecurityRequirementModel[];\r\n}\r\n\r\nexport class SecurityRequirements extends React.PureComponent<SecurityRequirementsProps> {\r\n  render() {\r\n    const securities = this.props.securities;\r\n    if (!securities.length) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Wrap>\r\n        <AuthHeaderColumn>\r\n          <AuthHeader>Authorizations: </AuthHeader>\r\n        </AuthHeaderColumn>\r\n        <SecuritiesColumn>\r\n          {securities.map((security, idx) => (\r\n            <SecurityRequirement key={idx} security={security} />\r\n          ))}\r\n        </SecuritiesColumn>\r\n      </Wrap>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { OperationModel } from '../../services/models';\r\nimport styled from '../../styled-components';\r\nimport { Endpoint } from '../Endpoint/Endpoint';\r\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\r\nimport { Extensions } from '../Fields/Extensions';\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport { Parameters } from '../Parameters/Parameters';\r\nimport { ResponsesList } from '../Responses/ResponsesList';\r\nimport { SecurityRequirements } from '../SecurityRequirement/SecurityRequirement';\r\nimport { CallbackDetailsWrap } from './styled.elements';\r\n\r\nexport interface CallbackDetailsProps {\r\n  operation: OperationModel;\r\n}\r\n\r\n@observer\r\nexport class CallbackDetails extends React.Component<CallbackDetailsProps> {\r\n  render() {\r\n    const { operation } = this.props;\r\n    const { description, externalDocs } = operation;\r\n    const hasDescription = !!(description || externalDocs);\r\n\r\n    return (\r\n      <CallbackDetailsWrap>\r\n        {hasDescription && (\r\n          <Description>\r\n            {description !== undefined && <Markdown source={description} />}\r\n            {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\r\n          </Description>\r\n        )}\r\n        <Endpoint operation={this.props.operation} inverted={true} compact={true} />\r\n        <Extensions extensions={operation.extensions} />\r\n        <SecurityRequirements securities={operation.security} />\r\n        <Parameters parameters={operation.parameters} body={operation.requestBody} />\r\n        <ResponsesList responses={operation.responses} isCallback={operation.isCallback} />\r\n      </CallbackDetailsWrap>\r\n    );\r\n  }\r\n}\r\n\r\nconst Description = styled.div`\r\n  margin-bottom: ${({ theme }) => theme.spacing.unit * 3}px;\r\n`;\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { OperationModel } from '../../services/models';\r\nimport { StyledCallbackTitle } from './styled.elements';\r\nimport { CallbackDetails } from './CallbackDetails';\r\n\r\n@observer\r\nexport class CallbackOperation extends React.Component<{ callbackOperation: OperationModel }> {\r\n  toggle = () => {\r\n    this.props.callbackOperation.toggle();\r\n  };\r\n\r\n  render() {\r\n    const { name, expanded, httpVerb, deprecated } = this.props.callbackOperation;\r\n\r\n    return (\r\n      <>\r\n        <StyledCallbackTitle\r\n          onClick={this.toggle}\r\n          name={name}\r\n          opened={expanded}\r\n          httpVerb={httpVerb}\r\n          deprecated={deprecated}\r\n        />\r\n        {expanded && <CallbackDetails operation={this.props.callbackOperation} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { CallbackModel } from '../../services/models';\r\nimport styled from '../../styled-components';\r\nimport { CallbackOperation } from './CallbackOperation';\r\n\r\nexport interface CallbacksListProps {\r\n  callbacks: CallbackModel[];\r\n}\r\n\r\nexport class CallbacksList extends React.PureComponent<CallbacksListProps> {\r\n  render() {\r\n    const { callbacks } = this.props;\r\n\r\n    if (!callbacks || callbacks.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <CallbacksHeader> Callbacks </CallbacksHeader>\r\n        {callbacks.map(callback => {\r\n          return callback.operations.map((operation, index) => {\r\n            return (\r\n              <CallbackOperation key={`${callback.name}_${index}`} callbackOperation={operation} />\r\n            );\r\n          });\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst CallbacksHeader = styled.h3`\r\n  font-size: 1.3em;\r\n  padding: 0.2em 0;\r\n  margin: 3em 0 1.1em;\r\n  color: ${({ theme }) => theme.colors.text.primary};\r\n  font-weight: normal;\r\n`;\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { DropdownProps, DropdownOption } from '../../common-elements/dropdown';\r\nimport { DropdownLabel, DropdownWrapper } from '../PayloadSamples/styled.elements';\r\n\r\nexport interface GenericChildrenSwitcherProps<T> {\r\n  items?: T[];\r\n  options: DropdownOption[];\r\n  label?: string;\r\n  renderDropdown: (props: DropdownProps) => JSX.Element;\r\n  children: (activeItem: T) => JSX.Element;\r\n}\r\n\r\nexport interface GenericChildrenSwitcherState {\r\n  activeItemIdx: number;\r\n}\r\n/**\r\n * TODO: Refactor this component:\r\n * Implement rendering dropdown/label directly in this component\r\n * Accept as a parameter mapper-function for building dropdown option labels\r\n */\r\n@observer\r\nexport class GenericChildrenSwitcher<T> extends React.Component<\r\n  GenericChildrenSwitcherProps<T>,\r\n  GenericChildrenSwitcherState\r\n> {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeItemIdx: 0,\r\n    };\r\n  }\r\n\r\n  switchItem = ({ idx }) => {\r\n    if (this.props.items) {\r\n      this.setState({\r\n        activeItemIdx: idx,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { items } = this.props;\r\n\r\n    if (!items || !items.length) {\r\n      return null;\r\n    }\r\n\r\n    const Wrapper = ({ children }) =>\r\n      this.props.label ? (\r\n        <DropdownWrapper>\r\n          <DropdownLabel>{this.props.label}</DropdownLabel>\r\n          {children}\r\n        </DropdownWrapper>\r\n      ) : (\r\n        children\r\n      );\r\n\r\n    return (\r\n      <>\r\n        <Wrapper>\r\n          {this.props.renderDropdown({\r\n            value: this.props.options[this.state.activeItemIdx].value,\r\n            options: this.props.options,\r\n            onChange: this.switchItem,\r\n            ariaLabel: this.props.label || 'Callback',\r\n          })}\r\n        </Wrapper>\r\n\r\n        {this.props.children(items[this.state.activeItemIdx])}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport { MediaTypeSamples } from './MediaTypeSamples';\r\n\r\nimport { MediaContentModel } from '../../services/models';\r\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\r\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\r\nimport { InvertedSimpleDropdown, MimeLabel } from './styled.elements';\r\n\r\nexport interface PayloadSamplesProps {\r\n  content: MediaContentModel;\r\n  variant?: string;\r\n}\r\n\r\n@observer\r\nexport class PayloadSamples extends React.Component<PayloadSamplesProps> {\r\n  render() {\r\n    const mimeContent = this.props.content;\r\n    if (mimeContent === undefined) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <MediaTypesSwitch content={mimeContent} renderDropdown={this.renderDropdown} withLabel={true}>\r\n        {mediaType => (\r\n          <MediaTypeSamples\r\n            key=\"samples\"\r\n            mediaType={mediaType}\r\n            renderDropdown={this.renderDropdown}\r\n          />\r\n        )}\r\n      </MediaTypesSwitch>\r\n    );\r\n  }\r\n\r\n  private renderDropdown = props => {\r\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\r\n  };\r\n}\r\n","import * as React from 'react';\r\n\r\nimport styled from '../../styled-components';\r\nimport { DropdownProps } from '../../common-elements';\r\nimport { PayloadSamples } from '../PayloadSamples/PayloadSamples';\r\nimport { OperationModel } from '../../services/models';\r\nimport { XPayloadSample } from '../../services/models/Operation';\r\nimport { isPayloadSample } from '../../services';\r\n\r\nexport interface PayloadSampleProps {\r\n  callback: OperationModel;\r\n  renderDropdown: (props: DropdownProps) => JSX.Element;\r\n}\r\n\r\nexport class CallbackPayloadSample extends React.Component<PayloadSampleProps> {\r\n  render() {\r\n    const payloadSample = this.props.callback.codeSamples.find(sample =>\r\n      isPayloadSample(sample),\r\n    ) as XPayloadSample | undefined;\r\n\r\n    if (!payloadSample) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <PayloadSampleWrapper>\r\n        <PayloadSamples content={payloadSample.requestBodyContent} />\r\n      </PayloadSampleWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport const PayloadSampleWrapper = styled.div`\r\n  margin-top: 15px;\r\n`;\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport styled from '../../styled-components';\r\nimport { RightPanelHeader } from '../../common-elements';\r\nimport { RedocNormalizedOptions } from '../../services';\r\nimport { CallbackModel } from '../../services/models';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport { GenericChildrenSwitcher } from '../GenericChildrenSwitcher/GenericChildrenSwitcher';\r\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\r\nimport { InvertedSimpleDropdown, MimeLabel } from '../PayloadSamples/styled.elements';\r\nimport { CallbackPayloadSample } from './CallbackReqSamples';\r\n\r\nexport interface CallbackSamplesProps {\r\n  callbacks: CallbackModel[];\r\n}\r\n\r\n@observer\r\nexport class CallbackSamples extends React.Component<CallbackSamplesProps> {\r\n  static contextType = OptionsContext;\r\n  context: RedocNormalizedOptions;\r\n\r\n  private renderDropdown = props => {\r\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\r\n  };\r\n\r\n  render() {\r\n    const { callbacks } = this.props;\r\n\r\n    if (!callbacks || callbacks.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    const operations = callbacks\r\n      .map(callback => callback.operations.map(operation => operation))\r\n      .reduce((a, b) => a.concat(b), []);\r\n\r\n    const hasSamples = operations.some(operation => operation.codeSamples.length > 0);\r\n\r\n    if (!hasSamples) {\r\n      return null;\r\n    }\r\n\r\n    const dropdownOptions = operations.map((callback, idx) => {\r\n      return {\r\n        value: `${callback.httpVerb.toUpperCase()}: ${callback.name}`,\r\n        idx,\r\n      };\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <RightPanelHeader> Callback payload samples </RightPanelHeader>\r\n\r\n        <SamplesWrapper>\r\n          <GenericChildrenSwitcher\r\n            items={operations}\r\n            renderDropdown={this.renderDropdown}\r\n            label={'Callback'}\r\n            options={dropdownOptions}\r\n          >\r\n            {callback => (\r\n              <CallbackPayloadSample\r\n                key=\"callbackPayloadSample\"\r\n                callback={callback}\r\n                renderDropdown={this.renderDropdown}\r\n              />\r\n            )}\r\n          </GenericChildrenSwitcher>\r\n        </SamplesWrapper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const SamplesWrapper = styled.div`\r\n  background: ${({ theme }) => theme.codeBlock.backgroundColor};\r\n  padding: ${props => props.theme.spacing.unit * 4}px;\r\n`;\r\n","import * as React from 'react';\r\nimport { FunctionComponent, useContext } from 'react';\r\nimport { isPayloadSample, OperationModel } from '../../services';\r\nimport { PayloadSamples } from '../PayloadSamples/PayloadSamples';\r\nimport { SourceCodeWithCopy } from '../SourceCode/SourceCode';\r\n\r\nimport { RightPanelHeader, Tab, TabList, TabPanel, Tabs } from '../../common-elements';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport { l } from '../../services/Labels';\r\n\r\ninterface componentInterface {\r\n  operation: OperationModel;\r\n  isActive: boolean;\r\n}\r\n\r\nexport const RequestSamples: FunctionComponent<componentInterface> = ({ operation, isActive }) => {\r\n\r\n  const context = useContext(OptionsContext)\r\n  const samples = operation.codeSamples;\r\n  const hasSamples = samples.length > 0;\r\n  const hideTabList = samples.length === 1 ? context.hideSingleRequestSampleTab : false;\r\n\r\n  return (\r\n    ((hasSamples && isActive) && (\r\n      <div>\r\n        <RightPanelHeader> {l('requestSamples')} </RightPanelHeader>\r\n\r\n        <Tabs defaultIndex={0}>\r\n          <TabList hidden={hideTabList}>\r\n            {samples.map(sample => (\r\n              <Tab key={sample.lang + '_' + (sample.label || '')}>\r\n                {sample.label !== undefined ? sample.label : sample.lang}\r\n              </Tab>\r\n            ))}\r\n          </TabList>\r\n          {samples.map(sample => (\r\n            <TabPanel key={sample.lang + '_' + (sample.label || '')}>\r\n              {isPayloadSample(sample) ? (\r\n                <div>\r\n                  <PayloadSamples content={sample.requestBodyContent} />\r\n                </div>\r\n              ) : (\r\n                <SourceCodeWithCopy lang={sample.lang} source={sample.source} />\r\n              )}\r\n            </TabPanel>\r\n          ))}\r\n        </Tabs>\r\n      </div>\r\n    )) ||\r\n    null\r\n  );\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { OperationModel } from '../../services/models';\r\n\r\nimport { RightPanelHeader, Tab, TabList, TabPanel, Tabs } from '../../common-elements';\r\nimport { PayloadSamples } from '../PayloadSamples/PayloadSamples';\r\nimport { l } from '../../services/Labels';\r\n\r\nexport interface ResponseSamplesProps {\r\n  operation: OperationModel;\r\n}\r\n\r\n@observer\r\nexport class ResponseSamples extends React.Component<ResponseSamplesProps> {\r\n  operation: OperationModel;\r\n\r\n  render() {\r\n    const { operation } = this.props;\r\n    const responses = operation.responses.filter(response => {\r\n      return response.content && response.content.hasSample;\r\n    });\r\n\r\n    return (\r\n      (responses.length > 0 && (\r\n        <div>\r\n          <RightPanelHeader> {l('responseSamples')} </RightPanelHeader>\r\n\r\n          <Tabs defaultIndex={0}>\r\n            <TabList>\r\n              {responses.map(response => (\r\n                <Tab className={'tab-' + response.type} key={response.code}>\r\n                  {response.code}\r\n                </Tab>\r\n              ))}\r\n            </TabList>\r\n            {responses.map(response => (\r\n              <TabPanel key={response.code}>\r\n                <div>\r\n                  <PayloadSamples content={response.content!} />\r\n                </div>\r\n              </TabPanel>\r\n            ))}\r\n          </Tabs>\r\n        </div>\r\n      )) ||\r\n      null\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { FunctionComponent } from 'react';\r\nimport { MediaTypeSamples } from './MediaTypeSamples';\r\nimport { MediaContentModel } from '../../services/models';\r\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\r\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\r\nimport { InvertedSimpleDropdown, MimeLabel } from './styled.elements';\r\n\r\ninterface componentInterface {\r\n  content: MediaContentModel;\r\n  variant?: string;\r\n  servers?: [];\r\n  onChange?: (e:string) => void;\r\n  onChangeServer?: (e: string) => void;\r\n}\r\n\r\nexport const PayloadCode: FunctionComponent<componentInterface> = ({ content, variant, onChange, servers, onChangeServer }) => {\r\n\r\n  const mimeContent = content;\r\n  if (mimeContent === undefined) {\r\n    return null;\r\n  }\r\n\r\n  const renderDropdown = (props) => {\r\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\r\n  };\r\n\r\n  return (\r\n    <MediaTypesSwitch content={mimeContent} renderDropdown={renderDropdown} withLabel={true}>\r\n      {mediaType => (\r\n        <MediaTypeSamples\r\n          key=\"samples\"\r\n          mediaType={mediaType}\r\n          variant={variant}\r\n          servers={servers}\r\n          renderDropdown={renderDropdown}\r\n          onChange={onChange}\r\n          onChangeServer={onChangeServer}\r\n        />\r\n      )}\r\n    </MediaTypesSwitch>\r\n  );\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"swagger-client\");;","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport { MediaTypeSamples } from './MediaTypeSamples';\r\n\r\nimport { MediaTypeModel } from '../../services/models';\r\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\r\nimport { InvertedSimpleDropdown, MimeLabel } from './styled.elements';\r\n\r\nexport interface PayloadSamplesProps {\r\n  content: MediaTypeModel;\r\n  variant?: string;\r\n}\r\n\r\n@observer\r\nexport class PayloadServer extends React.Component<PayloadSamplesProps> {\r\n  render() {\r\n    const mediaType = this.props.content;\r\n\r\n    return (\r\n      <MediaTypeSamples\r\n        key=\"samples\"\r\n        mediaType={mediaType}\r\n        renderDropdown={this.renderDropdown}\r\n      />\r\n    );\r\n  }\r\n\r\n  private renderDropdown = props => {\r\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\r\n  };\r\n}","import * as React from 'react';\r\nimport { FunctionComponent } from 'react';\r\nimport { RightPanelHeader, Tab, TabList, TabPanel, Tabs } from '../../common-elements';\r\nimport { PayloadServer } from '../PayloadSamples/PayloadServer';\r\nimport { l } from '../../services/Labels';\r\n\r\ninterface componentInterface {\r\n  response: { status?: number, data?: string };\r\n}\r\n\r\nexport const ResponseServer: FunctionComponent<componentInterface> = ({ response }) => {\r\n\r\n  const IsJsonString = (str) => {\r\n    try {\r\n      JSON.parse(str);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  return (\r\n    (response?.data ?\r\n      <div>\r\n        <RightPanelHeader> {l('responseServer')} </RightPanelHeader>\r\n\r\n        <Tabs defaultIndex={0}>\r\n          <TabList>\r\n            <Tab className={`tab-${response.status === 200 ? \"success\" : \"error\"}`} key={response.status}>\r\n              {response.status}\r\n            </Tab>\r\n          </TabList>\r\n          <TabPanel key={response.status}>\r\n            <div>\r\n              {typeof response.data === \"string\" &&\r\n                <PayloadServer content={{\r\n                  examples: {\r\n                    // @ts-ignore: Unreachable code error\r\n                    default: {\r\n                      mime: \"application/json\",\r\n                      value: IsJsonString(response.data!) ? JSON.parse(response.data!) : \"\"\r\n                    }\r\n                  },\r\n                  name: \"application/json\",\r\n                }} />\r\n              }\r\n            </div>\r\n          </TabPanel>\r\n        </Tabs>\r\n      </div> : <></>\r\n    )\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport styled from '../../styled-components';\r\n\r\nimport { Spinner } from './Spinner.svg';\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  svg {\r\n    width: 1.2rem;\r\n    height: 1.2rem;\r\n  }\r\n`;\r\n\r\nexport interface LoadingProps {\r\n  color: string;\r\n  style?: any\r\n}\r\n\r\nexport class LoadingSimple extends React.PureComponent<LoadingProps> {\r\n  render() {\r\n    return (\r\n      <LoadingContainer style={{...this.props.style}}>\r\n        <Spinner color={this.props.color} />\r\n      </LoadingContainer>\r\n    );\r\n  }\r\n}\r\n","import { transparentize } from 'polished';\r\nimport styled from '../../styled-components';\r\n\r\nexport const InputContainer = styled.div`\r\n\r\n`;\r\n\r\nexport const InputLabel = styled.label`\r\n  font-size: 0.875rem;\r\n  display: block;\r\n  font-weight: 500;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  span {\r\n    display: block;\r\n    font-size: 0.7rem;\r\n    opacity: 0.5;\r\n    margin-left: 0.5rem;\r\n  }\r\n\r\n  .required {\r\n    color: ${({ theme }) => theme.colors.text.error};\r\n    display: block;\r\n    opacity: 1;\r\n    font-size: 0.7rem;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  padding: 0 1rem;\r\n  border-radius: 4px;\r\n  background-color: ${({ theme }) => transparentize(0.4, theme.rightPanel.backgroundColor)};\r\n  font-size: 1rem;\r\n  height: 36px;\r\n  display: flex;\r\n  align-items: center;\r\n  border: none;\r\n  outline: none;\r\n  margin-bottom: 1rem;\r\n  color: ${({ theme }) => theme.colors.light.main};\r\n\r\n  &[type=\"file\"]{\r\n    height: auto;\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n  }\r\n`;\r\n\r\nexport const InputDescription = styled.div`\r\n  font-size: 0.75rem;\r\n  display: block;\r\n  font-weight: 400;\r\n  margin-bottom: 0.2rem;\r\n  opacity: 0.5;\r\n`;\r\n\r\nexport const Select = styled.select`\r\n  background-color: ${({ theme }) => transparentize(0.4, theme.rightPanel.backgroundColor)};\r\n  padding: 10px;\r\n  width: 300px;\r\n  max-width: 100%;\r\n  border-radius: 5px;\r\n  line-height: 2;\r\n  color: ${({ theme }) => theme.colors.light.main};\r\n\r\n  option:focus,\r\n  option:active,\r\n  option:checked {\r\n    background: ${({ theme }) => transparentize(0.8, theme.colors.light.main)};\r\n    color: ${({ theme }) => theme.colors.light.main};\r\n  }\r\n`;\r\n\r\nexport const Option = styled.option`\r\n  \r\n`;\r\n\r\n\r\n","import * as React from 'react';\r\nimport { FunctionComponent } from 'react';\r\nimport { InputContainer, InputLabel, Input, InputDescription, Select, Option } from \"./styled.elements\"\r\nimport { l } from '../../services/Labels';\r\n\r\ninterface componentInterface {\r\n  data: any;\r\n  onChange?: (e: any) => void;\r\n  fieldType?: string;\r\n}\r\n\r\nconst PathParameters: FunctionComponent<componentInterface> = ({ data, onChange, fieldType }) => {\r\n  fieldType\r\n  const { name, description, required, schema, type, format } = data\r\n\r\n  const onInputChange = (e) => {\r\n    if (onChange) onChange(e)\r\n  }\r\n\r\n  const getType = () => {\r\n    switch (format || schema?.type) {\r\n      case \"binary\":\r\n        return { type: \"file\" }\r\n      default:\r\n        return { type: \"text\" }\r\n    }\r\n  }\r\n\r\n  const renderType = () => {\r\n    if (format && format === \"binary\") {\r\n      return l(\"file\")\r\n    } else {\r\n      return type ? `${type}${format ? ` - ${format}` : \"\"}` : `${schema.type}${schema.type == \"array\" ? ` - ${schema.items.type}` : \"\"}${schema.format ? ` - ${schema.format}` : \"\"}`\r\n    }\r\n  }\r\n\r\n  const isNotSingle = () => {\r\n    return schema?.type == \"array\" && schema?.items?.enum?.length\r\n  }\r\n\r\n  return (\r\n    <InputContainer >\r\n      <InputLabel>{name} <span>({renderType()})</span> <span>({fieldType})</span> {required ? <span className='required'>* {l('required')}</span> : \"\"}</InputLabel>\r\n      <InputDescription>{description}</InputDescription>\r\n      {isNotSingle() ?\r\n        <Select name={`${name}_${fieldType}`} multiple>\r\n          {schema.items.enum.map((item, i) => (\r\n            <Option key={`op-${i}`}>{item}</Option>\r\n          ))}\r\n        </Select>\r\n        :\r\n        <Input\r\n          {...getType()}\r\n          name={`${name}_${fieldType}`}\r\n          placeholder={name}\r\n          onChange={onInputChange}\r\n        />\r\n      }\r\n\r\n    </InputContainer>\r\n  );\r\n}\r\n\r\n\r\nexport default PathParameters","import * as React from 'react';\r\nimport { FunctionComponent } from 'react';\r\nimport Input from \"./Input\"\r\n\r\n\r\ninterface componentInterface {\r\n  operationSpec: any;\r\n  onChange?: () => void;\r\n  onFormInit?: (e:HTMLFormElement) => void;\r\n}\r\n\r\nconst PathParameters: FunctionComponent<componentInterface> = ({ operationSpec, onChange, onFormInit }) => {\r\n\r\n  const { parameters } = operationSpec\r\n  const content = operationSpec.requestBody?.content ? operationSpec.requestBody?.content : null\r\n\r\n  const onInputChange = () => {\r\n    if(onChange) onChange() \r\n  }\r\n\r\n  const renderType = (t) => {\r\n    switch(t){\r\n      case \"multipart/form-data\":\r\n        return \"formData\"\r\n      default:\r\n        return \"formData\"\r\n    }\r\n  }\r\n\r\n  const renderRequestBody = () => {\r\n    const type = Object.keys(content)[0]\r\n    const properties = content[type].schema.properties\r\n\r\n    return Object.keys(properties).map((key, i)=>(\r\n      <Input fieldType={renderType(type)} onChange={onInputChange} key={`iku-${i}`} data={{name: key, ...properties[key]}} />\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <form action=\"\" ref={onFormInit}>\r\n      {parameters.map((parameter, i)=>(\r\n        <Input fieldType={parameter.in} onChange={onInputChange} key={`ik-${i}`} data={parameter} />\r\n      ))}\r\n      {content && renderRequestBody()}\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\nexport default PathParameters","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"hawk\");;","import Hawk from 'hawk';\r\n\r\nexport const isAuth = () => {\r\n  if (typeof window === 'object' || typeof window !== 'undefined') {\r\n    const localAuth = localStorage.getItem(\"auth\")\r\n\r\n    return localAuth ? JSON.parse(localAuth)?.type ? true : false : false\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const getAuthCredentials = (type, path, value?, mediaType?, method?) => {\r\n  if (typeof window === 'object' || typeof window !== 'undefined') {\r\n    const localAuth = localStorage.getItem(\"auth\")\r\n    const localJsonAuth = localAuth ? JSON.parse(localAuth) : null\r\n\r\n    switch (type) {\r\n      case \"Hawk\":\r\n        const credentials = {\r\n          id: localJsonAuth.data.id,\r\n          key: localJsonAuth.data.key,\r\n          algorithm: 'sha256'\r\n        }\r\n\r\n        let contentCredentials: { [k: string]: any } = {\r\n          credentials: credentials,\r\n          contentType: mediaType ? mediaType : 'application/json',\r\n        }\r\n\r\n        if (value) {\r\n          contentCredentials = {\r\n            ...contentCredentials,\r\n            payload: value\r\n          }\r\n        }\r\n\r\n        const { header } = Hawk.client.header(`\r\n      ${path}`,\r\n          method,\r\n          contentCredentials\r\n        );\r\n\r\n        return header\r\n    }\r\n  }else{\r\n    return null\r\n  }\r\n}","import * as React from 'react';\r\nimport { FunctionComponent, useState } from 'react';\r\nimport { RightPanelButton, ExecuteRequest, RowExecute } from '../../common-elements';\r\nimport { l } from '../../services/Labels';\r\nimport { getPlayloadSample } from '../../services';\r\nimport { PayloadCode } from '../PayloadSamples/PayloadCode';\r\nimport SwaggerClient from 'swagger-client';\r\nimport { ResponseServer } from '../ResponseServer/ResponseServer';\r\nimport { LoadingSimple } from \"../Loading/LoadingSimple\";\r\nimport PathParameters from \"../PathParameters/PathParameters\";\r\nimport {getAuthCredentials, isAuth} from \"../../utils/auth\"\r\n\r\ninterface componentInterface {\r\n  operation: any;\r\n  onTogle: any;\r\n}\r\n\r\nconst Execute: FunctionComponent<componentInterface> = ({ operation, onTogle }) => {\r\n\r\n  const { codeSamples } = operation\r\n  const [isTry, setIsTry] = useState(false)\r\n  const [value, setValue] = useState(\"\")\r\n  const samples = getPlayloadSample(codeSamples)\r\n  const [server, setServer] = useState(operation.servers[0].url)\r\n  const [response, setResponse] = useState({})\r\n  const [isFetching, setIsFetching] = useState(false)\r\n  const [form, setForm] = useState<any>(null)\r\n\r\n  const onChange = (e) => {\r\n    setValue(e)\r\n  }\r\n\r\n  const onExecute = () => {\r\n\r\n    setResponse({})\r\n    setIsFetching(true)\r\n\r\n    isParameters() ? onFormSubmit() : fetchRequest()\r\n\r\n  }\r\n\r\n  const fetchRequest = (paths?, queries?, fields?) => {\r\n\r\n    const isNeedAuth = true\r\n    const authType = \"Hawk\"\r\n\r\n    const mediaType = operation?.requestBody?.content?.mediaTypes[0]?.name\r\n\r\n    const method = operation.httpVerb\r\n    let url = `${server}${operation.path ? operation.path : ''}`\r\n\r\n    if (queries?.length) url = `${url}${encodeParams(queries)}`\r\n\r\n    if (paths?.length) {\r\n      paths.forEach(item => {\r\n        url = url.replace(\"{\"+item.name+\"}\", item.value)\r\n      });\r\n    }\r\n\r\n    let request: {[k: string]: any} = {\r\n      url: url,\r\n      mode: 'cors',\r\n      method: method,\r\n      responseInterceptor: (r) => {\r\n        setResponse(r)\r\n        setIsFetching(false)\r\n      }\r\n    };\r\n\r\n    if(fields?.length) {\r\n      request = {\r\n        ...request,\r\n        body: fields,\r\n        headers: {\r\n          ...request.headers,\r\n          \"Content-Type\": mediaType ? mediaType : \"application/json\"\r\n        }\r\n      }\r\n    }\r\n\r\n    if (value) {\r\n      request = {\r\n        ...request,\r\n        body: value,\r\n        headers: {\r\n          ...request.headers,\r\n          \"Content-Type\": mediaType ? mediaType : \"application/json\"\r\n        }\r\n      }\r\n    }\r\n\r\n    if (isNeedAuth && isAuth()) {\r\n\r\n      const authorization = getAuthCredentials(authType, `${server}${operation.path ? operation.path : ''}`, value, mediaType, method)\r\n\r\n      request = {\r\n        ...request,\r\n        headers: {\r\n          ...request.headers,\r\n          ...authorization ? {\"Authorization\": authorization} : {}\r\n        }\r\n      }\r\n    }\r\n\r\n    SwaggerClient.http(request)\r\n  }\r\n\r\n  const onChangeServer = (server) => {\r\n    setServer(server)\r\n  }\r\n\r\n  const isParameters = () => {\r\n    return operation.operationSpec.parameters?.length > 0\r\n  }\r\n\r\n  const onFormSubmit = () => {\r\n    const formData = new FormData(form);\r\n\r\n    let paths: Array<any> = []\r\n    let fields: Array<any> = []\r\n    let queries: Array<any> = []\r\n\r\n    formData.forEach((value, key) => {\r\n      const type = key.split(\"_\")[1]\r\n      const name = key.split(\"_\")[0]\r\n\r\n      if (type === \"path\") paths.push({ \"name\": name, \"value\": value })\r\n      if (type === \"query\") queries.push({ \"name\": name, \"value\": value })\r\n      if (type == \"formData\") fields.push({ \"name\": name, \"value\": value });\r\n\r\n    });\r\n\r\n    if (paths.length || fields.length || queries.length) fetchRequest(paths, queries, fields)\r\n\r\n  }\r\n\r\n  const encodeParams = (array) => {\r\n    let str = \"\"\r\n\r\n    array.forEach((item, i) => {\r\n      str += i == 0 ? `?${item.name}=${item.value}` : `&${item.name}=${item.value}`\r\n    })\r\n\r\n    return str\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {(isTry && codeSamples) &&\r\n        <ExecuteRequest>\r\n          {samples &&\r\n            <PayloadCode\r\n              variant=\"execute\"\r\n              content={samples.requestBodyContent}\r\n              servers={operation.servers}\r\n              onChange={onChange}\r\n              onChangeServer={onChangeServer}\r\n            />\r\n          }\r\n          {isParameters() && <PathParameters onFormInit={setForm} operationSpec={operation.operationSpec} />}\r\n        </ExecuteRequest>\r\n      }\r\n      {!isTry && <RowExecute>\r\n        <RightPanelButton\r\n          onClick={\r\n            () => {\r\n              setIsTry(true);\r\n              onTogle(false);\r\n            }}\r\n        >\r\n          {l('tryItOut')}\r\n        </RightPanelButton>\r\n      </RowExecute>\r\n      }\r\n      {isTry && <RowExecute>\r\n        <RightPanelButton\r\n          style={{ width: \"calc(50% - 10px)\" }}\r\n          onClick={\r\n            () => {\r\n              setIsTry(false);\r\n              onTogle(true);\r\n              setResponse({});\r\n              setIsFetching(false);\r\n            }}\r\n        >\r\n          {l('backToSamples')}\r\n        </RightPanelButton>\r\n        <RightPanelButton\r\n          onClick={onExecute}\r\n          className='primary'\r\n          disabled={isFetching}\r\n          style={{ width: \"calc(50% - 10px)\" }}>\r\n          {(isFetching) && <LoadingSimple color=\"#ffffff\" />}\r\n          {l('execute')}\r\n        </RightPanelButton>\r\n      </RowExecute>}\r\n      {Object.keys(response).length > 0 && <ResponseServer response={response} />}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Execute","import styled from '../../styled-components';\r\n\r\nexport const OperationTitle = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 2rem;\r\n\r\n  h2{\r\n      margin-right: 1rem;\r\n      margin-bottom: 0;\r\n      margin-top: 0;\r\n  }\r\n`;\r\n\r\nexport const OperationUrl = styled.div`\r\n  font-size: 1rem;\r\n  margin-bottom: 2rem;\r\n\r\n  strong {\r\n    font-weight: 600;\r\n    margin-right: 0.5rem;\r\n  }\r\n`;\r\n","\r\nimport * as React from 'react';\r\nimport { FunctionComponent, useState } from 'react';\r\nimport { Badge, DarkRightPanel, H2, MiddlePanel, Row } from '../../common-elements';\r\nimport { ShareLink } from '../../common-elements/linkify';\r\nimport { OperationModel } from '../../services/models';\r\nimport styled from '../../styled-components';\r\nimport { CallbacksList } from '../Callbacks';\r\nimport { CallbackSamples } from '../CallbackSamples/CallbackSamples';\r\nimport { Endpoint } from '../Endpoint/Endpoint';\r\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\r\nimport { Extensions } from '../Fields/Extensions';\r\nimport { Markdown } from '../Markdown/Markdown';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport { Parameters } from '../Parameters/Parameters';\r\nimport { RequestSamples } from '../RequestSamples/RequestSamples';\r\nimport { ResponsesList } from '../Responses/ResponsesList';\r\nimport { ResponseSamples } from '../ResponseSamples/ResponseSamples';\r\nimport Execute from '../Execute/Execute';\r\nimport { SecurityRequirements } from '../SecurityRequirement/SecurityRequirement';\r\nimport { OperationBadge } from '../../common-elements';\r\nimport { shortenHTTPVerb } from '../../utils/openapi';\r\nimport { OperationTitle, OperationUrl } from './styled.elements';\r\nimport { l } from '../../services/Labels';\r\n\r\nconst OperationRow = styled(Row)`\r\n  backface-visibility: hidden;\r\n  contain: content;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Description = styled.div`\r\n  margin-bottom: ${({ theme }) => theme.spacing.unit * 6}px;\r\n`;\r\n\r\ninterface componentInterface {\r\n  operation: OperationModel;\r\n}\r\n\r\nexport const Operation: FunctionComponent<componentInterface> = ({ operation }) => {\r\n\r\n  const { name: summary, description, deprecated, externalDocs, isWebhook, httpVerb, path } = operation;\r\n  const hasDescription = !!(description || externalDocs);\r\n  const [isSamplesActive, setIsSamplesActive] = useState(true);\r\n\r\n  return (\r\n    <OptionsContext.Consumer>\r\n      {options => (\r\n        <OperationRow>\r\n          <MiddlePanel>\r\n            <OperationTitle>\r\n              <H2>\r\n                <ShareLink to={operation.id} />\r\n                {summary} {deprecated && <Badge type=\"warning\"> Deprecated </Badge>}\r\n                {isWebhook && <Badge type=\"primary\"> Webhook </Badge>}\r\n              </H2>\r\n              <OperationBadge type={httpVerb}>{shortenHTTPVerb(httpVerb)}</OperationBadge>\r\n            </OperationTitle>\r\n            <OperationUrl>\r\n              <strong>{l('URL')}:</strong> {path}\r\n            </OperationUrl>\r\n            {options.pathInMiddlePanel && !isWebhook && (\r\n              <Endpoint operation={operation} inverted={true} />\r\n            )}\r\n            {hasDescription && (\r\n              <Description>\r\n                {description !== undefined && <Markdown source={description} />}\r\n                {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\r\n              </Description>\r\n            )}\r\n            <Extensions extensions={operation.extensions} />\r\n            <SecurityRequirements securities={operation.security} />\r\n            <Parameters parameters={operation.parameters} body={operation.requestBody} />\r\n            <ResponsesList responses={operation.responses} />\r\n            <CallbacksList callbacks={operation.callbacks} />\r\n          </MiddlePanel>\r\n          <DarkRightPanel className=\"right-panel\">\r\n            {!options.pathInMiddlePanel && !isWebhook && <Endpoint operation={operation} />}\r\n            <RequestSamples operation={operation} isActive={isSamplesActive} />\r\n            <Execute onTogle={setIsSamplesActive} operation={operation} />\r\n            <ResponseSamples operation={operation} />\r\n            <CallbackSamples callbacks={operation.callbacks} />\r\n          </DarkRightPanel>\r\n        </OperationRow>\r\n      )}\r\n    </OptionsContext.Consumer>\r\n  );\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\r\nimport { AdvancedMarkdown } from '../Markdown/AdvancedMarkdown';\r\nimport { H1, H2, MiddlePanel, Row, Section, ShareLink } from '../../common-elements';\r\nimport { ContentItemModel } from '../../services/MenuBuilder';\r\nimport { GroupModel, OperationModel } from '../../services/models';\r\nimport { Operation } from '../Operation/Operation';\r\n\r\n@observer\r\nexport class ContentItems extends React.Component<{\r\n  items: ContentItemModel[];\r\n}> {\r\n  render() {\r\n    const items = this.props.items;\r\n    if (items.length === 0) {\r\n      return null;\r\n    }\r\n    return items.map(item => {\r\n      return <ContentItem key={item.id} item={item} />;\r\n    });\r\n  }\r\n}\r\n\r\nexport interface ContentItemProps {\r\n  item: ContentItemModel;\r\n}\r\n\r\n@observer\r\nexport class ContentItem extends React.Component<ContentItemProps> {\r\n  render() {\r\n    const item = this.props.item;\r\n    let content;\r\n    const { type } = item;\r\n    switch (type) {\r\n      case 'group':\r\n        content = null;\r\n        break;\r\n      case 'tag':\r\n      case 'section':\r\n        content = <SectionItem {...this.props} />;\r\n        break;\r\n      case 'operation':\r\n        content = <OperationItem item={item as any} />;\r\n        break;\r\n      default:\r\n        content = <SectionItem {...this.props} />;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {content && (\r\n          <Section id={item.id} underlined={item.type === 'operation'}>\r\n            {content}\r\n          </Section>\r\n        )}\r\n        {item.items && <ContentItems items={item.items} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst middlePanelWrap = component => <MiddlePanel compact={true}>{component}</MiddlePanel>;\r\n\r\n@observer\r\nexport class SectionItem extends React.Component<ContentItemProps> {\r\n  render() {\r\n    const { name, description, externalDocs, level } = this.props.item as GroupModel;\r\n\r\n    const Header = level === 2 ? H2 : H1;\r\n    return (\r\n      <>\r\n        <Row>\r\n          <MiddlePanel compact={false}>\r\n            <Header>\r\n              <ShareLink to={this.props.item.id} />\r\n              {name}\r\n            </Header>\r\n          </MiddlePanel>\r\n        </Row>\r\n        <AdvancedMarkdown source={description || ''} htmlWrap={middlePanelWrap} />\r\n        {externalDocs && (\r\n          <Row>\r\n            <MiddlePanel>\r\n              <ExternalDocumentation externalDocs={externalDocs} />\r\n            </MiddlePanel>\r\n          </Row>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n@observer\r\nexport class OperationItem extends React.Component<{\r\n  item: OperationModel;\r\n}> {\r\n  render() {\r\n    return <Operation operation={this.props.item} />;\r\n  }\r\n}\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"classnames\");;","import { default as classnames } from 'classnames';\r\nimport { darken } from 'polished';\r\n\r\nimport { deprecatedCss, ShelfIcon } from '../../common-elements';\r\nimport styled, { css, ResolvedThemeInterface } from '../../styled-components';\r\n\r\nfunction menuItemActiveBg(depth, { theme }: { theme: ResolvedThemeInterface }): string {\r\n  if (depth > 1) {\r\n    return darken(0.1, theme.sidebar.backgroundColor);\r\n  } else if (depth === 1) {\r\n    return darken(0.05, theme.sidebar.backgroundColor);\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\n\r\nexport const MenuItemUl = styled.ul<{ expanded: boolean }>`\r\n  margin: 0;\r\n  padding: 0;\r\n\r\n  & & {\r\n    font-size: 0.929em;\r\n  }\r\n\r\n  ${props => (props.expanded ? '' : 'display: none;')};\r\n`;\r\n\r\nexport const MenuItemLi = styled.li<{ depth: number }>`\r\n  list-style: none inside none;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  padding: 0;\r\n  ${props => (props.depth === 0 ? 'margin-top: 15px' : '')};\r\n`;\r\n\r\nexport const menuItemDepth = {\r\n  0: css`\r\n    opacity: 0.7;\r\n    text-transform: ${({ theme }) => theme.sidebar.groupItems.textTransform};\r\n    font-size: 0.8em;\r\n    padding-bottom: 0;\r\n    cursor: default;\r\n    color: ${props => props.theme.sidebar.textColor};\r\n  `,\r\n  1: css`\r\n    font-size: 0.929em;\r\n    text-transform: ${({ theme }) => theme.sidebar.level1Items.textTransform};\r\n    &:hover {\r\n      color: ${props => props.theme.sidebar.activeTextColor};\r\n    }\r\n  `,\r\n  2: css`\r\n    color: ${props => props.theme.sidebar.textColor};\r\n  `,\r\n};\r\n\r\nexport interface MenuItemLabelType {\r\n  depth: number;\r\n  active: boolean;\r\n  deprecated?: boolean;\r\n  type?: string;\r\n}\r\n\r\nexport const MenuItemLabel = styled.label.attrs((props: MenuItemLabelType) => ({\r\n  role: 'menuitem',\r\n  className: classnames('-depth' + props.depth, {\r\n    active: props.active,\r\n  }),\r\n})) <MenuItemLabelType>`\r\n  cursor: pointer;\r\n  color: ${props =>\r\n    props.active ? props.theme.sidebar.textColor : props.theme.sidebar.textColor};\r\n  margin: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  padding: 12.5px ${props => props.theme.spacing.unit * 4}px;\r\n  padding-right: ${props => props.theme.spacing.unit * 2}px;\r\n  ${({ depth, type, theme }) =>\r\n    (type === 'section' && depth > 1 && 'padding-left: ' + theme.spacing.unit * 8 + 'px;') || ''}\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-family: ${props => props.theme.typography.headings.fontFamily};\r\n  font-size: 1rem;\r\n  ${props => menuItemDepth[props.depth]};\r\n  background-color: ${props => (props.active ? menuItemActiveBg(props.depth, props) : '')};\r\n\r\n  &::after{\r\n    content: '';\r\n    position: absolute;\r\n    right:0;\r\n    top:0;\r\n    width: 2px;\r\n    height: 100%;\r\n    transform: scaleX(0);\r\n    transform-origin: center right;\r\n    background-color: ${props => props.theme.colors.text.primary};\r\n    transition: transform 300ms ease;\r\n    display: ${props => props.type == \"tag\" ? \"none\" : \"block\"};\r\n  }\r\n\r\n  &.active {\r\n    &::after{\r\n      transform: scaleX(1);\r\n    }\r\n  }\r\n\r\n  ${props => (props.deprecated && deprecatedCss) || ''};\r\n\r\n  &:hover {\r\n    background-color: ${props => menuItemActiveBg(props.depth, props)};\r\n    color: ${props => props.theme.colors.text.primary};\r\n  }\r\n\r\n  ${ShelfIcon} {\r\n    height: ${({ theme }) => theme.sidebar.arrow.size};\r\n    width: ${({ theme }) => theme.sidebar.arrow.size};\r\n\r\n    polygon, path {\r\n      fill: ${({ theme }) => theme.sidebar.arrow.color};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const MenuItemTitle = styled.span<{ width?: string, active?: boolean }>`\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  width: ${props => (props.width ? props.width : 'auto')};\r\n  overflow: hidden;\r\n  font-size: 0.9375rem;\r\n  font-weight: ${props => (props.active ? 600 : 400)};\r\n  text-overflow: ellipsis;\r\n  transition: all 300ms ease;\r\n`;\r\n\r\nexport const RedocAttribution = styled.div`\r\n  ${({ theme }) => `\r\n  font-size: 0.8em;\r\n  margin-top: ${theme.spacing.unit * 2}px;\r\n  padding: 0 ${theme.spacing.unit * 4}px;\r\n  text-align: left;\r\n\r\n  opacity: 0.7;\r\n\r\n  a,\r\n  a:visited,\r\n  a:hover {\r\n    color: ${theme.sidebar.textColor} !important;\r\n    border-top: 1px solid ${darken(0.1, theme.sidebar.backgroundColor)};\r\n    padding: ${theme.spacing.unit}px 0;\r\n    display: block;\r\n  }\r\n`};\r\n`;","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { MenuStore } from '../../services/MenuStore';\r\nimport { RedocNormalizedOptions, RedocRawOptions } from '../../services/RedocNormalizedOptions';\r\nimport styled, { media } from '../../styled-components';\r\nimport { IS_BROWSER } from '../../utils/index';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport { AnimatedChevronButton } from './ChevronSvg';\r\n\r\nlet Stickyfill;\r\nif (IS_BROWSER) {\r\n  Stickyfill = require('stickyfill');\r\n}\r\n\r\nexport interface StickySidebarProps {\r\n  className?: string;\r\n  scrollYOffset?: RedocRawOptions['scrollYOffset']; // passed directly or via context\r\n  menu: MenuStore;\r\n}\r\n\r\nexport interface StickySidebarState {\r\n  offsetTop?: string;\r\n}\r\n\r\nconst stickyfill = Stickyfill && Stickyfill();\r\n\r\nconst StyledStickySidebar = styled.div<{ open?: boolean }>`\r\n  width: ${props => props.theme.sidebar.width};\r\n  background-color: ${props => props.theme.sidebar.backgroundColor};\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  backface-visibility: hidden;\r\n  /* contain: strict; TODO: breaks layout since Chrome 80*/\r\n\r\n  height: 100vh;\r\n  position: sticky;\r\n  position: -webkit-sticky;\r\n  top: 0;\r\n\r\n  ${media.lessThan('small')`\r\n    position: fixed;\r\n    z-index: 20;\r\n    width: 100%;\r\n    background: ${({ theme }) => theme.sidebar.backgroundColor};\r\n    display: ${props => (props.open ? 'flex' : 'none')};\r\n  `};\r\n\r\n  @media print {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst FloatingButton = styled.div`\r\n  outline: none;\r\n  user-select: none;\r\n  background-color: #f2f2f2;\r\n  color: ${props => props.theme.colors.primary.main};\r\n  display: none;\r\n  cursor: pointer;\r\n  position: fixed;\r\n  right: 20px;\r\n  z-index: 100;\r\n  border-radius: 50%;\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\r\n  ${media.lessThan('small')`\r\n    display: flex;\r\n  `};\r\n\r\n  bottom: 44px;\r\n\r\n  width: 60px;\r\n  height: 60px;\r\n  padding: 0 20px;\r\n\r\n  @media print {\r\n    display: none;\r\n  }\r\n`;\r\n\r\n@observer\r\nexport class StickyResponsiveSidebar extends React.Component<\r\n  StickySidebarProps,\r\n  StickySidebarState\r\n> {\r\n  static contextType = OptionsContext;\r\n  context!: React.ContextType<typeof OptionsContext>;\r\n  state: StickySidebarState = { offsetTop: '0px' };\r\n\r\n  stickyElement: Element;\r\n\r\n  componentDidMount() {\r\n    if (stickyfill) {\r\n      stickyfill.add(this.stickyElement);\r\n    }\r\n\r\n    // rerender when hydrating from SSR\r\n    // see https://github.com/facebook/react/issues/8017#issuecomment-256351955\r\n    this.setState({\r\n      offsetTop: this.getScrollYOffset(this.context),\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (stickyfill) {\r\n      stickyfill.remove(this.stickyElement);\r\n    }\r\n  }\r\n\r\n  getScrollYOffset(options: RedocNormalizedOptions) {\r\n    let top;\r\n    if (this.props.scrollYOffset !== undefined) {\r\n      top = RedocNormalizedOptions.normalizeScrollYOffset(this.props.scrollYOffset)();\r\n    } else {\r\n      top = options.scrollYOffset();\r\n    }\r\n    return top + 'px';\r\n  }\r\n\r\n  render() {\r\n    const open = this.props.menu.sideBarOpened;\r\n\r\n    const top = this.state.offsetTop;\r\n\r\n    return (\r\n      <>\r\n        <StyledStickySidebar\r\n          open={open}\r\n          className={this.props.className}\r\n          style={{\r\n            top,\r\n            height: `calc(100vh - ${top})`,\r\n          }}\r\n          // tslint:disable-next-line\r\n          ref={el => {\r\n            this.stickyElement = el as any;\r\n          }}\r\n        >\r\n          {this.props.children}\r\n        </StyledStickySidebar>\r\n        <FloatingButton onClick={this.toggleNavMenu}>\r\n          <AnimatedChevronButton open={open} />\r\n        </FloatingButton>\r\n      </>\r\n    );\r\n  }\r\n\r\n  private toggleNavMenu = () => {\r\n    this.props.menu.toggleSidebar();\r\n  };\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { ShelfIcon } from '../../common-elements/shelfs';\r\nimport { IMenuItem, OperationModel } from '../../services';\r\nimport { shortenHTTPVerb } from '../../utils/openapi';\r\nimport { MenuItems } from './MenuItems';\r\nimport { MenuItemLabel, MenuItemLi, MenuItemTitle } from './styled.elements';\r\nimport { OperationBadge } from '../../common-elements'\r\nimport { l } from '../../services/Labels';\r\n\r\nexport interface MenuItemProps {\r\n  item: IMenuItem;\r\n  onActivate?: (item: IMenuItem) => void;\r\n  withoutChildren?: boolean;\r\n}\r\n\r\n@observer\r\nexport class MenuItem extends React.Component<MenuItemProps> {\r\n  ref = React.createRef<HTMLLabelElement>();\r\n\r\n  activate = (evt: React.MouseEvent<HTMLElement>) => {\r\n    this.props.onActivate!(this.props.item);\r\n    evt.stopPropagation();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.scrollIntoViewIfActive();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.scrollIntoViewIfActive();\r\n  }\r\n\r\n  scrollIntoViewIfActive() {\r\n    if (this.props.item.active && this.ref.current) {\r\n      this.ref.current.scrollIntoViewIfNeeded();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { item, withoutChildren } = this.props;\r\n    return (\r\n      <MenuItemLi onClick={this.activate} depth={item.depth} data-item-id={item.id}>\r\n        {item.type === 'operation' ? (\r\n          <OperationMenuItemContent {...this.props} item={item as OperationModel} />\r\n        ) : (\r\n          <MenuItemLabel depth={item.depth} active={item.active} type={item.type} ref={this.ref}>\r\n            <MenuItemTitle title={item.name}>\r\n              {item.name}\r\n              {this.props.children}\r\n            </MenuItemTitle>\r\n            {(item.depth > 0 && item.items.length > 0 && (\r\n              <ShelfIcon float={'right'} direction={item.expanded ? 'down' : 'right'} />\r\n            )) ||\r\n              null}\r\n          </MenuItemLabel>\r\n        )}\r\n        {!withoutChildren && item.items && item.items.length > 0 && (\r\n          <MenuItems\r\n            expanded={item.expanded}\r\n            items={item.items}\r\n            onActivate={this.props.onActivate}\r\n          />\r\n        )}\r\n      </MenuItemLi>\r\n    );\r\n  }\r\n}\r\n\r\nexport interface OperationMenuItemContentProps {\r\n  item: OperationModel;\r\n}\r\n\r\n@observer\r\nexport class OperationMenuItemContent extends React.Component<OperationMenuItemContentProps> {\r\n  ref = React.createRef<HTMLLabelElement>();\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.item.active && this.ref.current) {\r\n      this.ref.current.scrollIntoViewIfNeeded();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { item } = this.props;\r\n    return (\r\n      <MenuItemLabel\r\n        depth={item.depth}\r\n        active={item.active}\r\n        deprecated={item.deprecated}\r\n        ref={this.ref}\r\n      >\r\n        {item.isWebhook ? (\r\n          <OperationBadge type=\"hook\">{l('webhook')}</OperationBadge>\r\n        ) : (\r\n          <OperationBadge type={item.httpVerb}>{shortenHTTPVerb(item.httpVerb)}</OperationBadge>\r\n        )}\r\n        <MenuItemTitle active={item.active} width=\"calc(100% - 38px)\">\r\n          {item.name}\r\n          {this.props.children}\r\n        </MenuItemTitle>\r\n      </MenuItemLabel>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { IMenuItem } from '../../services';\r\n\r\nimport { MenuItem } from './MenuItem';\r\nimport { MenuItemUl } from './styled.elements';\r\n\r\nexport interface MenuItemsProps {\r\n  items: IMenuItem[];\r\n  expanded?: boolean;\r\n  onActivate?: (item: IMenuItem) => void;\r\n  style?: React.CSSProperties;\r\n  root?: boolean;\r\n\r\n  className?: string;\r\n}\r\n\r\n@observer\r\nexport class MenuItems extends React.Component<MenuItemsProps> {\r\n  render() {\r\n    const { items, root, className } = this.props;\r\n    const expanded = this.props.expanded == null ? true : this.props.expanded;\r\n    return (\r\n      <MenuItemUl\r\n        className={className}\r\n        style={this.props.style}\r\n        expanded={expanded}\r\n        {...(root ? { role: 'navigation' } : {})}\r\n      >\r\n        {items.map((item, idx) => (\r\n          <MenuItem key={idx} item={item} onActivate={this.props.onActivate} />\r\n        ))}\r\n      </MenuItemUl>\r\n    );\r\n  }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nimport { IMenuItem, MenuStore } from '../../services/MenuStore';\r\nimport { OptionsContext } from '../OptionsProvider';\r\nimport { MenuItems } from './MenuItems';\r\nimport { PerfectScrollbarWrap } from '../../common-elements/perfect-scrollbar';\r\n\r\n@observer\r\n\r\nexport class SideMenu extends React.Component<{ menu: MenuStore; className?: string; }> {\r\n  static contextType = OptionsContext;\r\n  private _updateScroll?: () => void;\r\n\r\n  render() {\r\n    const store = this.props.menu;\r\n    \r\n    return (\r\n      <>\r\n        <PerfectScrollbarWrap\r\n          updateFn={this.saveScrollUpdate}\r\n          className={this.props.className}\r\n          options={{\r\n            wheelPropagation: false,\r\n          }}\r\n        >\r\n          <MenuItems items={store.items} onActivate={this.activate} root={true} />\r\n        </PerfectScrollbarWrap>\r\n      </>\r\n\r\n    );\r\n  }\r\n\r\n  activate = (item: IMenuItem) => {\r\n    if (item && item.active && this.context.menuToggle) {\r\n      return item.expanded ? item.collapse() : item.expand();\r\n    }\r\n\r\n    this.props.menu.activateAndScroll(item, true);\r\n    setTimeout(() => {\r\n      if (this._updateScroll) {\r\n        this._updateScroll();\r\n      }\r\n    });\r\n  };\r\n\r\n  private saveScrollUpdate = upd => {\r\n    this._updateScroll = upd;\r\n  };\r\n}\r\n","import * as React from 'react';\r\n\r\nimport styled from '../../styled-components';\r\n\r\nexport const AnimatedChevronButton = ({ open }: { open: boolean }) => {\r\n  const iconOffset = open ? 8 : -4;\r\n\r\n  return (\r\n    <ChevronContainer>\r\n      <ChevronSvg\r\n        size={15}\r\n        style={{\r\n          transform: `translate(2px, ${iconOffset}px) rotate(180deg)`,\r\n          transition: 'transform 0.2s ease',\r\n        }}\r\n      />\r\n      <ChevronSvg\r\n        size={15}\r\n        style={{\r\n          transform: `translate(2px, ${0 - iconOffset}px)`,\r\n          transition: 'transform 0.2s ease',\r\n        }}\r\n      />\r\n    </ChevronContainer>\r\n  );\r\n};\r\n\r\n// adapted from reactjs.org\r\nconst ChevronSvg = ({ size = 10, className = '', style }) => (\r\n  <svg\r\n    className={className}\r\n    style={style || {}}\r\n    viewBox=\"0 0 926.23699 573.74994\"\r\n    version=\"1.1\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width={size}\r\n    height={size}\r\n  >\r\n    <g transform=\"translate(904.92214,-879.1482)\">\r\n      <path\r\n        d={`\r\n          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,\r\n          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,\r\n          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,\r\n          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,\r\n          -174.68583 0.6895,0 26.281,25.03215 56.8701,\r\n          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864\r\n          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,\r\n          -104.0616 -231.873,-231.248 z\r\n        `}\r\n        fill=\"currentColor\"\r\n      />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nconst ChevronContainer = styled.div`\r\n  user-select: none;\r\n  width: 20px;\r\n  height: 20px;\r\n  align-self: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: ${props => props.theme.colors.primary.main};\r\n`;\r\n","import styled, { media } from '../../styled-components';\r\n\r\nexport const RedocWrap = styled.div`\r\n  ${({ theme }) => `\r\n  font-family: ${theme.typography.fontFamily};\r\n  font-size: ${theme.typography.fontSize};\r\n  font-weight: ${theme.typography.fontWeightRegular};\r\n  line-height: ${theme.typography.lineHeight};\r\n  color: ${theme.colors.text.primary};\r\n  display: flex;\r\n  position: relative;\r\n  text-align: left;\r\n\r\n  -webkit-font-smoothing: ${theme.typography.smoothing};\r\n  font-smoothing: ${theme.typography.smoothing};\r\n  ${(theme.typography.optimizeSpeed && 'text-rendering: optimizeSpeed !important') || ''};\r\n\r\n  tap-highlight-color: rgba(0, 0, 0, 0);\r\n  text-size-adjust: 100%;\r\n\r\n  * {\r\n    box-sizing: border-box;\r\n    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\r\n  }\r\n`};\r\n`;\r\n\r\nexport const ApiContentWrap = styled.div`\r\n  z-index: 1;\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: calc(100% - ${props => props.theme.sidebar.width});\r\n  ${media.lessThan('small', true)`\r\n    width: 100%;\r\n  `};\r\n\r\n  contain: layout;\r\n`;\r\n\r\nexport const BackgroundStub = styled.div`\r\n  background: ${({ theme }) => theme.rightPanel.backgroundColor};\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: ${({ theme }) => {\r\n    if (theme.rightPanel.width.endsWith('%')) {\r\n      const percents = parseInt(theme.rightPanel.width, 10);\r\n      return `calc((100% - ${theme.sidebar.width}) * ${percents / 100})`;\r\n    } else {\r\n      return theme.rightPanel.width;\r\n    }\r\n  }};\r\n  ${media.lessThan('medium', true)`\r\n    display: none;\r\n  `};\r\n`;\r\n\r\n","import * as React from 'react';\r\n\r\nimport { darken, getLuminance, lighten } from 'polished';\r\nimport styled from '../../styled-components';\r\nimport { MenuItemLabel } from '../SideMenu/styled.elements';\r\n\r\nexport const SearchWrap = styled.div`\r\n  padding: 5px 0;\r\n`;\r\n\r\nexport const SearchInput = styled.input.attrs(() => ({\r\n  className: 'search-input',\r\n}))`\r\n  width: calc(100% - ${props => props.theme.spacing.unit * 8}px);\r\n  box-sizing: border-box;\r\n  margin: 0 ${props => props.theme.spacing.unit * 4}px;\r\n  padding: 5px ${props => props.theme.spacing.unit * 2}px 5px\r\n    ${props => props.theme.spacing.unit * 4}px;\r\n  border: 0;\r\n  border-bottom: 1px solid\r\n    ${({ theme }) =>\r\n      (getLuminance(theme.sidebar.backgroundColor) > 0.5 ? darken : lighten)(\r\n        0.1,\r\n        theme.sidebar.backgroundColor,\r\n      )};\r\n  font-family: ${({ theme }) => theme.typography.fontFamily};\r\n  font-weight: bold;\r\n  font-size: 13px;\r\n  color: ${props => props.theme.sidebar.textColor};\r\n  background-color: transparent;\r\n  outline: none;\r\n`;\r\n\r\nexport const SearchIcon = styled((props: { className?: string }) => (\r\n  <svg\r\n    className={props.className}\r\n    version=\"1.1\"\r\n    viewBox=\"0 0 1000 1000\"\r\n    x=\"0px\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    y=\"0px\"\r\n  >\r\n    <path d=\"M968.2,849.4L667.3,549c83.9-136.5,66.7-317.4-51.7-435.6C477.1-25,252.5-25,113.9,113.4c-138.5,138.3-138.5,362.6,0,501C219.2,730.1,413.2,743,547.6,666.5l301.9,301.4c43.6,43.6,76.9,14.9,104.2-12.4C981,928.3,1011.8,893,968.2,849.4z M524.5,522c-88.9,88.7-233,88.7-321.8,0c-88.9-88.7-88.9-232.6,0-321.3c88.9-88.7,233-88.7,321.8,0C613.4,289.4,613.4,433.3,524.5,522z\" />\r\n  </svg>\r\n)).attrs({\r\n  className: 'search-icon',\r\n})`\r\n  position: absolute;\r\n  left: ${props => props.theme.spacing.unit * 4}px;\r\n  height: 1.8em;\r\n  width: 0.9em;\r\n\r\n  path {\r\n    fill: ${props => props.theme.sidebar.textColor};\r\n  }\r\n`;\r\n\r\nexport const SearchResultsBox = styled.div`\r\n  padding: ${props => props.theme.spacing.unit}px 0;\r\n  background-color: ${({ theme }) => darken(0.05, theme.sidebar.backgroundColor)}};\r\n  color: ${props => props.theme.sidebar.textColor};\r\n  min-height: 150px;\r\n  max-height: 250px;\r\n  border-top: ${({ theme }) => darken(0.1, theme.sidebar.backgroundColor)}};\r\n  border-bottom: ${({ theme }) => darken(0.1, theme.sidebar.backgroundColor)}};\r\n  margin-top: 10px;\r\n  line-height: 1.4;\r\n  font-size: 0.9em;\r\n  \r\n  li {\r\n    background-color: inherit;\r\n  }\r\n\r\n  ${MenuItemLabel} {\r\n    padding-top: 6px;\r\n    padding-bottom: 6px;\r\n\r\n    &:hover,\r\n    &.active {\r\n      background-color: ${({ theme }) => darken(0.1, theme.sidebar.backgroundColor)};\r\n    }\r\n\r\n    > svg {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ClearIcon = styled.i`\r\n  position: absolute;\r\n  display: inline-block;\r\n  width: ${props => props.theme.spacing.unit * 2}px;\r\n  text-align: center;\r\n  right: ${props => props.theme.spacing.unit * 4}px;\r\n  line-height: 2em;\r\n  vertical-align: middle;\r\n  margin-right: 2px;\r\n  cursor: pointer;\r\n  font-style: normal;\r\n  color: '#666';\r\n`;\r\n","import * as React from 'react';\r\n\r\nimport { IMenuItem } from '../../services/MenuStore';\r\nimport { SearchStore } from '../../services/SearchStore';\r\nimport { MenuItem } from '../SideMenu/MenuItem';\r\n\r\nimport { MarkerService } from '../../services/MarkerService';\r\nimport { SearchResult } from '../../services/SearchWorker.worker';\r\n\r\nimport { bind, debounce } from 'decko';\r\nimport { PerfectScrollbarWrap } from '../../common-elements/perfect-scrollbar';\r\nimport {\r\n  ClearIcon,\r\n  SearchIcon,\r\n  SearchInput,\r\n  SearchResultsBox,\r\n  SearchWrap,\r\n} from './styled.elements';\r\nimport { l } from '../../services/Labels';\r\n\r\nexport interface SearchBoxProps {\r\n  search: SearchStore<string>;\r\n  marker: MarkerService;\r\n  getItemById: (id: string) => IMenuItem | undefined;\r\n  onActivate: (item: IMenuItem) => void;\r\n\r\n  className?: string;\r\n}\r\n\r\nexport interface SearchBoxState {\r\n  results: SearchResult[];\r\n  noResults: boolean;\r\n  term: string;\r\n  activeItemIdx: number;\r\n}\r\n\r\nexport class SearchBox extends React.PureComponent<SearchBoxProps, SearchBoxState> {\r\n  activeItemRef: MenuItem | null = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      results: [],\r\n      noResults: false,\r\n      term: '',\r\n      activeItemIdx: -1,\r\n    };\r\n  }\r\n\r\n  clearResults(term: string) {\r\n    this.setState({\r\n      results: [],\r\n      noResults: false,\r\n      term,\r\n    });\r\n    this.props.marker.unmark();\r\n  }\r\n\r\n  clear = () => {\r\n    this.setState({\r\n      results: [],\r\n      noResults: false,\r\n      term: '',\r\n      activeItemIdx: -1,\r\n    });\r\n    this.props.marker.unmark();\r\n  };\r\n\r\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.keyCode === 27) {\r\n      // ESQ\r\n      this.clear();\r\n    }\r\n    if (event.keyCode === 40) {\r\n      // Arrow down\r\n      this.setState({\r\n        activeItemIdx: Math.min(this.state.activeItemIdx + 1, this.state.results.length - 1),\r\n      });\r\n      event.preventDefault();\r\n    }\r\n    if (event.keyCode === 38) {\r\n      // Arrow up\r\n      this.setState({\r\n        activeItemIdx: Math.max(0, this.state.activeItemIdx - 1),\r\n      });\r\n      event.preventDefault();\r\n    }\r\n    if (event.keyCode === 13) {\r\n      // enter\r\n      const activeResult = this.state.results[this.state.activeItemIdx];\r\n      if (activeResult) {\r\n        const item = this.props.getItemById(activeResult.meta);\r\n        if (item) {\r\n          this.props.onActivate(item);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  setResults(results: SearchResult[], term: string) {\r\n    this.setState({\r\n      results,\r\n      noResults: results.length === 0,\r\n    });\r\n    this.props.marker.mark(term);\r\n  }\r\n\r\n  @bind\r\n  @debounce(400)\r\n  searchCallback(searchTerm: string) {\r\n    this.props.search.search(searchTerm).then(res => {\r\n      this.setResults(res, searchTerm);\r\n    });\r\n  }\r\n\r\n  search = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const q = event.target.value;\r\n    if (q.length < 3) {\r\n      this.clearResults(q);\r\n      return;\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        term: q,\r\n      },\r\n      () => this.searchCallback(this.state.term),\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { activeItemIdx } = this.state;\r\n    const results = this.state.results.map(res => ({\r\n      item: this.props.getItemById(res.meta)!,\r\n      score: res.score,\r\n    }));\r\n\r\n    results.sort((a, b) => b.score - a.score);\r\n\r\n    return (\r\n      <SearchWrap role=\"search\">\r\n        {this.state.term && <ClearIcon onClick={this.clear}>×</ClearIcon>}\r\n        <SearchIcon />\r\n        <SearchInput\r\n          value={this.state.term}\r\n          onKeyDown={this.handleKeyDown}\r\n          placeholder=\"Search...\"\r\n          aria-label=\"Search\"\r\n          type=\"text\"\r\n          onChange={this.search}\r\n        />\r\n        {results.length > 0 && (\r\n          <PerfectScrollbarWrap\r\n            options={{\r\n              wheelPropagation: false,\r\n            }}\r\n          >\r\n            <SearchResultsBox data-role=\"search:results\">\r\n              {results.map((res, idx) => (\r\n                <MenuItem\r\n                  item={Object.create(res.item, {\r\n                    active: {\r\n                      value: idx === activeItemIdx,\r\n                    },\r\n                  })}\r\n                  onActivate={this.props.onActivate}\r\n                  withoutChildren={true}\r\n                  key={res.item.id}\r\n                  data-role=\"search:result\"\r\n                />\r\n              ))}\r\n            </SearchResultsBox>\r\n          </PerfectScrollbarWrap>\r\n        )}\r\n        {this.state.term && this.state.noResults ? (\r\n          <SearchResultsBox data-role=\"search:results\">{l('noResultsFound')}</SearchResultsBox>\r\n        ) : null}\r\n      </SearchWrap>\r\n    );\r\n  }\r\n}\r\n","import styled from '../../styled-components';\r\n\r\nexport const ModalContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  pointer-events: none;\r\n  transition: opacity 300ms ease;\r\n  opacity: 0;\r\n  z-index: 999;\r\n\r\n  &.active {\r\n    opacity: 1;\r\n    pointer-events: all;\r\n  }\r\n`;\r\n\r\nexport const ModalInner = styled.div`\r\n  position: relative;\r\n  z-index: 2;\r\n  border-radius: 14px;\r\n  width: 600px;\r\n  max-width: calc(100vw - 30px);\r\n  background-color: ${({ theme }) => theme.modal.backgroundColor};\r\n  box-shadow: 0px 0px 28px 1px rgba(107, 107, 107, 0.180698);\r\n`;\r\n\r\nexport const ModalOverlay = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top:0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n  background-color: rgba(0,0,0, 0.1);\r\n`;\r\n\r\nexport const ModalTitle = styled.div`\r\n  padding: 1rem;\r\n  text-transform: uppercase;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 0.875rem;\r\n  color: ${({ theme }) => theme.colors.text.grey};\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.border.dark};\r\n`;\r\n\r\nexport const ModelContent = styled.div`\r\n  padding: 1.6rem;\r\n`;\r\n\r\nexport const ModalClose = styled.div`\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: opacity 300ms ease;\r\n  color: ${({ theme }) => theme.colors.text.primary};\r\n\r\n  svg {\r\n    width: 0.75rem;\r\n    height: 0.75rem;\r\n    fill: ${({ theme }) => theme.colors.text.primary};\r\n  }\r\n\r\n  &:hover {\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\n","import * as React from 'react';\r\n\r\nexport const IconClose = () => {\r\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"9.3px\" height=\"9.3px\" viewBox=\"0 0 9.3 9.3\">\r\n    <path d=\"M5.4,4.7l3.8-3.8c0.2-0.2,0.2-0.5,0-0.7S8.7,0,8.5,0.2L4.7,4L0.9,0.1C0.7,0,0.3,0,0.1,0.1C0,0.3,0,0.7,0.1,0.9L4,4.7L0.2,8.5C0,8.7,0,9,0.2,9.2c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1l3.8-3.8l3.8,3.8c0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7L5.4,4.7z\" />\r\n  </svg>\r\n}","import * as React from 'react';\r\nimport { FunctionComponent, useState, useEffect } from 'react';\r\nimport { ModalContainer, ModalInner, ModalOverlay, ModalTitle, ModelContent, ModalClose } from \"./styled.elements\";\r\nimport { IconClose } from \"../Icons\"\r\n\r\ninterface componentInterface {\r\n  show: boolean;\r\n  onClose?: () => void;\r\n  title: string;\r\n}\r\n\r\nconst Modal: FunctionComponent<componentInterface> = (props) => {\r\n\r\n  const { show, onClose, children, title } = props\r\n  const [delayedShow, setDelayedShow] = useState(show)\r\n\r\n  useEffect(() => {\r\n    setDelayedShow(show)\r\n  }, [show])\r\n\r\n  const onModalClose = () => {\r\n    if (onClose) onClose()\r\n    setDelayedShow(false)\r\n  }\r\n\r\n  return <ModalContainer className={`${delayedShow ? \"active\" : \"\"}`}>\r\n    <ModalOverlay className={`${delayedShow ? \"active\" : \"\"}`} onClick={onModalClose} />\r\n    <ModalInner>\r\n      <ModalTitle>\r\n        <span>{title}</span>\r\n        <ModalClose onClick={onModalClose}>\r\n          <IconClose />\r\n        </ModalClose>\r\n      </ModalTitle>\r\n      <ModelContent>{children}</ModelContent>\r\n    </ModalInner>\r\n  </ModalContainer>\r\n}\r\n\r\n\r\nexport default Modal","import styled from '../../styled-components';\r\n\r\nexport const AuthorizationButtonsRow = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n\r\n  > * {\r\n    margin-left: 1rem;\r\n  }\r\n`;\r\n\r\nexport const AuthorizationRow = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  > * {\r\n    &:first-child{\r\n      width: 160px;\r\n    }\r\n    &:last-child{\r\n      width: calc(100% - 160px);\r\n      padding-left: 2rem;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const AuthorizationLabel = styled.div`\r\n  font-size: 1rem;\r\n  color: ${({theme})=>theme.colors.text.primary};\r\n`;","import styled from '../../styled-components';\r\nimport { transparentize } from 'polished';\r\n\r\nexport const SelectContainer = styled.div`\r\n  position: relative;\r\n  z-index: 99;\r\n`;\r\n\r\nexport const SelectInput = styled.input`\r\n  background-color: transparent;\r\n  border: none;\r\n  outline: none;\r\n  box-shadow: none;\r\n  cursor: pointer;\r\n  border-radius: 25px;\r\n  border: 1px solid ${({theme}) => theme.colors.border.dark};\r\n  padding: 0 1.4rem;\r\n  padding-right: 3rem;\r\n  height: 40px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1rem;\r\n\r\n  &::placeholder{\r\n    color: ${({ theme }) => theme.modal.titleColor}\r\n  }\r\n`;\r\n\r\nexport const OptionContainer = styled.li`\r\n  padding: 0.5rem 1rem;\r\n  transition: color 300ms ease;\r\n  cursor: pointer;\r\n  background-color: ${({theme}) => theme.colors.light.main};\r\n  border-bottom: 1px solid ${({theme}) => theme.colors.border.dark};\r\n\r\n  &:hover {\r\n    color: ${({theme})=> theme.colors.primary.main};\r\n    background-color: ${({theme})=> theme.colors.gray[50]};\r\n  }\r\n\r\n  &.active {\r\n    background-color: ${({theme})=> theme.colors.gray[50]};\r\n  }\r\n`;\r\n\r\nexport const SelectList = styled.ul`\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n  position: absolute;\r\n  border-radius: 25px;\r\n  overflow: hidden;\r\n  bottom: 0;\r\n  left: 0;\r\n  transform: translateY(100%);\r\n  z-index: 2;\r\n  box-shadow: 0px 0px 28px 1px rgba(107, 107, 107, 0.180698);\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  transition: opacity 300ms ease;\r\n\r\n  &.active {\r\n    opacity: 1;\r\n    pointer-events: all;\r\n  }\r\n`;\r\n\r\nexport const SelectIcon = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  right: 1rem;\r\n  transition: all 300ms ease;\r\n  pointer-events: none;\r\n\r\n  path {\r\n    fill: ${({theme}) => transparentize(0.4, theme.colors.text.primary)}\r\n  }\r\n\r\n  &.active {\r\n    transform: translateY(-50%) rotate(-180deg);\r\n  }\r\n`;\r\n","import * as React from 'react';\r\nimport { FunctionComponent, useState, useEffect, useRef } from 'react';\r\nimport { SelectContainer, SelectInput, OptionContainer, SelectList, SelectIcon } from \"./styled.elements\";\r\nimport { l } from '../../services/Labels';\r\nimport { ShelfIcon } from \"../../common-elements/shelfs\"\r\n\r\ninterface componentInterface {\r\n  onChange?: (e: { value: string, label: string }) => void;\r\n  options?: Array<{ value: string, label: string }>;\r\n  placeholder?: string;\r\n  style?: object;\r\n  value?: { value: string, label: string }\r\n}\r\n\r\nconst Select: FunctionComponent<componentInterface> = (props) => {\r\n\r\n  const { onChange, options, placeholder, style, value } = props\r\n  const [selected, setSelected] = useState({ value: \"\", label: \"\" })\r\n  const [active, setActive] = useState(false)\r\n  const isCanClose = useRef(true)\r\n\r\n  useEffect(() => {\r\n    if (value) setSelected(value)\r\n  }, [value])\r\n\r\n  const onSelectChange = (item: { value: string, label: string }) => {\r\n    if (onChange) onChange(item)\r\n    setActive(false)\r\n    setSelected(item)\r\n  }\r\n\r\n  return <SelectContainer style={{ ...style }} className={`${active ? \"active\" : \"\"}`}>\r\n    <SelectIcon>\r\n      <ShelfIcon size={'0.875rem'} direction={active ? 'up' : 'down'} />\r\n    </SelectIcon>\r\n    <SelectInput\r\n      placeholder={placeholder ? placeholder : l(\"PleaseSelect\")}\r\n      onFocus={() => setActive(true)}\r\n      onBlur={() => { if (isCanClose.current) setActive(false) }}\r\n      value={selected.label}\r\n      onChange={() => { }}\r\n    />\r\n    <SelectList\r\n      onMouseEnter={() => isCanClose.current = false}\r\n      onMouseLeave={() => isCanClose.current = true}\r\n      className={`${active ? \"active\" : \"\"}`}\r\n    >\r\n      {options?.map((item, i) => (\r\n        <OptionContainer\r\n          key={`op-${i}`}\r\n          onClick={() => onSelectChange(item)}\r\n          className={`${item.value == selected.value ? \"active\" : \"\"}`}\r\n        >\r\n          {item.label}\r\n        </OptionContainer>\r\n      ))}\r\n    </SelectList>\r\n  </SelectContainer>\r\n}\r\n\r\nexport default Select;\r\n","import styled from '../../styled-components';\r\nimport { transparentize } from 'polished';\r\n\r\nexport const InputContainer = styled.div`\r\n  position: relative;\r\n  border-bottom: 1px solid ${({theme}) => theme.colors.text.primary};\r\n`;\r\n\r\nexport const InputElement = styled.input`\r\n  border: none;\r\n  outline: none;\r\n  padding-right: 2rem;\r\n  width: 100%;\r\n  font-size: 1rem;\r\n  line-height: 40px;\r\n  background-color: transparent;\r\n\r\n  &[disabled]{\r\n    background-color: inherit;\r\n    opacity: 0.5;\r\n  }\r\n\r\n  &::placeholder{\r\n    color:  ${({theme}) => transparentize(0.5, theme.colors.text.primary)};\r\n  }\r\n  \r\n  &.active {\r\n    opacity: 1;\r\n    pointer-events: all;\r\n  }\r\n`;\r\n\r\nexport const InputClear = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  right: 0;\r\n  color: ${({theme}) => theme.colors.text.primary};\r\n  opacity: 0.6;\r\n  cursor: pointer;\r\n  transition: opacity 300ms ease;\r\n\r\n  svg {\r\n    path {\r\n      fill: ${({theme}) => theme.colors.text.primary};\r\n    }\r\n  }\r\n\r\n  &.disabled {\r\n    display: none;\r\n  }\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\n\r\n\r\n","import * as React from 'react';\r\nimport { FunctionComponent, useState, useEffect } from 'react';\r\nimport { InputContainer, InputElement, InputClear } from \"./styled.elements\";\r\nimport { IconClose } from \"../Icons\"\r\n\r\ninterface componentInterface {\r\n  value?: string;\r\n  placeholder?: string;\r\n  disabled?: boolean;\r\n  onChange?: (e: string) => void;\r\n}\r\n\r\nconst Input: FunctionComponent<componentInterface> = (props) => {\r\n\r\n  const { value, onChange, placeholder, disabled } = props\r\n  const [active, setActive] = useState(false)\r\n  const [inputValue, setInputValue] = useState(value)\r\n\r\n  useEffect(()=>{\r\n    setInputValue(value)\r\n  }, [value])\r\n\r\n  return <InputContainer className={`${active ? \"active\" : \"\"}`}>\r\n    {inputValue &&\r\n      <InputClear className={`${disabled ? \"disabled\" : \"\"}`} onClick={()=>{\r\n        setInputValue(\"\")\r\n        if (onChange) onChange(\"\")\r\n        }}>\r\n        <IconClose />\r\n      </InputClear>\r\n    }\r\n    <InputElement\r\n      value={inputValue}\r\n      onFocus={() => setActive(true)}\r\n      onBlur={() => setActive(false)}\r\n      disabled={disabled}\r\n      onChange={(e) => {\r\n        if (onChange) onChange(e.target.value)\r\n        setInputValue(e.target.value)\r\n      }\r\n      }\r\n      placeholder={placeholder ? placeholder : \"\"}\r\n    />\r\n  </InputContainer>\r\n}\r\n\r\n\r\nexport default Input","import * as React from 'react';\r\nimport { FunctionComponent, useState, useEffect } from 'react';\r\nimport Modal from \"../Modal/Modal\";\r\nimport { AuthorizationButtonsRow, AuthorizationRow, AuthorizationLabel } from \"./styled.elements\";\r\nimport { l } from '../../services/Labels';\r\nimport { Button } from \"../../common-elements/buttons\";\r\nimport Select from \"../Select\"\r\nimport Input from \"../Input\"\r\nimport { isAuth } from \"../../utils/auth\"\r\n\r\ninterface componentInterface {\r\n  show: boolean;\r\n  onClose?: () => void;\r\n}\r\n\r\nexport const ModalAuth: FunctionComponent<componentInterface> = (props) => {\r\n\r\n  const { show, onClose } = props\r\n  const [selectedType, setSelectedType] = useState({ value: \"\", label: \"\" })\r\n  const [apiKey, setApiKey] = useState(\"\")\r\n  const [apiId, setApiId] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'object' || typeof window !== 'undefined') {\r\n      const localAuth = localStorage.getItem(\"auth\")\r\n\r\n      if (localAuth) {\r\n        const localJsonAuth = JSON.parse(localAuth)\r\n        setSelectedType({ value: localJsonAuth.type, label: localJsonAuth.type })\r\n        if (localJsonAuth.data?.key) setApiKey(localJsonAuth.data.key)\r\n        if (localJsonAuth.data?.id) setApiId(localJsonAuth.data.id)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  const onAuthorize = () => {\r\n    if (isAuth()) {\r\n      onUnauthorize()\r\n    } else {\r\n      if (typeof window === 'object' || typeof window !== 'undefined') {\r\n        if (selectedType.value == \"Hawk\") localStorage.setItem(\"auth\", JSON.stringify({ type: selectedType.value, data: { key: apiKey, id: apiId } }))\r\n      }\r\n      if (onClose) onClose()\r\n    }\r\n  }\r\n\r\n  const isDisabled = (): boolean => {\r\n    return (apiKey && apiId) ? false : true\r\n  }\r\n\r\n  const onCancel = () => {\r\n    if (onClose) onClose()\r\n  }\r\n\r\n  const onUnauthorize = () => {\r\n    setSelectedType({ value: \"\", label: \"\" })\r\n    setApiKey(\"\")\r\n    setApiId(\"\")\r\n    if (typeof window === 'object' || typeof window !== 'undefined') {\r\n      localStorage.removeItem(\"auth\")\r\n    }\r\n  }\r\n\r\n  return <Modal\r\n    onClose={() => {\r\n      if (onClose) onClose()\r\n    }}\r\n    title={l(\"authorization\")}\r\n    show={show}>\r\n    <AuthorizationRow style={{ marginBottom: \"1rem\" }}>\r\n      <div>\r\n        <AuthorizationLabel>\r\n          {l(\"Authorizationtype\")}:\r\n        </AuthorizationLabel>\r\n      </div>\r\n      <div>\r\n        <Select\r\n          onChange={(e) => setSelectedType(e)}\r\n          options={[\r\n            { value: l(\"Hawk\"), label: l(\"Hawk\") }\r\n          ]}\r\n          value={selectedType}\r\n          placeholder={l(\"SelectAuthType\")}\r\n        />\r\n      </div>\r\n    </AuthorizationRow>\r\n    {selectedType.value === \"Hawk\" &&\r\n      <>\r\n        <AuthorizationRow style={{ marginBottom: \"1rem\" }}>\r\n          <div>\r\n            <AuthorizationLabel>\r\n              {l(\"APIkey\")}:\r\n            </AuthorizationLabel>\r\n          </div>\r\n          <div>\r\n            <Input disabled={isAuth()} value={apiKey} placeholder={l(\"EnterAPIkey\")} onChange={setApiKey} />\r\n          </div>\r\n        </AuthorizationRow>\r\n        <AuthorizationRow style={{ marginBottom: \"1.6rem\" }}>\r\n          <div>\r\n            <AuthorizationLabel>\r\n              {l(\"APIID\")}:\r\n            </AuthorizationLabel>\r\n          </div>\r\n          <div>\r\n            <Input disabled={isAuth()} value={apiId} placeholder={l(\"EnterAPIID\")} onChange={setApiId} />\r\n          </div>\r\n        </AuthorizationRow>\r\n      </>\r\n    }\r\n    <AuthorizationButtonsRow>\r\n      <Button\r\n        className=\"outline secondary\"\r\n        onClick={onCancel}>\r\n        {l(\"Close\")}\r\n      </Button>\r\n      <Button disabled={isDisabled()} onClick={onAuthorize}>{l(isAuth() ? \"Logout\" : \"authorize\")}</Button>\r\n    </AuthorizationButtonsRow>\r\n  </Modal>\r\n}","import * as PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\n\r\nimport { ThemeProvider } from '../../styled-components';\r\nimport { OptionsProvider } from '../OptionsProvider';\r\n\r\nimport { AppStore } from '../../services';\r\nimport { ApiInfo } from '../ApiInfo/';\r\nimport { ContentItems } from '../ContentItems/ContentItems';\r\nimport { SideMenu } from '../SideMenu/SideMenu';\r\nimport { StickyResponsiveSidebar } from '../StickySidebar/StickyResponsiveSidebar';\r\nimport { ApiContentWrap, BackgroundStub, RedocWrap } from './styled.elements';\r\n\r\nimport { SearchBox } from '../SearchBox/SearchBox';\r\nimport { StoreProvider } from '../StoreBuilder';\r\nimport { ModalAuth } from '../Modals';\r\nimport { l } from '../../services/Labels';\r\nimport { RowAuthorize } from \"../../common-elements/fields-layout\";\r\nimport { Button } from \"../../common-elements/buttons\";\r\nimport { IconLock } from '../../common-elements';\r\nimport { isAuth } from \"../../utils/auth\"\r\n\r\nexport interface RedocProps {\r\n  store: AppStore;\r\n}\r\n\r\nexport class Redoc extends React.Component<RedocProps> {\r\n\r\n  state = {\r\n    showAuthorization: false,\r\n  };\r\n\r\n  static propTypes = {\r\n    store: PropTypes.instanceOf(AppStore).isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.store.onDidMount();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.store.dispose();\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      store: { menu, options, search, marker },\r\n    } = this.props;\r\n    const store = this.props.store;\r\n\r\n    return (\r\n      <ThemeProvider theme={options.theme}>\r\n        <StoreProvider value={store}>\r\n          <OptionsProvider value={options}>\r\n            <RedocWrap className=\"redoc-wrap\">\r\n              <StickyResponsiveSidebar menu={menu} className=\"menu-content\">\r\n                {(!options.disableSearch && (\r\n                  <SearchBox\r\n                    search={search!}\r\n                    marker={marker}\r\n                    getItemById={menu.getItemById}\r\n                    onActivate={menu.activateAndScroll}\r\n                  />\r\n                )) ||\r\n                  null}\r\n                <RowAuthorize>\r\n                  <IconLock isLocked={isAuth()} style={{ marginRight: \"1rem\" }} />\r\n                  <Button style={{ width: \"100%\" }} onClick={() => this.setState({ showAuthorization: true })}>{l(\"authorize\")}</Button>\r\n                </RowAuthorize>\r\n                <SideMenu menu={menu} />\r\n              </StickyResponsiveSidebar>\r\n              <ApiContentWrap className=\"api-content\">\r\n                <ApiInfo store={store} />\r\n                <ContentItems items={menu.items as any} />\r\n              </ApiContentWrap>\r\n              <BackgroundStub />\r\n              <ModalAuth show={this.state.showAuthorization} onClose={() => this.setState({ showAuthorization: false })} />\r\n            </RedocWrap>\r\n          </OptionsProvider>\r\n        </StoreProvider>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport {\r\n  argValueToBoolean,\r\n  RedocNormalizedOptions,\r\n  RedocRawOptions,\r\n} from '../services/RedocNormalizedOptions';\r\nimport { ErrorBoundary } from './ErrorBoundary';\r\nimport { Loading } from './Loading/Loading';\r\nimport { Redoc } from './Redoc/Redoc';\r\nimport { StoreBuilder } from './StoreBuilder';\r\n\r\nexport interface RedocStandaloneProps {\r\n  spec?: object;\r\n  specUrl?: string;\r\n  options?: RedocRawOptions;\r\n  onLoaded?: (e?: Error) => any;\r\n}\r\n\r\nexport const RedocStandalone = function (props: RedocStandaloneProps) {\r\n  const { spec, specUrl, options = {}, onLoaded } = props;\r\n  const hideLoading = argValueToBoolean(options.hideLoading, false);\r\n\r\n  const normalizedOpts = new RedocNormalizedOptions(options);\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <StoreBuilder spec={spec} specUrl={specUrl} options={options} onLoaded={onLoaded}>\r\n        {({ loading, store }) =>\r\n          !loading ? (\r\n            <Redoc store={store!} />\r\n          ) : hideLoading ? null : (\r\n            <Loading color={normalizedOpts.theme.colors.primary.main} />\r\n          )\r\n        }\r\n      </StoreBuilder>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n","import * as React from 'react';\r\nimport styled from '../../styled-components';\r\n\r\nexport const LogoImgEl = styled.img`\r\n  max-height: ${props => props.theme.logo.maxHeight};\r\n  max-width: ${props => props.theme.logo.maxWidth};\r\n  padding: ${props => props.theme.logo.gutter};\r\n  width: 100%;\r\n  display: block;\r\n`;\r\n\r\nexport const LogoWrap = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst Link = styled.a`\r\n  display: inline-block;\r\n`;\r\n\r\n// eslint-disable-next-line react/display-name\r\nexport const LinkWrap = url => Component => <Link href={url}>{Component}</Link>;\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport { OpenAPIInfo } from '../../types';\r\nimport { LinkWrap, LogoImgEl, LogoWrap } from './styled.elements';\r\n\r\n@observer\r\nexport class ApiLogo extends React.Component<{ info: OpenAPIInfo }> {\r\n  render() {\r\n    const { info } = this.props;\r\n    const logoInfo = info['x-logo'];\r\n    if (!logoInfo || !logoInfo.url) {\r\n      return null;\r\n    }\r\n\r\n    const logoHref = logoInfo.href || (info.contact && info.contact.url);\r\n\r\n    // Use the english word logo if no alt text is provided\r\n    const altText = logoInfo.altText ? logoInfo.altText : 'logo';\r\n\r\n    const logo = <LogoImgEl src={logoInfo.url} alt={altText} />;\r\n    return (\r\n      <LogoWrap style={{ backgroundColor: logoInfo.backgroundColor }}>\r\n        {logoHref ? LinkWrap(logoHref)(logo) : logo}\r\n      </LogoWrap>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}